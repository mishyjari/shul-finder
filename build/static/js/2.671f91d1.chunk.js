/*! For license information please see 2.671f91d1.chunk.js.LICENSE.txt */
(this["webpackJsonpshul-finder"]=this["webpackJsonpshul-finder"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(47)},function(e,t,n){"use strict";e.exports=n(46)},function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return i}))},function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var a=o.apply(null,i);a&&e.push(a)}else if("object"===r)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){e.exports=n(52)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(2);var i=n(0),o=n.n(i),r=o.a.createContext({});r.Consumer,r.Provider;function a(e,t){var n=Object(i.useContext)(r);return e||n[t]||t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v}));var i=n(8),o=n(0),r=n.n(o),a=(n(5),n(13)),s=n(39),l=n(12),c=n(2),u=n(40),h=n.n(u),d=(n(42),n(3)),p=(n(44),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),m=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(i.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return r.a.createElement(m.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.a.Component);r.a.Component;r.a.Component;var g={},_=0;function v(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,o=n.exact,r=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(i).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=g[n]||(g[n]={});if(i[e])return i[e];var o=[],r={regexp:h()(e,o,t),keys:o};return _<1e4&&(i[e]=r,_++),r}(n,{end:r,strict:s,sensitive:c}),o=i.regexp,a=i.keys,l=o.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),p=e===u;return r&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var y=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this;return r.a.createElement(m.Consumer,null,(function(t){t||Object(l.a)(!1);var n=e.props.location||t.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?v(n.pathname,e.props):t.match,o=Object(c.a)({},t,{location:n,match:i}),a=e.props,s=a.children,u=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),r.a.createElement(m.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:u?r.a.createElement(u,o):h?h(o):null:"function"===typeof s?s(o):null)}))},t}(r.a.Component);function b(e){return"/"===e.charAt(0)?e:"/"+e}function w(e,t){if(!e)return t;var n=b(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function C(e){return"string"===typeof e?e:Object(a.e)(e)}function E(e){return function(){Object(l.a)(!1)}}function S(){}r.a.Component;var x=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this;return r.a.createElement(m.Consumer,null,(function(t){t||Object(l.a)(!1);var n,i,o=e.props.location||t.location;return r.a.Children.forEach(e.props.children,(function(e){if(null==i&&r.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;i=a?v(o.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),i?r.a.cloneElement(n,{location:o,computedMatch:i}):null}))},t}(r.a.Component);r.a.useContext},function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(25);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);var o=function(e){var t=Object(i.useRef)(e);return Object(i.useEffect)((function(){t.current=e}),[e]),t};function r(e){var t=o(e);return Object(i.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(2),o=n(3),r=n(4),a=n.n(r),s=/-(.)/g;var l=n(0),c=n.n(l),u=n(6),h=function(e){return e[0].toUpperCase()+(t=e,t.replace(s,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function d(e,t){var n=void 0===t?{}:t,r=n.displayName,s=void 0===r?h(e):r,l=n.Component,d=n.defaultProps,p=c.a.forwardRef((function(t,n){var r=t.className,s=t.bsPrefix,h=t.as,d=void 0===h?l||"div":h,p=Object(o.a)(t,["className","bsPrefix","as"]),m=Object(u.a)(s,e);return c.a.createElement(d,Object(i.a)({ref:n,className:a()(r,m)},p))}));return p.defaultProps=d,p.displayName=s,p}},function(e,t,n){"use strict";var i="Invariant failed";t.a=function(e,t){if(!e)throw new Error(i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return m}));var i=n(2);function o(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,i=n+1,o=e.length;i<o;n+=1,i+=1)e[n]=e[i];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),l=t&&o(t),c=s||l;if(e&&o(e)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var h=0,d=a.length;d>=0;d--){var p=a[d];"."===p?r(a,d):".."===p?(r(a,d),h++):h&&(r(a,d),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&o(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i])}));if("object"===typeof t||"object"===typeof n){var i=s(t),o=s(n);return i!==t||o!==n?e(i,o):Object.keys(Object.assign({},t,n)).every((function(i){return e(t[i],n[i])}))}return!1},c=n(12);function u(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function m(e){var t=e.pathname,n=e.search,i=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(o+="#"===i.charAt(0)?i:"#"+i),o}function f(e,t,n,o){var r;"string"===typeof e?(r=function(e){var t=e||"/",n="",i="",o=t.indexOf("#");-1!==o&&(i=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e)).state=t:(void 0===(r=Object(i.a)({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(r.key=n),o?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=a(r.pathname,o.pathname)):r.pathname=o.pathname:r.pathname||(r.pathname="/"),r}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function _(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,o){if(null!=e){var r="function"===typeof e?e(t,n):e;"string"===typeof r?"function"===typeof i?i(r,o):o(!0):o(!1!==r)}else o(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"===typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var b="popstate",w="hashchange";function C(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e,a=r.forceRefresh,s=void 0!==a&&a,l=r.getUserConfirmation,h=void 0===l?y:l,g=r.keyLength,E=void 0===g?6:g,S=e.basename?p(u(e.basename)):"";function x(e){var t=e||{},n=t.key,i=t.state,o=window.location,r=o.pathname+o.search+o.hash;return S&&(r=d(r,S)),f(r,i,n)}function k(){return Math.random().toString(36).substr(2,E)}var L=_();function T(e){Object(i.a)(U,e),U.length=t.length,L.notifyListeners(U.location,U.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(x(e.state))}function M(){P(x(C()))}var A=!1;function P(e){if(A)A=!1,T();else{L.confirmTransitionTo(e,"POP",h,(function(t){t?T({action:"POP",location:e}):function(e){var t=U.location,n=I.indexOf(t.key);-1===n&&(n=0);var i=I.indexOf(e.key);-1===i&&(i=0);var o=n-i;o&&(A=!0,z(o))}(e)}))}}var R=x(C()),I=[R.key];function N(e){return S+m(e)}function z(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?(window.addEventListener(b,O),o&&window.addEventListener(w,M)):0===D&&(window.removeEventListener(b,O),o&&window.removeEventListener(w,M))}var j=!1;var U={length:t.length,action:"POP",location:R,createHref:N,push:function(e,i){var o="PUSH",r=f(e,i,k(),U.location);L.confirmTransitionTo(r,o,h,(function(e){if(e){var i=N(r),a=r.key,l=r.state;if(n)if(t.pushState({key:a,state:l},null,i),s)window.location.href=i;else{var c=I.indexOf(U.location.key),u=I.slice(0,c+1);u.push(r.key),I=u,T({action:o,location:r})}else window.location.href=i}}))},replace:function(e,i){var o="REPLACE",r=f(e,i,k(),U.location);L.confirmTransitionTo(r,o,h,(function(e){if(e){var i=N(r),a=r.key,l=r.state;if(n)if(t.replaceState({key:a,state:l},null,i),s)window.location.replace(i);else{var c=I.indexOf(U.location.key);-1!==c&&(I[c]=r.key),T({action:o,location:r})}else window.location.replace(i)}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=L.setPrompt(e);return j||(F(1),j=!0),function(){return j&&(j=!1,F(-1)),t()}},listen:function(e){var t=L.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var S="hashchange",x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:u},slash:{encodePath:u,decodePath:u}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function L(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(k(window.location.href)+"#"+e)}function O(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,r=void 0===o?y:o,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?p(u(e.basename)):"",h=x[s],g=h.encodePath,b=h.decodePath;function w(){var e=b(L());return l&&(e=d(e,l)),f(e)}var C=_();function E(e){Object(i.a)(U,e),U.length=t.length,C.notifyListeners(U.location,U.action)}var O=!1,M=null;function A(){var e,t,n=L(),i=g(n);if(n!==i)T(i);else{var o=w(),a=U.location;if(!O&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(M===m(o))return;M=null,function(e){if(O)O=!1,E();else{var t="POP";C.confirmTransitionTo(e,t,r,(function(n){n?E({action:t,location:e}):function(e){var t=U.location,n=N.lastIndexOf(m(t));-1===n&&(n=0);var i=N.lastIndexOf(m(e));-1===i&&(i=0);var o=n-i;o&&(O=!0,z(o))}(e)}))}}(o)}}var P=L(),R=g(P);P!==R&&T(R);var I=w(),N=[m(I)];function z(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?window.addEventListener(S,A):0===D&&window.removeEventListener(S,A)}var j=!1;var U={length:t.length,action:"POP",location:I,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+g(l+m(e))},push:function(e,t){var n="PUSH",i=f(e,void 0,void 0,U.location);C.confirmTransitionTo(i,n,r,(function(e){if(e){var t=m(i),o=g(l+t);if(L()!==o){M=t,function(e){window.location.hash=e}(o);var r=N.lastIndexOf(m(U.location)),a=N.slice(0,r+1);a.push(t),N=a,E({action:n,location:i})}else E()}}))},replace:function(e,t){var n="REPLACE",i=f(e,void 0,void 0,U.location);C.confirmTransitionTo(i,n,r,(function(e){if(e){var t=m(i),o=g(l+t);L()!==o&&(M=t,T(o));var r=N.indexOf(m(U.location));-1!==r&&(N[r]=t),E({action:n,location:i})}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return j||(F(1),j=!0),function(){return j&&(j=!1,F(-1)),t()}},listen:function(e){var t=C.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function M(e,t,n){return Math.min(Math.max(e,t),n)}function A(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,r=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,u=_();function h(e){Object(i.a)(b,e),b.length=b.entries.length,u.notifyListeners(b.location,b.action)}function d(){return Math.random().toString(36).substr(2,c)}var p=M(s,0,r.length-1),g=r.map((function(e){return f(e,void 0,"string"===typeof e?d():e.key||d())})),v=m;function y(e){var t=M(b.index+e,0,b.entries.length-1),i=b.entries[t];u.confirmTransitionTo(i,"POP",n,(function(e){e?h({action:"POP",location:i,index:t}):h()}))}var b={length:g.length,action:"POP",location:g[p],index:p,entries:g,createHref:v,push:function(e,t){var i="PUSH",o=f(e,t,d(),b.location);u.confirmTransitionTo(o,i,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),h({action:i,location:o,index:t,entries:n})}}))},replace:function(e,t){var i="REPLACE",o=f(e,t,d(),b.location);u.confirmTransitionTo(o,i,n,(function(e){e&&(b.entries[b.index]=o,h({action:i,location:o}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return b}},function(e,t,n){"use strict";function i(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(14);function o(e,t){return function(e){var t=Object(i.a)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var r=/([A-Z])/g;var a=/^ms-/;function s(e){return function(e){return e.replace(r,"-$1").toLowerCase()}(e).replace(a,"-ms-")}var l=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.a=function(e,t){var n="",i="";if("string"===typeof t)return e.style.getPropertyValue(s(t))||o(e).getPropertyValue(s(t));Object.keys(t).forEach((function(o){var r=t[o];r||0===r?!function(e){return!(!e||!l.test(e))}(o)?n+=s(o)+": "+r+";":i+=o+"("+r+") ":e.style.removeProperty(s(o))})),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n}},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(48)},function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(4),a=n.n(r),s=n(28),l=n(0),c=n.n(l),u=n(8),h=(n(5),n(17)),d=n.n(h),p=!1,m=c.a.createContext(null),f="unmounted",g="exited",_="entering",v="entered",y="exiting",b=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(o=g,i.appearStatus=_):o=v:o=t.unmountOnExit||t.mountOnEnter?f:g,i.state={status:o},i.nextCallback=null,i}Object(u.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:g}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==_&&n!==v&&(t=_):n!==_&&n!==v||(t=y)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===_?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===g&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[d.a.findDOMNode(this),i],r=o[0],a=o[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||p?this.safeSetState({status:v},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,a),this.safeSetState({status:_},(function(){t.props.onEntering(r,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:v},(function(){t.props.onEntered(r,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:d.a.findDOMNode(this);t&&!p?(this.props.onExit(i),this.safeSetState({status:y},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:g},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:g},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:d.a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=o[0],a=o[1];this.props.addEndListener(r,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(o.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.a.createElement(m.Provider,{value:null},"function"===typeof n?n(e,i):c.a.cloneElement(c.a.Children.only(n),i))},t}(c.a.Component);function w(){}b.contextType=m,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:w,onEntering:w,onEntered:w,onExit:w,onExiting:w,onExited:w},b.UNMOUNTED=f,b.EXITED=g,b.ENTERING=_,b.ENTERED=v,b.EXITING=y;var C,E=b;var S=((C={}).entering="show",C.entered="show",C),x=c.a.forwardRef((function(e,t){var n=e.className,r=e.children,u=Object(o.a)(e,["className","children"]),h=Object(l.useCallback)((function(e){!function(e){e.offsetHeight}(e),u.onEnter&&u.onEnter(e)}),[u]);return c.a.createElement(E,Object(i.a)({ref:t,addEndListener:s.a},u,{onEnter:h}),(function(e,t){return c.a.cloneElement(r,Object(i.a)({},t,{className:a()("fade",n,r.props.className,S[e])}))}))}));x.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},x.displayName="Fade";t.a=x},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(5),a=n.n(r),s=n(0),l=n.n(s),c=n(4),u=n.n(c),h={label:a.a.string.isRequired,onClick:a.a.func},d=l.a.forwardRef((function(e,t){var n=e.label,r=e.onClick,a=e.className,s=Object(o.a)(e,["label","onClick","className"]);return l.a.createElement("button",Object(i.a)({ref:t,type:"button",className:u()("close",a),onClick:r},s),l.a.createElement("span",{"aria-hidden":"true"},"\xd7"),l.a.createElement("span",{className:"sr-only"},n))}));d.displayName="CloseButton",d.propTypes=h,d.defaultProps={label:"Close"},t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0);function o(e){var t=function(e){var t=Object(i.useRef)(e);return t.current=e,t}(e);Object(i.useEffect)((function(){return function(){return t.current()}}),[])}},function(e,t,n){"use strict";var i=n(27),o=n(24);t.a=function(e,t,n,r){return Object(i.a)(e,t,n,r),function(){Object(o.a)(e,t,n,r)}}},function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";t.a=function(e,t,n,i){var o=i&&"boolean"!==typeof i?i.capture:i;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(23);function o(e,t){if(e){if("string"===typeof e)return Object(i.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return _}));var i=n(7),o=n(8),r=n(0),a=n.n(r),s=n(13),l=(n(5),n(2)),c=n(3),u=n(12),h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).history=Object(s.a)(t.props),t}return Object(o.a)(t,e),t.prototype.render=function(){return a.a.createElement(i.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},m=function(e){return e},f=a.a.forwardRef;"undefined"===typeof f&&(f=m);var g=f((function(e,t){var n=e.innerRef,i=e.navigate,o=e.onClick,r=Object(c.a)(e,["innerRef","navigate","onClick"]),s=r.target,u=Object(l.a)({},r,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=m!==f&&t||n,a.a.createElement("a",u)}));var _=f((function(e,t){var n=e.component,o=void 0===n?g:n,r=e.replace,s=e.to,h=e.innerRef,_=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(i.d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=e.history,i=p(d(s,e.location),e.location),c=i?n.createHref(i):"",g=Object(l.a)({},_,{href:c,navigate:function(){var t=d(s,e.location);(r?n.replace:n.push)(t)}});return m!==f?g.ref=t||h:g.innerRef=h,a.a.createElement(o,g)}))})),v=function(e){return e},y=a.a.forwardRef;"undefined"===typeof y&&(y=v);y((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,r=e.activeClassName,s=void 0===r?"active":r,h=e.activeStyle,m=e.className,f=e.exact,g=e.isActive,b=e.location,w=e.sensitive,C=e.strict,E=e.style,S=e.to,x=e.innerRef,k=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(i.d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=b||e.location,r=p(d(S,n),n),c=r.pathname,L=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=L?Object(i.e)(n.pathname,{path:L,exact:f,sensitive:w,strict:C}):null,O=!!(g?g(T,n):T),M=O?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(m,s):m,A=O?Object(l.a)({},E,{},h):E,P=Object(l.a)({"aria-current":O&&o||null,className:M,style:A,to:r},k);return v!==y?P.ref=t||x:P.innerRef=x,a.a.createElement(_,P)}))}))},function(e,t,n){"use strict";var i=n(16),o=!1,r=!1;try{var a={get passive(){return o=!0},get once(){return r=o=!0}};i.a&&(window.addEventListener("test",a,a),window.removeEventListener("test",a,!0))}catch(s){}t.a=function(e,t,n,i){if(i&&"boolean"!==typeof i&&!r){var a=i.once,s=i.capture,l=n;!r&&a&&(l=n.__once||function e(i){this.removeEventListener(t,e,s),n.call(this,i)},n.__once=l),e.addEventListener(t,l,o?i:s)}e.addEventListener(t,n,i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(15),o=n(22);function r(e,t,n){void 0===n&&(n=5);var i=!1,r=setTimeout((function(){i||function(e){var t=document.createEvent("HTMLEvents");t.initEvent("transitionend",!0,!0),e.dispatchEvent(t)}(e)}),t+n),a=Object(o.a)(e,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(r),a()}}function a(e,t,n,a){null==n&&(n=function(e){var t=Object(i.a)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var s=r(e,n,a),l=Object(o.a)(e,"transitionend",t);return function(){s(),l()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0);function o(){var e=Object(i.useRef)(!0),t=Object(i.useRef)((function(){return e.current}));return Object(i.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},function(e,t,n){"use strict";var i=n(2),o=n(0),r=n.n(o),a=n(4),s=n.n(a);t.a=function(e){return r.a.forwardRef((function(t,n){return r.a.createElement("div",Object(i.a)({},t,{ref:n,className:s()(t.className,e)}))}))}},function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(0),a=n.n(r);var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e.apply(this,i),t.apply(this,i)}}),null)};function l(e){return!e||"#"===e.trim()}var c=a.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"a":n,c=e.disabled,u=e.onKeyDown,h=Object(o.a)(e,["as","disabled","onKeyDown"]),d=function(e){var t=h.href,n=h.onClick;(c||l(t))&&e.preventDefault(),c?e.stopPropagation():n&&n(e)};return l(h.href)&&(h.role=h.role||"button",h.href=h.href||"#"),c&&(h.tabIndex=-1,h["aria-disabled"]=!0),a.a.createElement(r,Object(i.a)({ref:t},h,{onClick:d,onKeyDown:s((function(e){" "===e.key&&(e.preventDefault(),d(e))}),u)}))}));c.displayName="SafeAnchor";t.a=c},,,function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))o.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var h=0;h<s.length;h++)r.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t,n){!function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var r=!1,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){(function(n){var i=e("@maps/localizer"),o=e("@maps/js-utils"),r=e("@maps/dom-events"),a=e("@maps/loaders").XHRLoader,s=e("@maps/loaders").Priority,l=o.isIE10()?window.location.protocol:"https:",c={url:l+"//cdn.apple-mapkit.com/ma/bootstrap",apiVersion:"2",accessKeyExpirationBiasMS:3e4},u={OK:200,MULTIPLE_CHOICES:300,UNAUTHORIZED:401,TOO_MANY_REQUESTS:429},h=["l10n","languageSupport","mkjsVersion","messagePrefix","poi"],d=["language","countryCode","origin","madabaBaseUrl","authorizationCallback"],p={READY:0,PENDING:1,ERROR:2},m="Initialized",f="Refreshed",g={Unauthorized:"Unauthorized",TooManyRequests:"Too Many Requests"},_="Apple",v="AutoNavi",y={HTTP:u,ErrorStatus:g,TILE_SOURCES:{TOMTOM:"TomTom",AUTONAVI:"AutoNavi"},Events:{Changed:"bootstrap-load",Error:"bootstrap-error"},States:p,StorageKeys:null,state:p.PENDING,authorizationCallback:null,tileProvider:_,_countryCode:null,_madabaBaseUrl:null,_customMadabaUrl:!1,_madabaDomains:null,_accessKey:null,_accessToken:null,apiBaseUrl:null,apiBaseUrlOverride:null,types:{},_acceptLanguage:null,_optionsLanguage:null,_bootstrapRequestParams:null,_messagePrefix:"Bootstrap.init(): ",withParameters:function(e){return h.forEach((function(t){t in e&&(this["_"+t]=e[t])}),this),this},init:function(e,t){if(o.required(e,t+"`options` object is required.",{checkNull:!0}).checkType(e,"object",t+"`options` object is invalid."),Object.keys(e).forEach((function(e){-1===d.indexOf(e)&&console.warn(t+"ignoring invalid option: `"+e+"`.")})),null===this.authorizationCallback){var n=e.authorizationCallback;o.required(n,t+"`options` is missing `authorizationCallback`.",{checkNull:!0}).checkType(n,"function",t+"`authorizationCallback` in `options` must be a function."),this.authorizationCallback=n,e.language&&(o.checkType(e.language,"string",t+"`language` in `options` must be a string."),this._optionsLanguage=e.language),o.isNode()&&e.origin&&(this.origin=e.origin),this.language=this._optionsLanguage,"countryCode"in e&&(this._countryCode=e.countryCode),e.madabaBaseUrl&&(this._madabaBaseUrl=e.madabaBaseUrl,this._customMadabaUrl=!0),this._loadFromServer()}else console.warn(t+"already initialized; ignoring.")},reloadFromServer:function(){this._clearLocalStorage(),this._loadFromServer()},get accessKey(){return this._accessKey},get accessToken(){return this._accessToken},accessKeyHasExpired:function(){this._clearLocalStorage(),this._loadFromServer(s.Highest)},get ready(){return this.state===p.READY},get language(){return this._language},set language(e){e!==this._language&&(e?o.checkType(e,"string","[MapKit] `language` must be a string or `null`."):e=this._acceptLanguage||this._getClientLanguage(),this._language=this._languageSupport.bestMatch(e,"en"),this._l10n.localeId=this._l10n.bestMatch(e,"en-US"))},get countryCode(){return this._countryCode},set countryCode(e){e!==this._countryCode&&(e&&(o.checkType(e,"string","[MapKit] `countryCode` must be a string or `null`."),e=e.toUpperCase()),this._countryCode=e,this._clearLocalStorage(),this._loadFromServer())},get isAutoNavi(){return this.tileProvider===v},syrupRequestedFallback:function(){this._syrupRequestedFallback=!0,setTimeout(function(){var e=new r.Event(this.Events.Changed);e.status=f,this.dispatchEvent(e)}.bind(this),0)},get canRunCSR(){return this.ready&&(!this._disableCsr||!!this.previewLoCSR)&&!this._syrupRequestedFallback},get madabaDomains(){return this._customMadabaUrl||!this._madabaDomains&&this._madabaBaseUrl?[this._madabaBaseUrl]:this._madabaDomains?this._madabaDomains:null},appendAuthOptions:function(e,t){return this.origin&&(e.origin=this.origin),this.authorizationCallback&&(e.headers={Authorization:o.fillTemplate("Bearer {{token}}",{token:t||this.accessToken})}),e},appendServiceAuthOptions:function(e){return this.isAutoNavi?e:this.appendAuthOptions(e)},loaderWillStart:function(e){this.state=p.PENDING},loaderDidSucceed:function(e,t){this._requestDidLoad(t)},loaderDidFail:function(e,t){this._parseError(e._xhr)},_clearLocalStorage:function(){this.StorageKeys&&o.supportsLocalStorage&&Object.keys(this.StorageKeys).forEach((function(e){window.localStorage.removeItem(this.StorageKeys[e])}),this)},_storeInLocalStorage:function(e,t,n){if(this.StorageKeys&&o.supportsLocalStorage)try{var i=Date.now()+1e3*n;window.localStorage.setItem(this.StorageKeys.BootstrapDataExpirationTimeMS,i),window.localStorage.setItem(this.StorageKeys.BootstrapRequestParams,JSON.stringify(t)),window.localStorage.setItem(this.StorageKeys.BootstrapData,e)}catch(e){return}},_isBootstrapRequestParamsDifferentFromLocalStorage:function(){if(this.StorageKeys&&o.supportsLocalStorage){var e=JSON.parse(window.localStorage.getItem(this.StorageKeys.BootstrapRequestParams));return null===e||null===this._bootstrapRequestParams||Object.keys(this._bootstrapRequestParams).some((function(t){return this._bootstrapRequestParams[t]!==e[t]}),this)}},_loadFromLocalStorage:function(){if(this.StorageKeys&&o.supportsLocalStorage){var e=parseInt(window.localStorage.getItem(this.StorageKeys.BootstrapDataExpirationTimeMS),10)||0;if(!(e<=Date.now()||this._isBootstrapRequestParamsDifferentFromLocalStorage())){var t=JSON.parse(window.localStorage.getItem(this.StorageKeys.BootstrapData));if(t&&(!this.authorizationCallback||t.accessToken))return t.expiresInSeconds=Math.floor((e-Date.now())/1e3),this._processLoadedData(t),t}}},_loadFromServer:function(e){if(this._bootstrapRequestParams={apiVersion:c.apiVersion,countryCode:this._countryCode,mkjsVersion:this._mkjsVersion,poi:this._poi},!this._loadFromLocalStorage()){var t=c.url+"?"+o.toQueryString(this._bootstrapRequestParams),n={retry:!0,delay:0,priority:e};this.authorizationCallback(function(e){this.appendAuthOptions(n,e),this.accessToken&&(n.headers["X-Maps-Access-Token"]=o.fillTemplate("Bearer {{token}}",{token:this.accessToken})),new a(t,this,n).schedule()}.bind(this))}},_requestDidLoad:function(e){if(!this._parseError(e))try{var t=JSON.parse(e.responseText);this._storeInLocalStorage(e.responseText,this._bootstrapRequestParams,t.expiresInSeconds),this._processLoadedData(t)}catch(e){console.error(this._messagePrefix+"parse error.",e),this._loadFailed()}},_resetReloadTimer:function(e){clearTimeout(this._reloadTimerId),this._reloadTimerId=setTimeout(function(){delete this._reloadTimerId,this.accessKeyHasExpired()}.bind(this),e),o.isNode()&&this._reloadTimerId.unref()},_loadSucceeded:function(e){setTimeout(function(){this.state=p.READY;var t=new r.Event(this.Events.Changed);t.status=e?f:m,this.dispatchEvent(t)}.bind(this),0)},_loadFailed:function(e){setTimeout(function(){this.state=p.ERROR;var t=new r.Event(this.Events.Error);t.status=e,this.dispatchEvent(t)}.bind(this),0)},_processLoadedData:function(e){var t=!!this._accessToken;try{this._parseData(e),this.expiresInSeconds&&this._resetReloadTimer(this._adjustedExpirationInSeconds(this.expiresInSeconds))}catch(e){return console.error(this._messagePrefix+"parse error.",e),void this._loadFailed()}this.language=this._optionsLanguage,this._loadSucceeded(t)},_parseData:function(e){e.apiBaseUrl||console.warn(this._messagePrefix+"apiBaseUrl not found. Using default."),this._countryCode="unknown"!==e.countryCode?e.countryCode:null,this.environment=e.environment,this.apiBaseUrl=this.apiBaseUrlOverride||e.apiBaseUrl,e.analytics&&(this.analytics=e.analytics),e.authInfo&&e.authInfo.team_id&&(this.teamId=e.authInfo.team_id),e.locationShiftUrl&&(this.locationShiftUrl=e.locationShiftUrl),this.expiresInSeconds=e.expiresInSeconds,this.ipLocation=e.ipLocation,this._customMadabaUrl||!e.madabaBaseUrl&&!e.madabaDomains||(this._madabaBaseUrl=e.madabaBaseUrl,this._madabaDomains=e.madabaDomains&&e.madabaDomains.length&&e.madabaDomains.map((function(e){return e.match(/^(https?:)?\/\//)?e:l+"//"+e}))),this._disableCsr=!!e.disableCsr,e.accessKey&&(this._accessKey=e.accessKey),e.authInfo&&e.authInfo.access_token&&(this._accessToken=e.authInfo.access_token),this._acceptLanguage=this._parseAcceptLanguage(e.acceptLanguage),this.tileProvider=_;var t={};e.attributions&&e.attributions.forEach((function(e){t[e.attributionId]=e,this.tileGroup=e.attributionId}),this);var n={};for(var i in e.tileSources.forEach(function(e){var i=e.tileSource;n[i]={name:i,path:e.path,domains:e.domains,protocol:e.protocol||"https:",attribution:t[e.attributionId],minZoomLevel:e.minZoomLevel,maxZoomLevel:e.maxZoomLevel,supportedResolutions:e.supportedResolutions,showPrivacyLink:e.showPrivacyLink,showTermsOfUseLink:e.showTermsOfUseLink},e.needsLocationShift&&(this.tileProvider=v),n[i].attribution&&n[i].attribution.global&&(n[i].attribution.name=n[i].attribution.global[0].name,n[i].attribution.url=n[i].attribution.global[0].url)}.bind(this)),this.types={},e.modes){var o=e.modes[i].layers;this.types[i]={name:i,provider:this.tileProvider,lowResolutionTileSource:n[o[0].lowResTileSource],tileSources:o.map((function(e){return n[e.tileSource]}))}}},_parseError:function(e){var t,n,i=e.status;return!(i>=u.OK&&i<u.MULTIPLE_CHOICES)&&(i===u.UNAUTHORIZED?(n=g.Unauthorized,t="initialization failed because the authorization token is invalid."):i===u.TOO_MANY_REQUESTS?(n=g.TooManyRequests,t="initialization failed because the daily usage limit has exceeded."):t="initialization failed because the server returned error "+i+" ("+e.statusText+").",console.error(this._messagePrefix+t),this._loadFailed(n),!0)},_getClientLanguage:function(){return o.isNode()?n.env.LANG?n.env.LANG.split(".")[0].replace("_","-"):"en-US":window.navigator.languages?window.navigator.languages[0]:window.navigator.language},_parseAcceptLanguage:function(e){var t=i.LanguageSupport.parseAcceptLanguage(e);return t?t[0].langTag.tag:null},_adjustedExpirationInSeconds:function(e){return 1e3*e-c.accessKeyExpirationBiasMS},_restore:function(){this._authorizationCallback=null,this._acceptLanguage=null,this._optionsLanguage=null,this.apiBaseUrl=null,this.apiBaseUrlOverride=null,this.state=p.PENDING,delete this._language,this._listeners={},clearTimeout(this._reloadTimerId),delete this._reloadTimerId},_debugInfo:function(){var e={};return["ready","state","_countryCode","tileProvider","apiBaseUrl","language","_acceptLanguage","_optionsLanguage","_getClientLanguage","types"].forEach((function(t){e[t]="function"==typeof this[t]?this[t]():this[t]}),this),e}};r.EventTarget(y),o.isNode()&&(y.MapsWS=c),t.exports=y}).call(this,e("_process"))},{"@maps/dom-events":62,"@maps/js-utils":84,"@maps/loaders":85,"@maps/localizer":94,_process:110}],2:[function(e,t,n){function i(e){var t=f.clamp(e,1e-8-90,90-1e-8)*g;return.5+Math.log(Math.tan(_-t/2))/v}function o(e){var t=Math.pow(Math.E,2*Math.PI*(e-.5));return-2*(Math.atan(t)-Math.PI/4)/Math.PI*180}function r(e){return f.mod(e/360+.5,1)}function a(e){return 360*(f.mod(e,1)-.5)}function s(e){return f.mod(180+e,360)-180}function l(e,t){void 0===e&&(e=new u),void 0===t&&(t=new c),f.checkInstance(e,u,"[MapKit] `center` is not a Coordinate."),f.checkInstance(t,c,"[MapKit] `span` is not a CoordinateSpan."),this.center=new u(e.latitude,e.longitude),this.span=new c(t.latitudeDelta,t.longitudeDelta)}function c(e,t){void 0===e&&(e=0),void 0===t&&(t=0),f.checkType(e,"number","[MapKit] `latitudeDelta` is not a number."),f.checkType(t,"number","[MapKit] `longitudeDelta` is not a number."),this.latitudeDelta=Math.max(e,0),this.longitudeDelta=Math.max(t,0)}function u(e,t){void 0===e&&(e=0),void 0===t&&(t=0),f.checkType(e,"number","[MapKit] `latitude` is not a number."),f.checkType(t,"number","[MapKit] `longitude` is not a number."),this.latitude=e,this.longitude=t}function h(e,t,n,i){arguments.length<4&&(i=0,arguments.length<3&&(n=0,arguments.length<2&&(t=0,arguments.length<1&&(e=0)))),f.checkType(e,"number","[MapKit] Expected a number for `northLatitude` in BoundingRegion constructor but got `"+e+"` instead."),f.checkType(t,"number","[MapKit] Expected a number for `eastLongitude` in BoundingRegion constructor but got `"+t+"` instead."),f.checkType(n,"number","[MapKit] Expected a number for `southLatitude` in BoundingRegion constructor but got `"+n+"` instead."),f.checkType(i,"number","[MapKit] Expected a number for `westLongitude` in BoundingRegion constructor but got `"+i+"` instead."),this.northLatitude=e,this.eastLongitude=t,this.southLatitude=n,this.westLongitude=i}function d(e,t){arguments.length<2&&(t=0,arguments.length<1&&(e=0)),f.checkType(e,"number","[MapKit] Expected a number for `x` in MapPoint constructor but got `"+e+"` instead."),f.checkType(t,"number","[MapKit] Expected a number for `y` in MapPoint constructor but got `"+t+"` instead."),this.x=e,this.y=t}function p(e,t){arguments.length<2&&(t=0,arguments.length<1&&(e=0)),f.checkType(e,"number","[MapKit] Expected a number for `width` in MapSize constructor but got `"+e+"` instead."),f.checkType(t,"number","[MapKit] Expected a number for `height` in MapSize constructor but got `"+t+"` instead."),this.width=e,this.height=t}function m(e,t,n,i){arguments.length<4&&(i=0,arguments.length<3&&(n=0,arguments.length<2&&(t=0,arguments.length<1&&(e=0)))),f.checkType(e,"number","[MapKit] Expected a number for `x` in MapRect constructor but got `"+e+"` instead."),f.checkType(t,"number","[MapKit] Expected a number for `y` in MapRect constructor but got `"+t+"` instead."),f.checkType(n,"number","[MapKit] Expected a number for `width` in MapRect constructor but got `"+n+"` instead."),f.checkType(i,"number","[MapKit] Expected a number for `height` in MapRect constructor but got `"+i+"` instead."),this.origin=new d(e,t),this.size=new p(n,i)}var f=e("@maps/js-utils"),g=Math.PI/180,_=Math.PI/4,v=2*Math.PI,y=o(0),b=o(1);l.prototype={constructor:l,copy:function(){return new l(this.center.copy(),this.span.copy())},toString:function(){return["CoordinateRegion(","\tlatitude: "+this.center.latitude,"\tlongitude: "+this.center.longitude,"\tlatitudeDelta: "+this.span.latitudeDelta,"\tlongitudeDelta: "+this.span.longitudeDelta,")"].join("\n")},equals:function(e){return this.center.equals(e.center)&&this.span.equals(e.span)},toBoundingRegion:function(){var e=this.span.latitudeDelta/2,t=this.span.longitudeDelta/2;return new h(this.center.latitude+e,s(this.center.longitude+t),this.center.latitude-e,s(this.center.longitude-t))},toMapRect:function(){if(this.span.latitudeDelta<0)this.span.latitudeDelta=0;else{var e=i(Math.abs(this.center.latitude)),t=y-o(2*e);this.span.latitudeDelta>t&&(this.span.latitudeDelta=t)}var n=this.center.longitude-this.span.longitudeDelta/2,r=this.center.longitude+this.span.longitudeDelta/2,a=!1;n<-180&&(n+=360,a=!0);var s=!1;r>180&&(r-=360,s=!0);var l=new u(this.center.latitude,n),c=new u(this.center.latitude,r),h=l.toMapPoint(),p=c.toMapPoint();a&&(h.x-=1),s&&(p.x+=1);var f=new m;if(0===this.center.latitude){var g=new u(this.center.latitude+this.span.latitudeDelta/2,this.center.longitude),_=new u(this.center.latitude-this.span.latitudeDelta/2,this.center.longitude);return f.origin.x=h.x,f.size.width=p.x-f.origin.x,f.origin.y=g.toMapPoint().y,f.size.height=_.toMapPoint().y-f.origin.y,f}var v=this.copy();v.center.latitude=b+this.span.latitudeDelta/2;var w=10,C=new u,E=new d;g=new u,_=new u,g.longitude=this.center.longitude,_.longitude=this.center.longitude;var S=0;do{if(v.center.latitude>y&&v.center.latitude>this.center.latitude||v.center.latitude<b&&v.center.latitude<this.center.latitude)v.center.latitude-=w,w*=.1;else if(v.center.latitude>y||v.center.latitude<b)return new m(0,0,1,1);if(S>500)return new m(0,0,1,1);g.latitude=v.center.latitude+v.span.latitudeDelta/2,_.latitude=v.center.latitude-v.span.latitudeDelta/2,f.origin.x=h.x,f.size.width=p.x-f.origin.x,f.origin.y=g.toMapPoint().y,f.size.height=_.toMapPoint().y-f.origin.y,E.x=f.midX(),E.y=f.midY(),C=E.toCoordinate(),(w>0&&C.latitude>this.center.latitude||w<0&&C.latitude<this.center.latitude)&&(w*=-.1),v.center.latitude+=w,S++}while(Math.abs(C.latitude-this.center.latitude)>=1e-8);return f}},c.prototype={constructor:c,copy:function(){return new c(this.latitudeDelta,this.longitudeDelta)},equals:function(e){return Math.abs(this.latitudeDelta-e.latitudeDelta)<1e-8&&Math.abs(this.longitudeDelta-e.longitudeDelta)<1e-8},toString:function(){return["CoordinateSpan(","\tlatitudeDelta: "+this.latitudeDelta,"\tlongitudeDelta: "+this.longitudeDelta,")"].join("\n")}},u.prototype={constructor:u,copy:function(){return new u(this.latitude,this.longitude)},equals:function(e){return Math.abs(this.latitude-e.latitude)<1e-8&&Math.abs(this.longitude-e.longitude)<1e-8},toMapPoint:function(){return new d(r(this.longitude),i(this.latitude))},toUnwrappedMapPoint:function(){return new d(this.longitude/360+.5,i(this.latitude))},toString:function(){return["Coordinate(","latitude:"+this.latitude.toFixed(12),",longitude:"+this.longitude.toFixed(12),")"].join("")}},h.prototype={constructor:h,copy:function(){return new h(this.northLatitude,this.eastLongitude,this.southLatitude,this.westLongitude)},toString:function(){return["BoundingRegion(","\tnorthLatitude: "+this.northLatitude,"\teastLongitude: "+this.eastLongitude,"\tsouthLatitude: "+this.southLatitude,"\twestLongitude: "+this.westLongitude,")"].join("\n")},toCoordinateRegion:function(){var e=s(this.eastLongitude),t=s(this.westLongitude);e<t&&(e+=360);var n=this.northLatitude-this.southLatitude,i=e-t;return new l(new u(this.southLatitude+n/2,s(t+i/2)),new c(n,i))}},d.prototype={constructor:d,z:0,w:1,toString:function(){return"MapPoint("+this.x+", "+this.y+")"},copy:function(){return new d(this.x,this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},toCoordinate:function(){return new u(o(this.y),s(a(this.x)))}},p.prototype={constructor:p,toString:function(){return"MapSize("+this.width+", "+this.height+")"},copy:function(){return new p(this.width,this.height)},equals:function(e){return this.width===e.width&&this.height===e.height}},m.prototype={constructor:m,toString:function(){return"MapRect("+[this.origin.x.toFixed(12),this.origin.y.toFixed(12),this.size.width.toFixed(12),this.size.height.toFixed(12)].join(", ")+")"},copy:function(){return new m(this.origin.x,this.origin.y,this.size.width,this.size.height)},equals:function(e){return this.origin.equals(e.origin)&&this.size.equals(e.size)},minX:function(){return this.origin.x},minY:function(){return this.origin.y},midX:function(){return this.origin.x+this.size.width/2},midY:function(){return this.origin.y+this.size.height/2},maxX:function(){return this.origin.x+this.size.width},maxY:function(){return this.origin.y+this.size.height},scale:function(e,t){if(f.required(e,"[MapKit] Missing `scaleFactor` parameter in call to `MapRect.scale()`."),"number"!=typeof e||isNaN(e))throw new TypeError("[MapKit] The `scaleFactor` parameter passed to `MapRect.scale()` is not a number.");var n=this.size.width*e,i=this.size.height*e;return t?(f.checkInstance(t,d,"[MapKit] The `scaleCenter` parameter passed to `MapRect.scale()` is not a MapPoint."),new m(t.x-e*(t.x-this.origin.x),t.y-e*(t.y-this.origin.y),n,i)):new m(this.midX()-n/2,this.midY()-i/2,n,i)},toCoordinateRegion:function(){var e=this.origin.toCoordinate(),t=new d(this.maxX(),this.maxY()).toCoordinate(),n=Math.abs(t.latitude-e.latitude),i=t.longitude-e.longitude;return t.longitude<e.longitude&&(i+=360),new l(new d(this.midX(),this.midY()).toCoordinate(),new c(n,i))}},t.exports={tileSize:256,convertLatitudeToY:i,convertYToLatitude:o,convertLongitudeToX:r,convertXToLongitude:a,wrapLongitude:s,zoomLevelForMapRectInViewport:function(e,t,n){var i=t.width/(n*e.size.width),o=t.height/(n*e.size.height);return f.log2(Math.min(i,o))},mapUnitsPerMeterAtLatitude:function(e){var t=e*g,n=111132.92+-559.82*Math.cos(2*t)+1.175*Math.cos(4*t)+-.0023*Math.cos(6*t),o=i(e-.5),r=i(e+.5);return Math.abs(o-r)/n},pointsPerAxis:function(e){return 256*Math.pow(2,e)},CoordinateRegion:l,CoordinateSpan:c,Coordinate:u,BoundingRegion:h,MapPoint:d,MapRect:m,MapSize:p}},{"@maps/js-utils":84}],3:[function(e,t,n){"use strict";t.exports={Feature:"Feature",FeatureCollection:"FeatureCollection",MultiPoint:"MultiPoint",MultiLineString:"MultiLineString",MultiPolygon:"MultiPolygon",Point:"Point",LineString:"LineString",Polygon:"Polygon",Position:"Position"}},{}],4:[function(e,t,n){"use strict";function i(e,t){return u.isPosition(e)?new c(e[1],e[0]):(s("[MapKit] Expected a GeoJSON Position type, instead got "+e,t),!1)}function o(e,t,n){switch(t){case h.MultiPoint:case h.LineString:return e.map((function(e){return i(e,n)}));case h.Polygon:return e.map((function(e){return e.map((function(e){return i(e,n)}))}));default:return i(e,n)}}function r(e,t){var n,i=m.indexOf(e.type)>-1,a="GeometryCollection"===e.type;if(i||a){var c=i?e.coordinates:e.geometries;if(i)switch(e.type){case h.MultiPoint:n=t.itemForMultiPoint;break;case h.MultiLineString:n=t.itemForMultiLineString;break;case h.MultiPolygon:n=t.itemForMultiPolygon}a&&(n=t.itemForPoint);var u=new l(c.map((function(n){var o=n;return i&&(o={type:p[e.type],coordinates:n}),r(o,t)})),e),f=n?n(u,e):u;return f}var g=d[e.type];if(!g)return s("[MapKit] Expected a GeoJSON "+e.type+" type, instead got "+e,t),!1;var _,v,y=o(e.coordinates,e.type,t),b=new g(y,{data:e});switch(e.type){case h.Point:n=t.itemForPoint,_=y;break;case h.LineString:n=t.itemForLineString,v=t.styleForOverlay;break;case h.Polygon:n=t.itemForPolygon,v=t.styleForOverlay}return f=n?n(_||b,e):b,v&&(f.style=v(b,e)),f}function a(e,t){var n;switch(e.type){case h.Feature:return n=e.geometry&&function(e,t){if(null!==!e.geometry)return u.isValid(e)?r(e.geometry,t)||(s("[MapKit] "+e+" is an unknown GeoJSON type",t),!1):(s("[MapKit] Expected a GeoJSON "+e.type+" type, instead got "+e,t),!1)}(e,t),t.itemForFeature&&(n=t.itemForFeature(n,e)),n;case h.FeatureCollection:return n=new l(e.features.map((function(e){return a(e,t)})).filter((function(e){return e})),e),t.itemForFeatureCollection&&(n=t.itemForFeatureCollection(n,e)),n;default:return r(e,t)}}function s(e,t){var n=new Error(e);"function"==typeof t.geoJSONDidError?t.geoJSONDidError(n,t._input):console.error(n)}var l=e("../../src/js/collections/item-collection"),c=e("../../lib/geo").Coordinate,u=e("./validate"),h=e("./constants"),d={Point:e("../../src/js/annotations/marker-annotation"),LineString:e("../../src/js/overlays/polyline-overlay"),Polygon:e("../../src/js/overlays/polygon-overlay")},p={MultiPoint:h.Point,MultiLineString:h.LineString,MultiPolygon:h.Polygon},m=[h.MultiPoint,h.MultiLineString,h.MultiPolygon];t.exports=function(e,t){if((t=t||{})._input=e,!e instanceof Object||Array.isArray(e))return s("[MapKit] importGeoJSON expects an Object and was passed "+e,t),!1;var n=a(e,t);return!n instanceof l&&(n=new l(n,e)),t.geoJSONDidComplete&&(n=t.geoJSONDidComplete(n,e)),n}},{"../../lib/geo":2,"../../src/js/annotations/marker-annotation":146,"../../src/js/collections/item-collection":158,"../../src/js/overlays/polygon-overlay":199,"../../src/js/overlays/polyline-overlay":202,"./constants":3,"./validate":6}],5:[function(e,t,n){"use strict";var i={importGeoJSON:e("./import"),constants:e("./constants"),validate:e("./validate")};t.exports=i},{"./constants":3,"./import":4,"./validate":6}],6:[function(e,t,n){"use strict";function i(e,t){return!(!e instanceof Object)&&e.type===r.Feature&&!!o(e.geometry,t)}function o(e,t){return!(!e instanceof Object)&&(!t||e.type===t)&&!(!e.type instanceof String)&&(e.type===r.MultiLineString||e.type===r.MultiPolygon||e.type===r.MultiPoint?function(e){for(var t in e)if(!e[t].coordinates instanceof Array)return!1;return!0}(e.coordinates):e.coordinates instanceof Array)}var r=e("./constants"),a={Feature:function(e){return i(e,e.geometry&&e.geometry.type)},FeatureCollection:function(e){if(!e instanceof Object||!e.features instanceof Array)return!1;for(var t in e.features){var n=e.features[t];if(n.geometry&&!i(n,n.geometry.type))return!1}return!0},Position:function(e){return function(e){if(!Array.isArray(e)||e.length<2)return!1;for(var t=0;t<2;++t)if("number"!=typeof e[t]||isNaN(e[t]))return!1;return!0}(e)},Point:function(e){return o(e,r.Point)},MultiPoint:function(e){return o(e,r.MultiPoint)},LineString:function(e){return o(e,r.LineString)},MultiLineString:function(e){return o(e,r.MultiLineString)},Polygon:function(e){return o(e,r.Polygon)},MultiPolygon:function(e){return o(e,r.MultiPolygon)},GeometryCollection:function(e){if(!e instanceof Object||!e.geometries instanceof Array)return!1;for(var t in e.features)if(!o(e,e.geometries[t].type))return!1;return!0}};t.exports={isValid:function(e){return!!a[e.type]&&a[e.type](e)},isPosition:function(e){return a.Position(e)}}},{"./constants":3}],7:[function(e,t,n){t.exports={BackgroundGridThemes:e("./src/background-grid-node").Themes,SceneGraphMapNode:e("./src/scene-graph-map-node"),SyrupMapNode:e("./src/syrup-map-node"),TileOverlay:e("./src/tile-overlay")}},{"./src/background-grid-node":8,"./src/scene-graph-map-node":22,"./src/syrup-map-node":25,"./src/tile-overlay":33}],8:[function(e,t,n){function i(){o.BaseNode.call(this),this._renderer=new(e("./render-background-grid"))(this),this._theme=i.Themes.Light}var o=e("../../scene-graph"),r=e("@maps/js-utils");i.Themes={Light:{fillColor:[249,245,237],lineColor:[152,151,147]},Dark:{fillColor:[64,64,64],lineColor:[214,214,214]}},i.prototype=r.inheritPrototype(o.BaseNode,i,{get size(){return this.parent.size},get zoom(){return this.parent.zoomLevel},get origin(){return this.parent.visibleMapRect.origin},get theme(){return this._theme},set theme(e){e!==this._theme&&(this._theme=e,this.needsDisplay=!0)},stringInfo:function(){return"BackgroundGridNode"}}),t.exports=i},{"../../scene-graph":47,"./render-background-grid":17,"@maps/js-utils":84}],9:[function(e,t,n){function i(e){this.node=e,this._configuration=null,this._debug=!1,this._language=null,this._showsPointsOfInterest=!0,this._showsDefaultTiles=!0,this._tileOverlays=[],this.camera=new c,this._element=document.createElement("div")}var o=e("@maps/js-utils"),r=e("../../scene-graph"),a=e("../../geo"),s=e("@maps/device-pixel-ratio"),l=e("@maps/js-utils"),c=e("./camera"),u=e("./camera-animation"),h=e("./initial-interaction-controller"),d=e("./zoom-controller"),p=e("./pan-controller"),m=e("./tile-data"),f=e("./tile-overlay"),g=e("./tile-overlay-internal"),_=1-Math.pow(2,-52);i.prototype={constructor:i,get element(){return this._element},deactivate:function(){this.delegate=null},destroy:function(e){!e&&this.cameraAnimation&&this.cameraAnimation.cancel(),this._tileOverlays.forEach((function(e){e.removeEventListener(g.RELOAD_EVENT,this)}),this),this._initialInteractionController&&(this._initialInteractionController.destroy(),this._initialInteractionController=null),this._panController&&(this._panController.destroy(),this._panController=null),this._zoomController&&(this._zoomController.destroy(),this._zoomController=null),this._rotationController&&(this._rotationController.destroy(),this._rotationController=null),delete this.node.delegate},minZoomLevel:3,maxZoomLevel:20,staysCenteredDuringZoom:!1,get configuration(){return this._configuration},set configuration(e){this._configuration!==e&&this.updateConfiguration(e)},get language(){return this._language},set language(e){this._language!==e&&(this._language=e,this.refresh())},get showsPointsOfInterest(){return this._showsPointsOfInterest},set showsPointsOfInterest(e){this._showsPointsOfInterest!==e&&(this._showsPointsOfInterest=e,this.updateShowsPointsOfInterest())},get size(){return this.camera.viewportSize.copy()},set size(e){this.adjustForSize(e.copy())},adjustForSize:function(e){if(this._visibleMapRect&&this._visibleMapRect.size.width>0&&this._visibleMapRect.size.height>0&&e.width>0&&e.height>0){var t=this._visibleMapRect;delete this._visibleMapRect,this.setCameraAnimated(this.camera.withNewMapRect(t,this.snapsToIntegralZoomLevels,e))}else{var n=this.camera;this.setCameraAnimated(new c(n.center,n.zoom,e,n.rotation))}},get cameraIsPanning(){return!!this._panning},get pannable(){return!!this._panController},set pannable(e){!e&&this._panController?(this._panController.destroy(),delete this._panController):e&&!this._panController&&(this._initialInteractionController||(this._initialInteractionController=new h(this)),this._panController=new p(this))},get cameraIsZooming(){return!!this._zooming||!!this._suspendedZoom},get zoomable(){return!!this._zoomController},set zoomable(e){!e&&this._zoomController?(this._zoomController.destroy(),delete this._zoomController):e&&!this._zoomController&&(this._initialInteractionController||(this._initialInteractionController=new h(this)),this._zoomController=new d(this))},get cameraIsRotating(){return!!this._rotating},get visibleMapRect(){return this._visibleMapRect||this.camera.toMapRect()},set visibleMapRect(e){this.setVisibleMapRectAnimated(e)},setVisibleMapRectAnimated:function(e,t){if(this.camera.viewportSize.equals(r.Size.Zero))this._visibleMapRect=e.copy();else{var n=this.camera.withNewMapRect(e,this.snapsToIntegralZoomLevels);n.rotation=0,this.setCameraAnimated(n,!!t)}},setCenterAnimated:function(e,t){var n=e.toMapPoint();if(this._visibleMapRect)this._visibleMapRect=new a.MapRect(n.x-this._visibleMapRect.size.width/2,n.y-this._visibleMapRect.size.height/2,this._visibleMapRect.size.width,this._visibleMapRect.size.height);else{var i=this.camera.copy();i.center=n,this.setCameraAnimated(i,t)}},get transformCenter(){var e=this.node.delegate;return e&&"function"==typeof e.mapTransformCenter?e.mapTransformCenter(this.node):this.camera.center},get zoomLevel(){return this.camera.zoom},set zoomLevel(e){this.setZoomLevelAnimated(e)},setZoomLevelAnimated:function(e,t){if(this._suspendedZoom)return this._suspendedZoom.animated=this._suspendedZoom.animated||this._suspendedZoom.level!==e,void(this._suspendedZoom.level=e);if(!this.cameraAnimation||t){var n=this.zoomLevel,i=l.clamp(e,this.minZoomLevel,this.maxZoomLevel);if(n!==i){var o=this.transformCenter,r=this.camera;o.equals(r.center)?this.setCameraAnimated(new c(r.center,i,r.viewportSize,r.rotation),t):this.scaleCameraAroundMapPoint(Math.pow(2,i-n),this.transformCenter,t)}}else this.cameraAnimation.additiveZoom=e},adjustMapItemPoint:function(e){if(this.cameraIsZooming||this._pendingCameraDrawingReadiness)return e;if(!this._pointAdjustmentReference){var t=this.camera.zoom,n=this.visibleMapRect.origin,i=new m(this.camera),o=i.zoom,l=i.mapRect.origin,c=Math.pow(2,t-o),u=a.pointsPerAxis(o)*c;this._pointAdjustmentReference=new r.Point((l.x-n.x)*u,(l.y-n.y)*u)}return e.x=s.roundToDevicePixel(this._pointAdjustmentReference.x)+s.roundToDevicePixel(e.x-this._pointAdjustmentReference.x),e.y=s.roundToDevicePixel(this._pointAdjustmentReference.y)+s.roundToDevicePixel(e.y-this._pointAdjustmentReference.y),e},scaleCameraAroundMapPoint:function(e,t,n){var i=a.pointsPerAxis(this.minZoomLevel),o=this.camera.viewportSize.width/(this.visibleMapRect.size.width*i),r=this.camera.viewportSize.height/(this.visibleMapRect.size.height*i),s=Math.min(1/e,o,r),l=t.x+(t.x<1?1:-1),c=this.visibleMapRect;l>=c.origin.x&&l<=c.maxX()&&(t=new a.MapPoint(l,t.y));var u=this.camera.withNewMapRect(c.scale(s,t),!1);this.setCameraAnimated(u,n)},setCameraAnimated:function(e,t){if(0===e.viewportSize.width||0===e.viewportSize.height)return this._pendingCameraDrawingReadiness=!0,void(this.camera=e);var n=this.camera;e.viewportSize.equals(n.viewportSize)||this._updateMinAndMaxZoomLevels(e.viewportSize),e.zoom=l.clamp(e.zoom,this.minZoomLevel,this.maxZoomLevel);var i=e.toMapRect().size,o=i.width/2,r=i.height/2;e.center.x=l.mod(e.center.x-o,1)+o,e.center.y=l.clamp(e.center.y,r,_-r),!this._pendingCameraDrawingReadiness&&e.equals(n)||(delete this._pendingCameraDrawingReadiness,this._cameraWillChange(!!t),t&&!this.cameraAnimation?(this._cameraChangesMayHaveStarted(),this.cameraAnimation=new u(this,n,e),this.cameraAnimation.zooming&&this.cameraZoomWasSet(e)):(delete this._pointAdjustmentReference,this.camera=e,this.cameraZoomWasSet(),this._cameraDidChange()))},cameraWillStartZooming:function(e,t){var n=this.node.delegate,i=function(){return n&&"function"==typeof n.mapCanStartZooming&&!n.mapCanStartZooming(this.node)}.bind(this);return this.cameraAnimation?!(this._zoomController.active||this.cameraAnimation.zooming||i())&&(this._suspendedZoom={animated:!!e,offCenter:!!t,level:this.zoomLevel,completed:!1},!0):i()?(this._zoomController.interrupt(),!1):(this._cameraWillStartZooming(n,e,t),!0)},_cameraWillStartZooming:function(e,t,n){e&&"function"==typeof e.mapWillStartZooming&&e.mapWillStartZooming(this.node,t,n),this._cameraChangesMayHaveStarted(),this._zooming=!0,this.beforeCameraZoomChange(!0),this._cameraWillChange(!!t)},cameraDidStopZooming:function(){if(this.snapsToIntegralZoomLevels&&(this.camera.zoom=Math.round(this.camera.zoom)),this._suspendedZoom)this._suspendedZoom.complete=!0;else{delete this._zooming,this.beforeCameraZoomChange(!1),this._cameraDidChange(),this._cameraChangesMayHaveEnded();var e=this.node.delegate;e&&"function"==typeof e.mapDidStopZooming&&e.mapDidStopZooming(this.node)}},cameraWillStartRotating:function(){this._rotating=!0;var e=this.node.delegate;e&&"function"==typeof e.mapRotationWillStart&&e.mapRotationWillStart(this.node),this._cameraWillChange()},cameraDidStopRotating:function(){delete this._rotating;var e=this.node.delegate;e&&"function"==typeof e.mapRotationDidEnd&&e.mapRotationDidEnd(this.node),this._cameraDidChange()},migrateStateTo:function(e){e.backgroundGridTheme=this.node.backgroundGridTheme,e.configuration=this.node.configuration,e.language=this.node.language,e.pannable=this.node.pannable,e.showsPointsOfInterest=this.node.showsPointsOfInterest,e.showsDefaultTiles=this.node.showsDefaultTiles,e.tileOverlays=this.node.tileOverlays,e.size=this.node.size,e.staysCenteredDuringZoom=this.node.staysCenteredDuringZoom;var t=this.node.visibleMapRect;t.size.width>0&&t.size.height>0&&(e.visibleMapRect=t),e.zoomable=this.node.zoomable,e.isRotationEnabled=this.isRotationEnabled,e.rotation=this.rotation,e._impl.debug=this.debug,this.cameraAnimation&&(this.cameraAnimation.map=e._impl,e._impl.cameraAnimation=this.cameraAnimation,this.cameraChangesHaveStarted&&(e._impl.cameraChangesHaveStarted=!0))},createLabelRegion:o.noop,updatedLabelRegion:o.noop,unregisterLabelRegion:o.noop,get debug(){return this._debug},set debug(e){this._debug!==!!e&&(this._debug=!!e,this.refresh())},updateConfiguration:function(e){this._configuration=e,this._updateMinAndMaxZoomLevels(this.camera.viewportSize),this.setCameraAnimated(this.camera),this.refresh()},updateShowsPointsOfInterest:function(){this.refresh()},refresh:function(){},beforeCameraZoomChange:function(){},cameraZoomWasSet:function(){},get showsDefaultTiles(){return this._showsDefaultTiles},set showsDefaultTiles(e){this._showsDefaultTiles!==e&&(this._showsDefaultTiles=e,this._tileOverlaysDidChange())},get tileOverlays(){return this._tileOverlays},set tileOverlays(e){if(0!==this._tileOverlays.length||0!==e.length){var t="[MapKit] Map.tileOverlays should be an array, got `"+e+"` instead.";l.checkArray(e,t),e.forEach((function(e){var t="[MapKit] Map.tileOverlays can only contain TileOverlays, but got `"+e+"` instead.";l.checkInstance(e,f,t)})),this._tileOverlays.forEach((function(e){e.removeEventListener(g.RELOAD_EVENT,this)}),this),this._tileOverlays=e,this._tileOverlays.forEach((function(e){e.addEventListener(g.RELOAD_EVENT,this)}),this),this._tileOverlaysDidChange()}},addTileOverlay:function(e){var t="[MapKit] Map.addTileOverlay expected a TileOverlay, but got `"+e+"` instead.";return l.checkInstance(e,f,t),this.addTileOverlays([e]),e},addTileOverlays:function(e){var t="[MapKit] Map.addTileOverlays expected an array, but got `"+e+"` instead.";return l.checkArray(e,t),e.forEach((function(e){var t="[MapKit] Map.addTileOverlays expected only TileOverlays, but got `"+e+"` instead.";l.checkInstance(e,f,t),"number"==typeof e.minimumZ&&e.minimumZ<this.minZoomLevel&&console.warn("[MapKit] This TileOverlay has a minimumZ of "+e.minimumZ+"but the map won't go as low.")}),this),this.tileOverlays=this.tileOverlays.concat(e),e},removeTileOverlay:function(e){var t="[MapKit] Map.removeTileOverlay expected a TileOverlay, but got `"+e+"` instead.";return l.checkInstance(e,f,t),this.tileOverlays=this.tileOverlays.filter((function(t){return t!==e})),e},removeTileOverlays:function(e){var t="[MapKit] Map.removeTileOverlays expected an array, but got `"+e+"` instead.";return l.checkArray(e,t),e.forEach((function(e){var t="[MapKit] Map.removeTileOverlays expected only TileOverlays, but got `"+e+"` instead.";l.checkInstance(e,f,t),this.removeTileOverlay(e)}),this),e},handleEvent:function(){},cameraWillStartPanning:function(){var e=this.node.delegate;this.cameraAnimation||e&&"function"==typeof e.mapCanStartPanning&&!e.mapCanStartPanning(this.node)?this._panController.interrupt():(e&&"function"==typeof e.mapWillStartPanning&&e.mapWillStartPanning(this.node),this.refresh(),this._cameraChangesMayHaveStarted(),this._panning=!0,this._cameraWillChange())},cameraWillStopPanning:function(){var e=this.node.delegate;e&&"function"==typeof e.mapWillStopPanning&&e.mapWillStopPanning(this.node)},cameraDidStopPanning:function(){delete this._panning,this._cameraDidChange(),this._cameraChangesMayHaveEnded();var e=this.node.delegate;e&&"function"==typeof e.mapDidStopPanning&&e.mapDidStopPanning(this.node)},cameraAnimationDidProgress:function(e){this.setCameraAnimated(e)},cameraAnimationDidEnd:function(){var e=!1;if(this.cameraAnimation.zooming&&!this.cameraAnimation.zoomIsAdditive&&(this.cameraDidStopZooming(),e=!0),this.cameraAnimation.rotating&&(this.cameraDidStopRotating(),e=!0),e||this._cameraDidChange(),delete this.cameraAnimation,this._cameraChangesMayHaveEnded(),this._suspendedZoom){var t=this._suspendedZoom;delete this._suspendedZoom,this._cameraWillStartZooming(this.node.delegate,t.animated),t.complete&&(this.setZoomLevelAnimated(t.level,t.animated),t.animated||this.cameraDidStopZooming())}},interactionDidStart:function(){this._panController&&this._panController.stopDecelerating(),this._zoomController&&this._zoomController.stopDecelerating(),this._rotationController&&this._rotationController.stopDecelerating()},beganRecognizingRotation:function(){this._zoomController&&(this._zoomController._singleTapWithTwoFingersRecognizer.enabled=!1)},finishedRecognizingRotation:function(){this._zoomController&&(this._zoomController._singleTapWithTwoFingersRecognizer.enabled=!0)},tileGridDidFinishRendering:function(){var e=this.node.delegate;e&&"function"==typeof e.mapDidFinishRendering&&e.mapDidFinishRendering(this.node)},updateMinAndMaxZoomLevelsWhenConfigurationChanges:function(){this.minZoomLevel=0,this.maxZoomLevel=Number.MAX_VALUE,this._configuration.tileSources.forEach((function(e){this.minZoomLevel=Math.max(this.minZoomLevel,e.minZoomLevel),this.maxZoomLevel=Math.min(this.maxZoomLevel,e.maxZoomLevel)}),this)},_updateMinAndMaxZoomLevels:function(e){if(e.width<=0||e.height<=0)return!1;this._configuration&&this.updateMinAndMaxZoomLevelsWhenConfigurationChanges(),this.minZoomLevel=Math.max(this.minZoomLevel,this.minZoomLevelForViewportSize(e,a.tileSize)),this.snapsToIntegralZoomLevels&&(this.minZoomLevel=Math.ceil(this.minZoomLevel)),this.adjustForSize(this.size)},_cameraChangesMayHaveStarted:function(e){if(!(this.cameraChangesHaveStarted||this._panning||this._zooming||this.cameraAnimation)){this.cameraChangesHaveStarted=!0;var t=this.node.delegate;t&&"function"==typeof t.mapCameraChangesWillStart&&t.mapCameraChangesWillStart(this.node,e)}},_cameraWillChange:function(e){this._cameraChangesMayHaveStarted(),this._cameraWillChangeAnimated=!!e;var t=this.node.delegate;t&&"function"==typeof t.mapCameraWillChange&&t.mapCameraWillChange(this.node,!!e)},_cameraDidChange:function(){var e=this.node.delegate;e&&"function"==typeof e.mapCameraDidChange&&e.mapCameraDidChange(this.node,!!this._cameraWillChangeAnimated),delete this._cameraWillChangeAnimated,this._cameraChangesMayHaveEnded()},_cameraChangesMayHaveEnded:function(e){if(this.cameraChangesHaveStarted&&!this._panning&&!this._zooming&&!this.cameraAnimation){delete this.cameraChangesHaveStarted;var t=this.node.delegate;return t&&"function"==typeof t.mapCameraChangesDidEnd&&t.mapCameraChangesDidEnd(this.node),!0}}},t.exports=i},{"../../geo":2,"../../scene-graph":47,"./camera":12,"./camera-animation":11,"./initial-interaction-controller":15,"./pan-controller":16,"./tile-data":26,"./tile-overlay":33,"./tile-overlay-internal":32,"./zoom-controller":36,"@maps/device-pixel-ratio":61,"@maps/js-utils":84}],10:[function(e,t,n){function i(){o.GroupNode.call(this)}var o=e("../../scene-graph"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o.GroupNode,i,{delegate:null,deactivate:function(){this._impl.deactivate()},destroy:function(e){this._impl.destroy(e)},get element(){return this._impl.element},get camera(){return this._impl.camera},get minZoomLevel(){return this._impl.minZoomLevel},get maxZoomLevel(){return this._impl.maxZoomLevel},get staysCenteredDuringZoom(){return this._impl.staysCenteredDuringZoom},set staysCenteredDuringZoom(e){this._impl.staysCenteredDuringZoom=e},get configuration(){return this._impl.configuration},set configuration(e){this._impl.configuration=e},get language(){return this._impl.language},set language(e){this._impl.language=e},get showsPointsOfInterest(){return this._impl.showsPointsOfInterest},set showsPointsOfInterest(e){this._impl.showsPointsOfInterest=e},get backgroundGridTheme(){return this._impl.backgroundGridTheme},set backgroundGridTheme(e){this._impl.backgroundGridTheme=e},get size(){return this._impl.size},set size(e){this._impl.size=e},get rotation(){return this._impl.rotation},set rotation(e){this._impl.rotation=e},get isRotationEnabled(){return this._impl.isRotationEnabled},set isRotationEnabled(e){this._impl.isRotationEnabled=e},get cameraIsPanning(){return this._impl.cameraIsPanning},get pannable(){return this._impl.pannable},set pannable(e){this._impl.pannable=e},get cameraIsZooming(){return this._impl.cameraIsZooming},get zoomable(){return this._impl.zoomable},set zoomable(e){this._impl.zoomable=e},get zoomLevel(){return this._impl.zoomLevel},set zoomLevel(e){this._impl.setZoomLevelAnimated(e)},setZoomLevelAnimated:function(e,t){this._impl.setZoomLevelAnimated(e,t)},get visibleMapRect(){return this._impl.visibleMapRect},set visibleMapRect(e){return this._impl.setVisibleMapRectAnimated(e)},setVisibleMapRectAnimated:function(e,t){this._impl.setVisibleMapRectAnimated(e,t)},setCenterAnimated:function(e,t){this._impl.setCenterAnimated(e,t)},get showsDefaultTiles(){return this._impl.showsDefaultTiles},set showsDefaultTiles(e){this._impl.showsDefaultTiles=e},get tileOverlays(){return this._impl.tileOverlays},set tileOverlays(e){this._impl.tileOverlays=e},addTileOverlay:function(e){return this._impl.addTileOverlay(e)},addTileOverlays:function(e){return this._impl.addTileOverlays(e)},removeTileOverlay:function(e){return this._impl.removeTileOverlay(e)},removeTileOverlays:function(e){return this._impl.removeTileOverlays(e)},adjustMapItemPoint:function(e){return this._impl.adjustMapItemPoint(e)},cameraWillStartZooming:function(e){return this._impl.cameraWillStartZooming(e)},cameraDidStopZooming:function(){this._impl.cameraDidStopZooming()},get fullyRendered(){return this._impl.fullyRendered},devicePixelRatioDidChange:function(){return this._impl.devicePixelRatioDidChange()},stringInfo:function(){return this._impl.stringInfo()},get snapsToIntegralZoomLevels(){return this._impl.snapsToIntegralZoomLevels},migrateStateTo:function(e){return this._impl.migrateStateTo(e)},needsReplacing:function(e){return this._impl.needsReplacing(e)},createLabelRegion:function(){return this._impl.createLabelRegion()},updatedLabelRegion:function(){this._impl.updatedLabelRegion()},unregisterLabelRegion:function(e){this._impl.unregisterLabelRegion(e)},setCameraAnimated:function(e,t){this._impl.setCameraAnimated(e,t)}}),t.exports=i},{"../../scene-graph":47,"@maps/js-utils":84}],11:[function(e,t,n){function i(e,t,n){this.map=e,this._startCamera=t,this._endCamera=n,this._duration=a,e.snapsToIntegralZoomLevels&&(n.zoom=Math.round(n.zoom)),this._updateAnimationRects(),this._startTime=Date.now(),this._schedule()}var o=e("../../geo"),r=e("@maps/scheduler"),a=250;i.prototype={constructor:i,cancel:function(){this._canceled=!0},get zooming(){return this._startCamera.zoom!==this._endCamera.zoom},set additiveZoom(e){this._zoomIsAdditive=!0,this._endCamera.zoom=e,this._updateAnimationRects()},get zoomIsAdditive(){return this._zoomIsAdditive},get rotating(){return this._startCamera.rotation!==this._endCamera.rotation},adjustRotation:function(e,t){this._startCamera.rotateAroundCenter(e,t),this._endCamera.rotateAroundCenter(e,t),this._updateAnimationRects()},performScheduledUpdate:function(){this._canceled||this._animationDidProgress(Math.min((Date.now()-this._startTime)/this._duration,1))},_zoomIsAdditive:!1,_updateAnimationRects:function(){this._startRect=this._startCamera.toMapRect(),this._animatedEndRect=this._endCamera.toMapRect();var e=this._startCamera.center.x-this._endCamera.center.x;Math.abs(e)>.5&&(e<0?this._startRect.origin.x+=1:this._animatedEndRect.origin.x+=1)},_schedule:function(){r.scheduleOnNextFrame(this)},_animationDidProgress:function(e){if(1===e)return this.map.snapsToIntegralZoomLevels&&(this._endCamera.zoom=Math.round(this._endCamera.zoom)),this.map.cameraAnimationDidProgress(this._endCamera),void this.map.cameraAnimationDidEnd();var t=this._startRect,n=this._animatedEndRect,i=t.origin.x,r=t.origin.y,a=t.size.width,s=t.size.height,l=n.origin.x-t.origin.x,c=n.origin.y-t.origin.y,u=n.size.width-t.size.width,h=n.size.height-t.size.height,d=this._endCamera.rotation-this._startCamera.rotation;Math.abs(d)>180&&(d=this._endCamera.rotation+360-this._startCamera.rotation);var p=new o.MapRect(i+l*e,r+c*e,a+u*e,s+h*e),m=this._startCamera.withNewMapRect(p);this.map.cameraAnimationDidProgress(m),this.map.rotation=this._startCamera.rotation+d*e,this._schedule()}},t.exports=i},{"../../geo":2,"@maps/scheduler":106}],12:[function(e,t,n){function i(e,t,n,i){this.center=e||new o.MapPoint(.5,.5),this.zoom=t||3,this.viewportSize=n||new r,this.rotation=i||0}var o=e("../../geo"),r=e("@maps/geometry/size"),a=e("@maps/js-utils"),s=e("@maps/geometry/point"),l=e("@maps/css-matrix");i.prototype={constructor:i,get zoom(){return this._zoom},set zoom(e){this._zoom=e||3,this._pointsPerAxis=o.pointsPerAxis(this._zoom)},get worldSize(){return this._pointsPerAxis},get rotation(){return this._rotation},set rotation(e){var t=a.mod(e,360);this._rotation=t},minX:function(){var e=this.viewportSize.width/this._pointsPerAxis;return this.center.x-e/2},minY:function(){var e=this.viewportSize.height/this._pointsPerAxis;return this.center.y-e/2},maxX:function(){var e=this.viewportSize.width/this._pointsPerAxis;return this.center.x+e/2},maxY:function(){var e=this.viewportSize.height/this._pointsPerAxis;return this.center.y+e/2},equals:function(e){return this.zoom===e.zoom&&this.center.equals(e.center)&&this.viewportSize.equals(e.viewportSize)&&this.rotation===e.rotation},copy:function(){return new i(this.center,this.zoom,this.viewportSize,this.rotation)},toString:function(){return"Camera("+["center: ["+this.center.x+", "+this.center.y+"]","zoom: "+this.zoom,"viewportSize: "+this.viewportSize.toString(),"rotation: "+this.rotation].join(", ")+")"},toMapRect:function(){var e=this.viewportSize.width/this._pointsPerAxis,t=this.viewportSize.height/this._pointsPerAxis;return new o.MapRect(this.center.x-e/2,this.center.y-t/2,e,t)},toRenderingMapRect:function(){var e=[new s(this.minX(),this.minY()),new s(this.maxX(),this.minY()),new s(this.maxX(),this.maxY()),new s(this.minX(),this.maxY())];if(0!==this.rotation){var t=(new l).rotate(this.rotation);e=e.map((function(e){return t.transformPoint(e)}))}for(var n=e[0].x,i=e[0].y,r=e[0].x,a=e[0].y,c=1;c<e.length;++c){var u=e[c];u.x<n&&(n=u.x),u.x>r&&(r=u.x),u.y<i&&(i=u.y),u.y>a&&(a=u.y)}var h=r-n,d=a-i;return new o.MapRect(this.center.x-h/2,this.center.y-d/2,h,d)},translate:function(e){return 0!==this.rotation&&(e=(new l).rotate(-this.rotation).transformPoint(e)),new i(new o.MapPoint(a.mod(this.center.x-e.x/this._pointsPerAxis,1),a.mod(this.center.y-e.y/this._pointsPerAxis,1)),this.zoom,this.viewportSize,this.rotation)},transformMapPoint:function(e){var t=this.viewportSize.width,n=this.viewportSize.height,i=this.toScreenSpace(e);return(new l).translate(t/2,n/2).rotate(this.rotation).translate(t/-2,n/-2).transformPoint(i)},transformGestureCenter:function(e){if(0===this.rotation)return e;var t=this.viewportSize.width,n=this.viewportSize.height;return(new l).translate(t/2,n/2).rotate(-this.rotation).translate(-t/2,-n/2).transformPoint(e)},toScreenSpace:function(e){var t=this._pointsPerAxis;return(new l).translate(-this.minX()*t,-this.minY()*t).scale(t).transformPoint(e)},rotateAroundCenter:function(e,t){var n=(new l).translate(e.x,e.y).rotate(-t).translate(-e.x,-e.y).transformPoint(new s(this.center.x,this.center.y));this.center=new o.MapPoint(n.x,n.y),this.rotation+=t},withNewMapRect:function(e,t,n){n=n||this.viewportSize;var r=o.zoomLevelForMapRectInViewport(e,n,o.tileSize);return new i(new o.MapPoint(e.midX(),e.midY()),t?Math.floor(r):r,n,this.rotation)}},t.exports=i},{"../../geo":2,"@maps/css-matrix":58,"@maps/geometry/point":69,"@maps/geometry/size":71,"@maps/js-utils":84}],13:[function(e,t,n){function i(e){o.BaseNode.call(this),this._tile=e,this._renderer=new a(this)}var o=e("../../scene-graph"),r=e("@maps/js-utils"),a=e("./render-debug");i.prototype=r.inheritPrototype(o.BaseNode,i,{get tile(){return this._tile},stringInfo:function(){return"DebugNode<x:"+this.tile.x+",y:"+this.tile.y+",z:"+this.tile.z+">"}}),t.exports=i},{"../../scene-graph":47,"./render-debug":18,"@maps/js-utils":84}],14:[function(e,t,n){function i(e){this._map=e,this._recognizers=[]}var o=e("../../../src/js/utils");i.prototype={constructor:i,get map(){return this._map},canTrustGestureCenter:function(e){return 1===e.numberOfTouchesRequired||!(o.supportsGestureEvents&&!o.supportsTouches&&o.insideIframe)},addRecognizer:function(e){return this._recognizers.push(e),e.target=this.map.node.element,e.addEventListener("statechange",this),e},interrupt:function(){this._recognizers.forEach((function(e){e.enabled=!1,e.enabled=!0}))},centerForGesture:function(e){var t=this.map;return t.staysCenteredDuringZoom||!this.canTrustGestureCenter(e)?t.transformCenter:this._centerWithRecognizer(e)},destroy:function(){for(;this._recognizers.length;){var e=this._recognizers.pop();e.enabled=!1,e.target=null,e.removeEventListener("statechange",this)}}},t.exports=i},{"../../../src/js/utils":225}],15:[function(e,t,n){function i(e,t){this._map=e,this._map.element.addEventListener(o.SupportsTouches?"touchstart":"mousedown",this)}var o=e("@maps/gesture-recognizers");i.prototype={constructor:i,handleEvent:function(e){"touchstart"===e.type&&1!==e.touches.length||this._map.interactionDidStart()},destroy:function(){this._map.element.removeEventListener(o.SupportsTouches?"touchstart":"mousedown",this)}},t.exports=i},{"@maps/gesture-recognizers":72}],16:[function(e,t,n){function i(e){s.call(this,e),this.addRecognizer(new o.Pan).maximumNumberOfTouches=2}var o=e("@maps/gesture-recognizers"),r=e("@maps/geometry/point"),a=e("@maps/scheduler"),s=e("./gesture-controller"),l=e("@maps/js-utils");i.prototype=l.inheritPrototype(s,i,{decelerating:!1,stopDecelerating:function(){this.decelerating&&this._decelerationEnded()},destroy:function(){s.prototype.destroy.call(this),this.stopDecelerating()},handleEvent:function(e){var t=e.target,n=this.map;n.staysCenteredDuringZoom&&n.cameraIsZooming||(t.state===o.States.Began?n.cameraWillStartPanning():t.state!==o.States.Ended&&t.state!==o.States.Changed||(this._panMapCameraBy(t.translation),t.translation=new r),t.state===o.States.Ended&&(this._startDeceleratingWithVelocity(t.velocity),this.decelerating||n.cameraDidStopPanning()))},performScheduledUpdate:function(){if(this.decelerating){var e=Date.now(),t=e-this._timeAtPreviousFrame,n=Math.exp(Math.log(.995)*t),i=(1-n)/(1-.995)*.995;this._panMapCameraBy(new r(this._velocity.x/1e3*i,this._velocity.y/1e3*i)),this._velocity.x*=n,this._velocity.y*=n,Math.abs(this._velocity.x)<=10&&Math.abs(this._velocity.y)<=10?this._decelerationEnded():(this._timeAtPreviousFrame=e,this._schedule())}},_panMapCameraBy:function(e){var t=this.map;t.setCameraAnimated(t.camera.translate(e))},_startDeceleratingWithVelocity:function(e){this._velocity=e,this.map.cameraWillStopPanning(),Math.pow(e.x,2)+Math.pow(e.y,2)<62500||(this.decelerating=!0,this._timeAtPreviousFrame=Date.now(),this._schedule())},_schedule:function(){a.scheduleOnNextFrame(this)},_decelerationEnded:function(){this.decelerating=!1,this.map.cameraDidStopPanning()}}),t.exports=i},{"./gesture-controller":14,"@maps/geometry/point":69,"@maps/gesture-recognizers":72,"@maps/js-utils":84,"@maps/scheduler":106}],17:[function(e,t,n){function i(e){l.RenderItem.call(this,e)}function o(e,t,n,i,o,r){n=u.mod(n,t),i=u.mod(i,t),o=Math.ceil(o),r=Math.ceil(r);for(var a=Math.ceil(o/t),s=Math.ceil(r/t),l=0;l<a;++l)e.fillRect(n+l*t,0,1,r);for(l=0;l<s;++l)e.fillRect(0,i+l*t,o,1)}function r(e){return"rgb("+e.join(",")+")"}function a(e,t,n){return 0===n?e:1===n?t:[s(e[0],t[0],n),s(e[1],t[1],n),s(e[2],t[2],n)]}function s(e,t,n){return Math.round(t*n+e*(1-n))}var l=e("../../scene-graph"),c=e("../../geo"),u=e("@maps/js-utils"),h=Math.log(10)/Math.log(2);i.prototype=u.inheritPrototype(l.RenderItem,i,{draw:function(e,t){var n=this.node,i=n.zoom,s=100*Math.pow(2,i%h),d=s/10,p=Math.min(d,100),m=d<10?0:(p-10)/90,f=n.origin,g=Math.pow(2,i)*c.tileSize,_=new l.Point(-f.x*g,-f.y*g),v=u.mod(_.x,s)-s,y=u.mod(_.y,s)-s,b=this.node.theme;e.fillStyle=r(b.fillColor),e.fillRect(0,0,n.size.width,n.size.height);var w=1-Math.pow(1-m,2);w>0&&(e.fillStyle=r(a(b.fillColor,b.lineColor,w)),o(e,d,v,y,n.size.width,n.size.height)),e.fillStyle=r(b.lineColor),o(e,s,v,y,n.size.width,n.size.height)}}),t.exports=i},{"../../geo":2,"../../scene-graph":47,"@maps/js-utils":84}],18:[function(e,t,n){function i(e){o.RenderItem.call(this,e)}var o=e("../../scene-graph"),r=e("@maps/js-utils"),a="rgba(0, 0, 0, 0.5)",s="white",l="rgba(255, 255, 255, 0.75)",c="black";i.prototype=r.inheritPrototype(o.RenderItem,i,{draw:function(e){var t=this._node.size.width,n="standard"===this._node.tile.settings.configuration.name;e.fillStyle=n?a:l,e.fillRect(0,0,t,1),e.fillRect(0,1,1,t-1);var i=["x","y","z"].map((function(e){return e+" = "+this._node.tile[e]}),this);e.font="12px -apple-system-font",e.beginPath(),e.moveTo(1,1);var o=1,r=1;i.forEach((function(t,n){var i=e.measureText(t).width;o=1+i+16,e.lineTo(o,r),r+=20,0===n&&(r+=8),e.lineTo(o,r)})),e.lineTo(1,r),e.closePath(),e.fill(),e.fillStyle=n?s:c,e.textBaseline="hanging",i.forEach((function(n,i){e.fillText(n,9,9+20*i,t)}))}}),t.exports=i},{"../../scene-graph":47,"@maps/js-utils":84}],19:[function(e,t,n){function i(e){this.node=e,this._readyToDraw=!1,this._unregisteredLabelRegions=[]}var o=e("@maps/device-pixel-ratio");i.prototype={constructor:i,init:function(e,t,n,i,o){this.Camera=n,this.initRenderer(t,e,i).then(this.syrupInitHandler.bind(this,o)).catch(o.bind(null,!0))},initRenderer:function(e,t,n){var i=this._syrupRenderer=new e({startInLoCSR:n});return i.on("invalid-access-key",(function(){t.accessKeyHasExpired()}),"mapkit-re-bootstrap-notification"),i.on("fallback",(function(){t.syrupRequestedFallback()}),"mapkit-csr-fallback-notification"),i.init(t)},syrupInitHandler:function(e){var t=this._syrupRenderer;t.setDeterministicCollisions(!0),t.setLanguage(this.node.language),t.setDeterministicCollisions(!1),t.setPixelRatio(o()),this._canvas=t.element(),this.updateConfiguration(this.node.configuration,!0),this._readyToDraw=!0,this.performScheduledDraw(),this._unregisteredLabelRegions.forEach((function(e){this._syrupRenderer.registerLabelRegion(e)}),this),delete this._unregisteredLabelRegions,e()},deactivate:function(){this._readyToDraw=!1},destroy:function(){this._readyToDraw=!1,this._syrupRenderer&&(this._syrupRenderer.off("invalid-access-key",null,"mapkit-re-bootstrap-notification"),this._syrupRenderer.off("fallback",null,"mapkit-csr-fallback-notification"),"function"==typeof this._syrupRenderer.destroy&&this._syrupRenderer.destroy(),this._syrupRenderer=null)},get snapsToIntegralZoomLevels(){return!!this._syrupRenderer&&!this._syrupRenderer.supportsNonIntegralZoomLevels()},performScheduledDraw:function(){if(this._readyToDraw){var e=[this.node.size.width,this.node.size.height],t=new this.Camera(e[0]/e[1]),n=this.node.zoomLevel,i=[this.node.camera.center.x,1-this.node.camera.center.y,0];t.setTarget(i),t.setZoomLevel(n),t.setRotation(function(e){return e*r*-1}(this.node.camera.rotation)),this._syrupRenderer.update(t,e),this._syrupRenderer.mapFullyRendered()?this.node._impl.tileGridDidFinishRendering():this.node.needsDisplay=!0}},forceRerender:function(){this._readyToDraw&&this._syrupRenderer.forceRerender()},devicePixelRatioDidChange:function(){this._syrupRenderer&&this._syrupRenderer.setPixelRatio(o())},frozen:!1,get element(){return this.canvas},get canvas(){return this._canvas},get fullyRendered(){return this._syrupRenderer&&this._syrupRenderer.mapFullyRendered()},set language(e){this._syrupRenderer&&this._syrupRenderer.setLanguage(e)},updateNetworkConfiguration:function(e){this._syrupRenderer&&this._syrupRenderer.updateNetworkConfiguration(e)},updateConfiguration:function(e,t){if(this._syrupRenderer){var n=t,i=e.name;this._syrupRenderer.setMapMode(i,n)}},updateShowsPointsOfInterest:function(e,t){this.updateConfiguration(e,t)},createLabelRegion:function(){if(this._syrupRenderer){var e=this._syrupRenderer.createLabelRegion();return this._unregisteredLabelRegions?this._unregisteredLabelRegions.push(e):this._syrupRenderer.registerLabelRegion(e),e}},unregisterLabelRegion:function(e){this._unregisteredLabelRegions?this._unregisteredLabelRegions.splice(this._unregisteredLabelRegions.indexOf(e),1):this._syrupRenderer&&this._syrupRenderer.unregisterLabelRegion(e)}};var r=Math.PI/180;t.exports=i},{"@maps/device-pixel-ratio":61}],20:[function(e,t,n){function i(e){l.call(this,e),this._recognizer=this.addRecognizer(new r.Rotation)}var o=e("../../geo"),r=e("@maps/gesture-recognizers"),a=e("@maps/scheduler"),s=e("@maps/js-utils"),l=e("./gesture-controller"),c=180/Math.PI,u=3*c,h=1e-4*c*1e3;i.prototype=s.inheritPrototype(l,i,{decelerating:!1,stopDecelerating:function(){this.decelerating&&this._decelerationEnded()},destroy:function(){l.prototype.destroy.call(this),this.stopDecelerating(),delete this._recognizer},handleEvent:function(e){var t=e.target;t===this._recognizer&&(t.state===r.States.Began&&(this._rotatedMinimumAmount=!1,this.map.cameraWillStartRotating()),t.state===r.States.Ended&&(this.map.finishedRecognizingRotation(),this._startDeceleratingWithVelocity(t.velocity)),this._handleRotationChange(e.target))},_handleRotationChange:function(e){if(!this._rotatedMinimumAmount){if(Math.abs(e.rotation)<5)return;this.map.beganRecognizingRotation(),this._rotatedMinimumAmount=!0}this._lastRotationCenter=this.centerForGesture(e),e.state===r.States.Changed&&(this.map.rotateCameraAroundMapPoint(this._lastRotationCenter,e.rotation),e.rotation=0)},_centerWithRecognizer:function(e){var t=this.map,n=e.locationInElement(),i=this.map.node.convertPointFromPage(n);i=t.camera.transformGestureCenter(i);var r=t.visibleMapRect,a=t.camera.viewportSize;return new o.MapPoint(r.minX()+i.x/a.width*r.size.width,r.minY()+i.y/a.height*r.size.height)},performScheduledUpdate:function(){if(this.decelerating){var e=Date.now(),t=e-this._timeAtPreviousFrame,n=this._velocity/1e3,i=Math.pow(.995,t),o=.995*n*(i-1)/(.995-1);n*=i,this.map.cameraAnimation?this.map.cameraAnimation.adjustRotation(this._lastRotationCenter,o):this.map.rotateCameraAroundMapPoint(this._lastRotationCenter,o),this._velocity*=i,Math.abs(this._velocity)<=h?this._decelerationEnded():(this._timeAtPreviousFrame=e,this._schedule())}},_startDeceleratingWithVelocity:function(e){if(Math.abs(e)>1440||isNaN(e)||!this._rotatedMinimumAmount)this.map.cameraDidStopRotating();else{if(Math.abs(e)<u)return this.decelerating=!1,void this.map.cameraDidStopRotating();this._velocity=e,this.decelerating=!0,this._timeAtPreviousFrame=Date.now(),this._schedule()}},_schedule:function(){a.scheduleOnNextFrame(this)},_decelerationEnded:function(){this.decelerating=!1,this.map.cameraDidStopRotating()}}),t.exports=i},{"../../geo":2,"./gesture-controller":14,"@maps/gesture-recognizers":72,"@maps/js-utils":84,"@maps/scheduler":106}],21:[function(e,t,n){function i(e){o.call(this,e),this._backgroundGrid=this.node.addChild(new r),this._tileGridsGroup=this.node.addChild(new a(this)),this._tileGridsGroup.opacity=0,setTimeout(function(){this._tileGridsGroup.opacity=1}.bind(this),0)}var o=e("./base-map-node-internal"),r=e("./background-grid-node"),a=e("./tile-grids-group-node"),s=e("@maps/js-utils");i.prototype=s.inheritPrototype(o,i,{stringInfo:function(){return"MapNode<camera:"+this.camera.toString()+">"},get tileSettings(){return{configuration:this._configuration,language:this._language,showsPOI:this._showsPointsOfInterest,showsDefaultTiles:this._showsDefaultTiles,showsTileInfo:this._debug,tileOverlays:this._tileOverlays}},get backgroundGridTheme(){return this._backgroundGrid.theme},set backgroundGridTheme(e){this._backgroundGrid.theme=e},get fullyRendered(){return this._tileGridsGroup.fullyRendered},get cssBackgroundProperty(){return this._tileGridsGroup.cssBackgroundProperty},snapsToIntegralZoomLevels:!0,destroy:function(e){o.prototype.destroy.call(this,e),this._tileGridsGroup.destroy()},refresh:function(){this._tileGridsGroup.scheduleRefresh()},cameraZoomWasSet:function(e){e?this._tileGridsGroup.cameraWillStartZooming(e):this._tileGridsGroup.invalidate()},tileGridDidFinishRendering:function(){this._tileOverlays.forEach((function(e){e._impl.reloadComplete()}),this),o.prototype.tileGridDidFinishRendering.call(this)},handleEvent:function(){this._tileGridsGroup.scheduleRefresh()},beforeCameraZoomChange:function(e){e?this._tileGridsGroup.cameraWillStartZooming():this._tileGridsGroup.cameraDidStopZooming()},devicePixelRatioDidChange:function(){return this._tileGridsGroup.scheduleRefresh(),!0},minZoomLevelForViewportSize:function(e,t){var n=Math.max(e.width,e.height),i=Math.ceil(n/t)+1;return s.log2(i)},updateMinAndMaxZoomLevelsWhenConfigurationChanges:function(){o.prototype.updateMinAndMaxZoomLevelsWhenConfigurationChanges.call(this),this.tileOverlays.forEach((function(e){"number"!=typeof e.minimumZ||isNaN(e.minimumZ)||(this.minZoomLevel=Math.min(this.minZoomLevel,e.minimumZ)),"number"!=typeof e.maximumZ||isNaN(e.maximumZ)||(this.maxZoomLevel=Math.max(this.maxZoomLevel,e.maximumZ))}),this)},_tileOverlaysDidChange:function(){this._updateMinAndMaxZoomLevels(this.camera.viewportSize),this._tileGridsGroup.scheduleRefresh()},needsReplacing:function(e){return e}}),t.exports=i},{"./background-grid-node":8,"./base-map-node-internal":9,"./tile-grids-group-node":28,"@maps/js-utils":84}],22:[function(e,t,n){function i(){o.call(this),Object.defineProperty(this,"_impl",{value:new r(this)})}var o=e("./base-map-node"),r=e("./scene-graph-map-node-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get cssBackgroundProperty(){return this._impl.cssBackgroundProperty},get rotation(){return 0},set rotation(e){this._impl.rotation=e}}),t.exports=i},{"./base-map-node":10,"./scene-graph-map-node-internal":21,"@maps/js-utils":84}],23:[function(e,t,n){function i(e,t){this._element=o(document.createElement("div"),s);var n=o(this._element.appendChild(document.createElement("ul")),l);this._items=[function(e){var t=e.center.toCoordinate();return"Center: "+t.latitude.toFixed(6)+", "+t.longitude.toFixed(6)},function(e){return"Zoom level: "+e.zoom.toFixed(6)},function(e){var t=Math.floor(e.zoom),n=Math.pow(2,t);return"Center tile: x="+Math.floor(a.mod(e.center.x,1)*n)+", y="+Math.floor(e.center.y*n)+", z="+t},function(e){return"Viewport: "+e.viewportSize.width+"\xd7"+e.viewportSize.height}].map((function(e){var t=n.appendChild(document.createElement("li"));return function(n){t.textContent=e(n)}}));var i=r.svgElement("svg",{viewBox:"-16 -16 32 32"},r.svgElement("circle",{r:16,fill:"#ccc"}),r.svgElement("g",{"stroke-width":4,stroke:"#222"},r.svgElement("line",{x1:-8,y1:-8,x2:8,y2:8}),r.svgElement("line",{x1:8,y1:-8,x2:-8,y2:8})));this._element.appendChild(o(i,c)),i.addEventListener("click",e),this.update(t)}function o(e,t){for(var n in t)e.style[n]=t[n];return e}var r=e("../../../src/js/utils"),a=e("@maps/js-utils"),s={fontFamily:"-apple-system-font, sans-serif",margin:"2em auto",width:"18em",borderRadius:"0.5em",color:"#f8f9f0",backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"1em",textAlign:"center",position:"relative"},l={listStyleType:"none",margin:0,paddingLeft:0},c={width:"1em",height:"1em",position:"absolute",top:"0.5em",left:"0.5em"};i.prototype={constructor:i,attachTo:function(e){e.appendChild(this._element)},detach:function(){this._element.remove()},update:function(e){this._items.forEach((function(t){t(e)}))}},t.exports=i},{"../../../src/js/utils":225,"@maps/js-utils":84}],24:[function(e,t,n){function i(e){o.call(this,e),this._renderer=e._renderer,this._backgroundGridTheme=a.Themes.Light,this._requiresFallback=!1,this._fallback=function(){this._requiresFallback=!0}.bind(this)}var o=e("./base-map-node-internal"),r=e("./syrup-debug-panel"),a=e("./background-grid-node"),s=e("@maps/js-utils"),l=e("@maps/device-pixel-ratio"),c=e("./rotation-controller"),u=e("./initial-interaction-controller");i.prototype=s.inheritPrototype(o,i,{init:function(e,t,n,i,o){this._requiresFallback?e.syrupRequestedFallback():(this._fallback=e.syrupRequestedFallback.bind(e),this._renderer.init(this.networkConfigurationFor(e),t,n,i,function(e){this._updateMinAndMaxZoomLevels(this.camera.viewportSize),o(e,this._renderer)}.bind(this)))},get isRotationEnabled(){return this._isRotationEnabled},set isRotationEnabled(e){!e&&this._rotationController?(this._rotationController.destroy(),delete this._rotationController):e&&!this._rotationController&&(this._initialInteractionController||(this._initialInteractionController=new u(this)),this._rotationController=new c(this),this.camera._initialRotation=0),this._isRotationEnabled=e},get rotation(){return this.camera.rotation},set rotation(e){if(this.camera.rotation=e,this._updateDisplay(),!this.cameraAnimation||!this.cameraAnimation.rotating){var t=this.node.delegate;t&&"function"==typeof t.mapRotationDidChange&&t.mapRotationDidChange(this.node)}},updateNetworkConfiguration:function(e){this._renderer.updateNetworkConfiguration(this.networkConfigurationFor(e))},forceRerender:function(){this._renderer.forceRerender()},adjustForSize:function(e){o.prototype.adjustForSize.call(this,e),this.forceRerender()},adjustMapItemPoint:function(e){return this.cameraIsZooming||this.cameraIsPanning||this.cameraIsRotating||(e.x=l.roundToDevicePixel(e.x),e.y=l.roundToDevicePixel(e.y)),e},networkConfigurationFor:function(e){return e?{madabaDomains:e.madabaDomains,rasterTiles:e.types,tileGroup:e.tileGroup,accessKey:e.accessKey,accessKeyHasExpired:e.accessKeyHasExpired.bind(e),syrupRequestedFallback:e.syrupRequestedFallback.bind(e)}:{}},rotateCameraAroundMapPoint:function(e,t){this.camera.rotateAroundCenter(e,t),this._updateDisplay();var n=this.node.delegate;n&&"function"==typeof n.mapRotationDidChange&&n.mapRotationDidChange(this.node)},deactivate:function(){o.prototype.deactivate.call(this),this._renderer.deactivate()},destroy:function(e){o.prototype.destroy.call(this,e),this.customCanvas&&this.customCanvas.remove(),this._renderer.destroy(),this._renderer=null},stringInfo:function(){return"SyrupNode<camera:"+this.camera.toString()+">"},get backgroundGridTheme(){return this._backgroundGridTheme},set backgroundGridTheme(e){this._backgroundGridTheme=e},get fullyRendered(){return this._renderer.fullyRendered},get customCanvas(){return this._renderer&&this._renderer.canvas},get camera(){return this._camera},set camera(e){this._camera=e,this.node.needsDisplay=!0},get language(){return this._language},set language(e){this._language!==e&&(this._language=e,this._renderer&&(this._renderer.language=e,this.node.needsDisplay=!0))},updateConfiguration:function(e){var t=this._configuration&&e.name!==this._configuration.name;o.prototype.updateConfiguration.call(this,e),t&&this._renderer&&(this._renderer.updateConfiguration(e,this._showsPointsOfInterest),this.node.needsDisplay=!0)},updateShowsPointsOfInterest:function(){this._renderer&&this._configuration&&(this._renderer.updateShowsPointsOfInterest(this._configuration,this._showsPointsOfInterest),this.node.needsDisplay=!0)},devicePixelRatioDidChange:function(){return!this._renderer},get snapsToIntegralZoomLevels(){return this._renderer.snapsToIntegralZoomLevels},get debug(){return this._debug},set debug(e){this._debug!==!!e&&(this._debug=!!e,this._debug?this._showDebugPanel():this._hideDebugPanel())},minZoomLevelForViewportSize:function(e,t){return this._renderer&&this._renderer.Camera?this._renderer.Camera.getMinZoomLevel([e.width,e.height],t):this.minZoomLevel},needsReplacing:function(e){return!e},createLabelRegion:function(){return this._renderer.createLabelRegion()},updatedLabelRegion:function(){this.forceRerender(),this.node.needsDisplay=!0},unregisterLabelRegion:function(e){return this._renderer.unregisterLabelRegion(e)},_tileOverlaysDidChange:function(){this._fallback()},_showDebugPanel:function(){this._debugPanel=new r(function(){this.debug=!1}.bind(this),this.camera),this._debugPanel.attachTo(this._element),this._cameraChangesMayHaveEnded=function(e){o.prototype._cameraChangesMayHaveEnded.call(this,e)&&this._debugPanel&&this._debugPanel.update(this.camera)}},_hideDebugPanel:function(){this._debugPanel.detach(),delete this._debugPanel,delete this._cameraChangesMayHaveEnded},_updateDisplay:function(){this.forceRerender(),this.node.needsDisplay=!0,this._cameraDidChange()}}),t.exports=i},{"./background-grid-node":8,"./base-map-node-internal":9,"./initial-interaction-controller":15,"./rotation-controller":20,"./syrup-debug-panel":23,"@maps/device-pixel-ratio":61,"@maps/js-utils":84}],25:[function(e,t,n){function i(){o.call(this),this._renderer=new r(this),Object.defineProperty(this,"_impl",{value:new a(this)})}var o=e("./base-map-node"),r=e("./render-syrup-map"),a=e("./syrup-map-node-internal"),s=e("@maps/js-utils"),l=e("@maps/scheduler");i.prototype=s.inheritPrototype(o,i,{get isRotationEnabled(){return this._impl.isRotationEnabled},set isRotationEnabled(e){this._impl.isRotationEnabled=e},get customCanvas(){return this._impl.customCanvas},set needsDisplay(e){e&&l.scheduleDraw(this._renderer)},init:function(e,t,n,i,o){this._impl.init(e,t,n,i,o)},updateNetworkConfiguration:function(e){this._impl.updateNetworkConfiguration(e)},forceRerender:function(){this._impl.forceRerender()},rotateCameraAroundMapPoint:function(e,t){this._impl.rotateCameraAroundMapPoint(e,t)}}),t.exports=i},{"./base-map-node":10,"./render-syrup-map":19,"./syrup-map-node-internal":24,"@maps/js-utils":84,"@maps/scheduler":106}],26:[function(e,t,n){function i(e,t){var n=Math.pow(2,e.zoom),i=n*o.tileSize,s=e.viewportSize.width/i/2,u=e.viewportSize.height/i/2,h=new o.MapPoint(e.center.x-s,e.center.y-u),d=new o.MapPoint(e.center.x+s,e.center.y+u),p=n-1,m=Math.floor(r.mod(h.x,1)*n),f=Math.floor(r.mod(d.x,1)*n),g=r.clamp(Math.floor(h.y*n),0,p),_=r.clamp(Math.floor(d.y*n),0,p);this.range=new l(new c(m,g,e.zoom),new c(f,_,e.zoom)),this.settings=t,this.resolution=a(),this.zoom=e.zoom,this.mapRect=new o.MapRect(m/n,g/n,(f-m)/n,(_-g)/n),this.mapRect.size.width<0&&this.mapRect.size.width++}var o=e("../../geo"),r=e("@maps/js-utils"),a=e("@maps/device-pixel-ratio"),s=e("./tile-manager"),l=e("./tile-range"),c=e("@maps/geometry/point");i.prototype={constructor:i,equals:function(e){return this.sameSettings(e)&&this.resolution===e.resolution&&this.range.equals(e.range)},sameSettings:function(e){var t=this.settings,n=e.settings;return t.configuration===n.configuration&&t.showsPOI===n.showsPOI&&t.language===n.language&&t.showsDefaultTiles===n.showsDefaultTiles&&t.showsTileInfo===n.showsTileInfo&&this.sameTileOverlays(e)},sameTileOverlays:function(e){return this.settings.tileOverlays.length===e.settings.tileOverlays.length&&this.settings.tileOverlays.every((function(t,n){return t===e.settings.tileOverlays[n]&!t._impl.stale}),this)},sharesTileSourcesWithTileData:function(e){var t=this.settings.configuration.tileSources,n=e.settings.configuration.tileSources;return!("AutoNavi"!==this.settings.configuration.provider||"AutoNavi"!==e.settings.configuration.provider||1!==t.length||1!==n.length||"satellite"!==t[0].name&&"hybrid"!==t[0].name||"satellite"!==n[0].name&&"hybrid"!==n[0].name)||n.some((function(e){return-1!==t.indexOf(e)}))},load:function(){this._tiles||(this._tiles=s.tilesForTileData(this))},cancel:function(){if(!this._canceled&&(this._canceled=!0,this._tiles))for(var e=0,t=this._tiles,n=t.length;e<n;++e)t[e].unschedule()},releaseTiles:function(){if(this._tiles)for(var e=0,t=this._tiles,n=t.length;e<n;++e)s.releaseTile(t[e],this)},get tiles(){return this.load(),this._tiles}},t.exports=i},{"../../geo":2,"./tile-manager":31,"./tile-range":34,"@maps/device-pixel-ratio":61,"@maps/geometry/point":69,"@maps/js-utils":84}],27:[function(e,t,n){function i(e){a.GroupNode.call(this),this._scale=1,this._nodesByTileKey={},this._fadingNodes=[],this._debug=!!e}function o(e){var t=new h(e.tileSource);return t.size=m,e.loaderState===d.Succeeded&&(t.image=e.image,t.opacity=e.preferredOpacity),t}var r=e("../../geo"),a=e("../../scene-graph"),s=e("@maps/js-utils"),l=e("@maps/scheduler"),c=e("./debug-node"),u=e("./tile"),h=e("./tile-image-node"),d=e("@maps/loaders").State,p=new a.Matrix,m=new a.Size(r.tileSize,r.tileSize);i.prototype=s.inheritPrototype(a.GroupNode,i,{stale:!1,fullyRendered:!1,_pendingTileCount:0,_tileData:null,get locked(){return this.wantsLayerBacking},set locked(e){e!==this.wantsLayerBacking&&(e&&this._fadingNodes.length>0?this.wantsLayerBacking=!0:!e&&this._wantsLayerBacking?this.wantsLayerBacking=!1:this.frozen=e)},get tileData(){return this._tileData},setTileDataAnimated:function(e,t){this._fadingNodes=[],delete this._failedTileAndImage;var n=e.tiles,i=e.range.min,o=Math.pow(2,i.z);this._tileData&&this._tileData.tiles.forEach((function(e){if(e.removeEventListener(u.Events.LoadSuccess,this),e.removeEventListener(u.Events.LoadFail,this),-1===n.indexOf(e)){var t=e.key,i=this._nodesByTileKey[t];i&&(i.remove(),delete this._nodesByTileKey[t])}}),this),this._tileData=e,this.fullyRendered=!1,this._pendingTileCount=n.length;var l=this.childCount;n.forEach((function(e){var n=new a.Point(s.mod(e.x-i.x,o)*r.tileSize,(e.y-i.y)*r.tileSize),c=this._ensureNodeForTile(e);c.position=n,c.opacity=0,this.addChild(c),e.loaded?((l>0||!t)&&(c.opacity=1),this._tileDidLoad(e)):(e.addEventListener(u.Events.LoadSuccess,this),e.addEventListener(u.Events.LoadFail,this))}),this)},get pendingTileCount(){return this._pendingTileCount},set scale(e){e!==this._scale&&(this._scale=e,this.transform=1===e?p:(new a.Matrix).scale(e))},get debug(){return this._debug},stringInfo:function(){return"TileGridNode"+(this.tileData?"<range:("+this.tileData.range.toString()+")>":"")},get cssBackgroundProperty(){if(!this.fullyRendered)return"";var e=this.position;return Array.prototype.concat.apply([],this._tileData.tiles.map((function(t){var n=this._nodesByTileKey[t.key];return t.tileImages.reduce((function(t,i,o){return"url("+i.image.src+") "+(e.x+n.position.x)+"px "+(e.y+n.position.y)+"px / "+r.tileSize+"px no-repeat"+(0===o?"":", ")+t}),"")}),this)).join(", ")},handleEvent:function(e){var t=e.target;switch(e.type){case u.Events.LoadSuccess:t.removeEventListener(u.Events.LoadSuccess,this),this._tileDidLoad(t);break;case u.Events.LoadFail:this._tileLoadFail(t,e.tileImage)}},performScheduledUpdate:function(){this._updateFadingNodes(),0===this._pendingTileCount&&0===this._fadingNodes.length&&this._allTilesDidDraw()},_tileDidLoad:function(e){0===--this._pendingTileCount&&this._failedTileAndImage&&(this._failedTileAndImage.tile._requestTileImageLoadStatus(this._failedTileAndImage.tileImage,this._handleTileImageLoadStatus.bind(this)),delete this._failedTileAndImage);var t=this._nodesByTileKey[e.key];if(0===t.childCount){var n=e.tileImages;if(t.children=n.map(o),this.debug){var i=new c(e);i.size=m,t.addChild(i)}}t.opacity<1?(this._fadingNodes.push(t),l.scheduleASAP(this)):0===this._pendingTileCount&&this._allTilesDidDraw()},_tileLoadFail:function(e,t){this._failedTileAndImage={tile:e,tileImage:t}},_handleTileImageLoadStatus:function(e){if(403===e.target.status){var t=this.parent._map.node.delegate;t&&t.tileAccessForbidden()}},_updateFadingNodes:function(){var e=Date.now();this._fadingNodes=this._fadingNodes.filter((function(t){return t._startTime?t.opacity=Math.min(1,(e-t._startTime)/300):0===t.opacity&&(t._startTime=e),1!==t.opacity||(delete t._startTime,!1)})),this._fadingNodes.length>0?l.scheduleOnNextFrame(this):this._wantsLayerBacking&&(this.wantsLayerBacking=!1,this.frozen=!0)},_allTilesDidDraw:function(){this.fullyRendered=!0,this.parent&&this.parent.tileGridDidFinishRendering(this)},_ensureNodeForTile:function(e){var t=e.key,n=this._nodesByTileKey[t];return n||(n=this._nodesByTileKey[t]=new a.GroupNode),n}}),t.exports=i},{"../../geo":2,"../../scene-graph":47,"./debug-node":13,"./tile":35,"./tile-image-node":29,"@maps/js-utils":84,"@maps/loaders":85,"@maps/scheduler":106}],28:[function(e,t,n){function i(e){a.GroupNode.call(this),this._map=e}var o=e("../../geo"),r=e("@maps/scheduler"),a=e("../../scene-graph"),s=e("@maps/device-pixel-ratio"),l=e("./tile-grid-node"),c=e("./tile-data"),u=e("@maps/js-utils");i.prototype=u.inheritPrototype(a.GroupNode,i,{fullyRendered:!1,scheduleRefresh:function(){this.children.forEach((function(e){e.stale=!0})),this.invalidate()},destroy:function(){this._releaseChildren(!0)},invalidate:function(){this.fullyRendered=!1,r.scheduleASAP(this)},stringInfo:function(){return"TileGridsGroupNode"},get cssBackgroundProperty(){return this.fullyRendered?this.lastChild.cssBackgroundProperty:""},handleEvent:function(e){this.scheduleRefresh()},performScheduledUpdate:function(){if(this._canDraw()){var e=this._map,t=e.camera,n=this.lastChild,i=!!n&&n.debug!==this._map.debug,r=!!n&&n.tileData.settings.showsDefaultTiles!==this._map.showsDefaultTiles;if(!this._tileDataAtZoomCompletion){var l;if(Math.round(t.zoom)===t.zoom)l=new c(t,e.tileSettings);else{if(!n)return;l=n.tileData}if(n){if((n.stale||!n.locked)&&(!l.equals(n.tileData)||i||r)){var u=n.tileData;u.tiles.forEach((function(e){l.tiles.indexOf(e)<0&&e.unschedule()}));var h=l.settings.configuration===u.settings.configuration,d=l.sameSettings(u)&&l.resolution===u.resolution&&!i;if(h?!d:l.sharesTileSourcesWithTileData(u))n.locked=!0,this._addNewTileGridAnimated(l,!0);else if(!n.locked){delete n.stale,n.setTileDataAnimated(l,h);var p=this._children[this._children.length-2];p&&!l.sharesTileSourcesWithTileData(p.tileData)&&(this._releaseChildren(!1),this._children=[n])}}}else this._addNewTileGridAnimated(l,!1)}for(var m=t.zoom,f=e.visibleMapRect,g=f.origin,_=f.size,v=0,y=this.children,b=y.length;v<b;++v){var w=y[v],C=w.tileData,E=C.zoom,S=C.mapRect.origin,x=Math.pow(2,m-E),k=Math.pow(2,E)*(o.tileSize*x),L=S.x-g.x;if(L>_.width)L--;else{var T=C.mapRect.size.width;T>0&&L+T<0&&L++}w.scale=x,w.position=new a.Point(s.roundToDevicePixel(L*k),s.roundToDevicePixel((S.y-g.y)*k)),v<b-1&&C.cancel()}this.fullyRendered=b>0&&this.children[b-1].fullyRendered}},cameraWillStartZooming:function(e){if(this._canDraw()){var t=this._map;e&&(this._tileDataAtZoomCompletion=new c(e,t.tileSettings),this._tileDataAtZoomCompletion.load()),this.children.forEach((function(e){e.locked=!0}))}},cameraDidStopZooming:function(){if(this._canDraw())if(this._tileDataAtZoomCompletion)this._addNewTileGridAnimated(this._tileDataAtZoomCompletion,!0,!0),delete this._tileDataAtZoomCompletion;else{var e=this._map,t=this.lastChild;if(t&&e.camera.zoom===t.tileData.zoom)t.locked=!1;else{var n=new c(e.camera,e.tileSettings);this._addNewTileGridAnimated(n,!0,!0)}}},tileGridDidFinishRendering:function(e){var t=this.children,n=t.length,i=t[n-1];if(i.fullyRendered&&!i.locked){for(var o=0;o<n-1;++o)t[o].tileData.releaseTiles();n>1&&(this.children=[i]),this.fullyRendered=!0,this._map.tileGridDidFinishRendering()}},_canDraw:function(){var e=this._map;return e&&!!e.configuration&&!!e.language},_addNewTileGridAnimated:function(e,t,n){var i=new l(this._map.debug),o=this.lastChild;o&&!e.sharesTileSourcesWithTileData(o.tileData)?(this._releaseChildren(!0),this.children=[i]):this.addChild(i),i.setTileDataAnimated(e,t),n&&r.scheduleASAP(this)},_releaseChildren:function(e){for(var t=this.childCount-(e?1:2);t>=0;--t){var n=this.children[t].tileData;n.cancel(),n.releaseTiles()}}}),t.exports=i},{"../../geo":2,"../../scene-graph":47,"./tile-data":26,"./tile-grid-node":27,"@maps/device-pixel-ratio":61,"@maps/js-utils":84,"@maps/scheduler":106}],29:[function(e,t,n){function i(e){o.ImageNode.call(this),this._tileSource=e._public,this._tileSource&&"function"==typeof this._tileSource.addEventListener&&this._tileSource.addEventListener(r.OPACITY_EVENT,this)}var o=e("../../scene-graph"),r=e("./tile-overlay-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o.ImageNode,i,{handleEvent:function(){this._tileSource&&(this.opacity=this._tileSource.opacity)},wasRemoved:function(){setTimeout(function(){this.parent&&this.parent.scene||this._tileSource&&"function"==typeof this._tileSource.removeEventListener&&this._tileSource.removeEventListener(r.OPACITY_EVENT,this)}.bind(this),0)}}),t.exports=i},{"../../scene-graph":47,"./tile-overlay-internal":32,"@maps/js-utils":84}],30:[function(e,t,n){function i(e,t,n,i,r,a,s,l){this.x=e,this.y=t,this.z=n,this.tileSource=i,this.language=r,this.showsPOI=a,this.resolution=s,this._priority=l,this._loader=o(l,this)}function o(e,t){var n;return l.length>0?(n=l.shift()).reuse(e,t):n=new r.ImageLoader(e,t),n}var r=e("@maps/loaders"),a=e("@maps/js-utils"),s={},l=[];i.prototype={constructor:i,get preferredOpacity(){return"number"==typeof this.tileSource.opacity?this.tileSource.opacity:1},get loaderState(){return this._loader?this._loader.state:r.State.Unscheduled},schedule:function(){this._loader||(this._loader=o(this._priority,this)),this._loader.state>r.State.Unscheduled||this._loader.schedule()},unschedule:function(){this._loader&&this._loader.unschedule()&&(l.push(this._loader),this._loader=null)},whenDoneLoading:function(e){this._loader&&this._loader.state>r.State.Loading?e(this):this._doneLoadingCallback=e},get urlForImageLoader(){var e=this.tileSource;if("function"==typeof e.urlForImageLoader)return e.urlForImageLoader(this.x,this.y,this.z,this.resolution);var t=e.domains,n=e.protocol,i=e.supportedResolutions[0],o=e.supportedResolutions[e.supportedResolutions.length-1],r=a.clamp(this.resolution,i,o),l=a.fillTemplate(e.path,{tileSizeIndex:1,x:this.x,y:this.y,z:this.z,resolution:r,lang:this.language,poi:this.showsPOI?1:0}),c=s[l];return c||(c=n+"//"+t[(this.x+this.y)%t.length]+l,s[l]=c,c)},loaderDidSucceed:function(e){this._loaderDidComplete()},loaderDidFail:function(e){this._loaderDidComplete()},_loaderDidComplete:function(){this.image=this._loader.image,"function"==typeof this._doneLoadingCallback&&(this._doneLoadingCallback(this),delete this._doneLoadingCallback)}},t.exports=i},{"@maps/js-utils":84,"@maps/loaders":85}],31:[function(e,t,n){function i(e,t,n,i){return i.settings.configuration.provider+i.settings.configuration.name+e+"-"+t+"-"+n+i.settings.language+i.settings.showsPOI+i.settings.showsDefaultTiles+i.settings.showsTileInfo+i.resolution+i.settings.tileOverlays.map((function(i){return i._impl.keyForTile(e,t,n)})).join("-")}function o(e,t,n,o,s){var l=i(e,t,n,o),c=h[l];return c?c.schedule():((c=new u(l,e,t,n,o.settings,o.resolution,s)).addEventListener(u.Events.LoadSuccess,r),c.addEventListener(u.Events.LoadFail,a),h[l]=c,c._refCount=0,c._loadTileImages()),c._refCount++,c}function r(e){var t=e.target;t.removeEventListener(u.Events.LoadSuccess,r),t.removeEventListener(u.Events.LoadFail,a)}function a(e){var t=e.target;delete h[t.key],t.removeEventListener(u.Events.LoadSuccess,r),t.removeEventListener(u.Events.LoadFail,a)}var s=e("@maps/loaders"),l=e("@maps/geometry/point"),c=e("@maps/js-utils"),u=e("./tile"),h={};t.exports={tilesForTileData:function(e){for(var t=e.range,n=t.min.z,i=Math.pow(2,n),r=t.min,a=t.denormalize().max,u=new l((r.x+a.x)/2,(r.y+a.y)/2),h=[],d=Math.min(a.x,r.x+i-1),p=r.x;p<=d;++p)for(var m=r.y;m<=a.y;++m)h.push(new l(p,m));return h.sort((function(e,t){var n=e.distanceToPoint(u)-t.distanceToPoint(u);return 0===n?e.x-t.x==0?e.y-t.y:e.x-t.x:n})),h.map((function(t){return o(c.mod(t.x,i),t.y,n,e,s.Priority.High)}))},releaseTile:function(e,t){if(e._refCount--,0===e._refCount){e.unschedule();var n=i(e.x,e.y,e.z,t);delete h[n]}}}},{"./tile":35,"@maps/geometry/point":69,"@maps/js-utils":84,"@maps/loaders":85}],32:[function(e,t,n){function i(e,t,n){o.EventTarget(e),this._public=e,n=r.checkOptions(n),a.forEach((function(e){e in n&&(this[e]=n[e])}),this),Object.keys(n).forEach((function(e){a.indexOf(e)<0&&console.warn("[MapKit] Unknown option: "+e+". Use the data property to store custom data.")})),this.urlTemplate=t,void 0===this.opacity&&(this.opacity=s),this.stale=!1}var o=e("@maps/dom-events"),r=e("@maps/js-utils"),a=["minimumZ","maximumZ","opacity","data"],s=1;i.RELOAD_EVENT="tile-overlay-reload",i.OPACITY_EVENT="tile-overlay-opacity-changed",i.prototype={constructor:i,_minimumZ:null,_maximumZ:null,get urlTemplate(){return this._urlTemplate},set urlTemplate(e){var t=typeof e;if("function"!==t&&"string"!==t)throw new TypeError("[MapKit] TileOverlay.urlTemplate expected a function or a string, but got `"+e+"` instead.");this._urlTemplate=e},keyForTile:function(e,t,n){return this._minimumZ+"-"+this._maximumZ+"-"+this.urlForImageLoader(e,t,n,1)},get minimumZ(){return this._minimumZ},get minZoomLevel(){return this._minimumZ},set minimumZ(e){var t="[MapKit] TileOverlay.minimumZ expected a number, but got `"+e+"` instead.";r.checkType(e,"number",t),this._minimumZ=Math.floor(e)},get maximumZ(){return this._maximumZ},get maxZoomLevel(){return this._maximumZ},set maximumZ(e){var t="[MapKit] TileOverlay.maximumZ expected a number, but got `"+e+"` instead.";r.checkType(e,"number",t),this._maximumZ=Math.ceil(e)},get opacity(){return this._opacity},set opacity(e){var t="[MapKit] TileOverlay.opacity expected a number, but got `"+e+"` instead.";r.checkType(e,"number",t),this._opacity=r.clamp(e,0,1);var n=new o.Event(i.OPACITY_EVENT);n.tileOverlay=this,n.opacity=this._opacity,this._public.dispatchEvent(n)},get data(){return this.hasOwnProperty("_data")||(this._data={}),this._data},set data(e){var t="[MapKit] TileOverlay.data expected an Object, but got `"+e+"` instead.";r.checkType(e,"object",t),this._data=e},reload:function(){this.stale=!0;var e=new o.Event(i.RELOAD_EVENT);e.tileOverlay=this,this._public.dispatchEvent(e)},reloadComplete:function(){this.stale=!1},urlForImageLoader:function(e,t,n,i){if(this._urlTemplate){if("function"==typeof this._urlTemplate)return this._urlTemplate(e,t,n,i,this._data);var o=function(e){return e.replace(/\{/g,"{{").replace(/\}/g,"}}")}(this._urlTemplate),a={};return this._data&&Object.keys(this._data).forEach((function(e){a[e]=this._data[e]}),this),a.x=e,a.y=t,a.z=n,a.scale=i,r.fillTemplate(o,a)}},dispatchErrorForURL:function(e){var t=new o.Event("tile-error");t.tileOverlay=this._public,t.tileUrl=e,this._public.dispatchEvent(t)}},t.exports=i},{"@maps/dom-events":62,"@maps/js-utils":84}],33:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new o(this,e,t)})}var o=e("./tile-overlay-internal");i.prototype={constructor:i,get urlTemplate(){return this._impl.urlTemplate},set urlTemplate(e){this._impl.urlTemplate=e},get minimumZ(){return this._impl.minimumZ},set minimumZ(e){this._impl.minimumZ=e},get maximumZ(){return this._impl.maximumZ},set maximumZ(e){this._impl.maximumZ=e},get opacity(){return this._impl.opacity},set opacity(e){this._impl.opacity=e},get data(){return this._impl.data},set data(e){this._impl.data=e},reload:function(){this._impl.reload()}},t.exports=i},{"./tile-overlay-internal":32}],34:[function(e,t,n){function i(e,t){this.min=e,this.max=t}i.prototype={constructor:i,denormalize:function(){var e=this.min.copy(),t=this.max.copy();return t.x<e.x&&(t.x+=Math.pow(2,e.z)),new i(e,t)},toString:function(){return this.min.toString()+" -> "+this.max.toString()},equals:function(e){var t=this.denormalize(),n=e.denormalize();return n.min.x===t.min.x&&n.min.y===t.min.y&&n.max.x===t.max.x&&n.max.y===t.max.y&&n.min.z===t.min.z&&n.max.z===t.max.z}},t.exports=i},{}],35:[function(e,t,n){function i(e,t,n,i,r,a,s){o.EventTarget(this),this.key=e,this.x=t,this.y=n,this.z=i,this.settings=r,this.resolution=a,this.priority=s,this.tileImages=[]}var o=e("@maps/dom-events"),r=e("@maps/loaders"),a=e("@maps/js-utils"),s=e("./tile-image");i.Events={LoadSuccess:"tile-load-success",LoadFail:"tile-load-fail"},i.prototype={constructor:i,loading:!1,loaded:!1,get tileSources(){return(this.settings.showsDefaultTiles?this.settings.configuration.tileSources:[]).concat(this.settings.tileOverlays.map((function(e){return e._impl})).filter((function(e){return!!e.urlForImageLoader(this.x,this.y,this.z,this.resolution)}),this)).filter((function(e){return(this.z>=e.minZoomLevel||"number"!=typeof e.minZoomLevel)&&(this.z<=e.maxZoomLevel||"number"!=typeof e.maxZoomLevel)}),this)},schedule:function(){this.loaded||(this.tileImages.forEach((function(e){e.schedule()})),this.loading=!0)},unschedule:function(){this.tileImages.forEach((function(e){e.unschedule()})),this.loading=!1},_loadTileImages:function(){if(!this.loading){if(this.loaded){if(!this._containsCanceledTileImages())return;this.tileImages=[],this.loaded=!1}this.loading=!0;var e=this.tileSources;0!==e.length?(this._pendingTileImageLoads=e.length,e.forEach(this._loadTileImage,this)):this._allTileImagesDoneLoading()}},_loadTileImage:function(e){var t=this.settings,n=new s(this.x,this.y,this.z,e,t.language,t.showsPOI,this.resolution,this.priority);n.schedule(),this.tileImages.push(n),n.whenDoneLoading(this._tileImageDoneLoading.bind(this,e))},_requestTileImageLoadStatus:function(e,t){var n=a.xhr(t,e.image.src);n.open("GET",e.image.src,!0),n.send()},_tileImageDoneLoading:function(e,t){if(t._loader.state===r.State.Failed)if("function"==typeof e.dispatchErrorForURL)e.dispatchErrorForURL(t._loader.url);else{var n=new o.Event(i.Events.LoadFail);n.tileImage=t,this.dispatchEvent(n)}0===--this._pendingTileImageLoads&&this._allTileImagesDoneLoading()},_allTileImagesDoneLoading:function(){delete this._pendingTileImageLoads,this.loading=!1,this.loaded=!0,this._containsCanceledTileImages()||this.dispatchEvent(new o.Event(i.Events.LoadSuccess))},_containsCanceledTileImages:function(){return this.tileImages.some((function(e){return e.loaderState===r.State.Canceled}))}},t.exports=i},{"./tile-image":30,"@maps/dom-events":62,"@maps/js-utils":84,"@maps/loaders":85}],36:[function(e,t,n){function i(e){u.call(this,e),this._pinchRecognizer=this.addRecognizer(new a.Pinch),this._pinchRecognizer.scaleThreshold=.1,this._doubleTapWithOneFingerRecognizer=this.addRecognizer(new a.Tap),this._doubleTapWithOneFingerRecognizer.numberOfTouchesRequired=1,this._doubleTapWithOneFingerRecognizer.numberOfTapsRequired=2,this._singleTapWithTwoFingersRecognizer=this.addRecognizer(new a.Tap),this._singleTapWithTwoFingersRecognizer.numberOfTouchesRequired=2,this._singleTapWithTwoFingersRecognizer.numberOfTapsRequired=1,this.map.node.element.addEventListener("wheel",this)}function o(e){return e.state===a.States.Began||e.state===a.States.Changed}var r=e("../../geo"),a=e("@maps/gesture-recognizers"),s=e("@maps/js-utils"),l=e("@maps/scheduler"),c=e("@maps/geometry/point"),u=e("./gesture-controller"),h=e("./camera"),d=Math.pow(1e-4,2.5);i.prototype=s.inheritPrototype(u,i,{decelerating:!1,stopDecelerating:function(){this.decelerating&&this._decelerationEnded()},destroy:function(){u.prototype.destroy.call(this),delete this._pinchRecognizer,delete this._doubleTapWithOneFingerRecognizer,delete this._singleTapWithTwoFingersRecognizer,this.map.node.element.removeEventListener("wheel",this),this.stopDecelerating()},get active(){return o(this._pinchRecognizer)||o(this._doubleTapWithOneFingerRecognizer)||o(this._singleTapWithTwoFingersRecognizer)},handleEvent:function(e){if("wheel"!==e.type){var t=e.target;switch(t){case this._pinchRecognizer:this._handlePinchChange(t);break;case this._doubleTapWithOneFingerRecognizer:this._handleDoubleTapWithOneFingerChange(t);break;case this._singleTapWithTwoFingersRecognizer:this._handleSingleTapWithTwoFingersChange(t)}}else this._handleWheelEvent(e)},performScheduledUpdate:function(){if(this._snapping,this.decelerating){var e=this.map,t=Date.now()-this._startTime;if(t>=this._decelerationDuration)return e.scaleCameraAroundMapPoint(this._adjustedScaleAtDecelerationEnd/this._scale,this._lastScaleCenter),void this._decelerationEnded();var n=this._scaleAtTime(t),i=(n-this._initialScale)/(this._scaleAtDecelerationEnd-this._initialScale);n+=this._scaleAdjustment*i,e.scaleCameraAroundMapPoint(n/this._scale,this._lastScaleCenter);var o=e.camera.zoom;o===e.minZoomLevel||o===this.maxZoomLevel?this.stopDecelerating():(this._scale=n,this._schedule())}},_centerWithRecognizer:function(e){return this._mapPointFromCentroid(e.locationInElement())},_mapPointFromCentroid:function(e){var t=this.map,n=t.node.convertPointFromPage(e);n=t.camera.transformGestureCenter(n);var i=t.visibleMapRect,o=t.camera.viewportSize;return new r.MapPoint(i.minX()+n.x/o.width*i.size.width,i.minY()+n.y/o.height*i.size.height)},_handlePinchChange:function(e){var t=this.map,n=t.camera,i=n.zoom;if(e.state===a.States.Began)this._singleTapWithTwoFingersRecognizer.enabled=!1,t.cameraWillStartZooming();else if(e.state===a.States.Ended||e.state===a.States.Changed){var o=e.scale;this._lastScaleCenter=this.centerForGesture(e),(o>1&&t.camera.zoom!==t.maxZoomLevel||o<1&&i!==t.minZoomLevel)&&(t.scaleCameraAroundMapPoint(o,this._lastScaleCenter),e.scale=1)}if((e.state===a.States.Ended||e.state===a.States.Failed)&&(this._singleTapWithTwoFingersRecognizer.enabled=!0,this._startDeceleratingWithVelocity(e.velocity),!this.decelerating)){var r=t.snapsToIntegralZoomLevels?Math.round(i):i,l=s.clamp(r,t.minZoomLevel,t.maxZoomLevel);i===l?t.cameraDidStopZooming():this._lastScaleCenter?t.scaleCameraAroundMapPoint(Math.pow(2,l-i),this._lastScaleCenter,!0):t.setCameraAnimated(new h(n.center,l,n.viewportSize,n.rotation),!0)}},_handleDoubleTapWithOneFingerChange:function(e){e.state===a.States.Recognized&&this._zoomWithTapRecognizer(e,e.modifierKeys.alt)},_handleSingleTapWithTwoFingersChange:function(e){e.state===a.States.Recognized&&this._zoomWithTapRecognizer(e,!0)},_handleWheelEvent:function(e){if(e.shiftKey&&!e.ctrlKey){e.preventDefault();var t=1+.0075*(e.deltaY>0?Math.sqrt(e.deltaY):-Math.sqrt(-e.deltaY)),n=this.map;this._wheelZooming||(n.cameraWillStartZooming(),this._wheelZooming=!0);var i=new c(e.clientX,e.clientY);this._lastScaleCenter=n.staysCenteredDuringZoom?n.transformCenter:this._mapPointFromCentroid(i);var o=n.camera.zoom;(t>1&&n.camera.zoom!==n.maxZoomLevel||t<1&&o!==n.minZoomLevel)&&n.scaleCameraAroundMapPoint(t,this._lastScaleCenter),this._wheelEndTimeout&&(clearTimeout(this._wheelEndTimeout),this._wheelEndTimeout=null),this._wheelEndTimeout=setTimeout(function(){this._wheelEndTimeout=!1,this._wheelZooming=!1;var e=n.camera.zoom,t=e;n.snapsToIntegralZoomLevels&&(t=Math.round(e));var i=s.clamp(t,n.minZoomLevel,n.maxZoomLevel);e===i?n.cameraDidStopZooming():n.scaleCameraAroundMapPoint(Math.pow(2,i-e),this._lastScaleCenter,!0)}.bind(this),100)}},_zoomWithTapRecognizer:function(e,t){var n=this.map,i=n.camera.zoom,o=t?-1:1,r=(t?Math.floor(i+.5):Math.ceil(i-.5))+o,a=i-s.clamp(r,n.minZoomLevel,n.maxZoomLevel);Math.abs(a)<.5||!n.cameraWillStartZooming(!0,!0)||n.setCameraAnimated(n.camera.withNewMapRect(n.visibleMapRect.scale(Math.pow(2,a),this.centerForGesture(e))),!0)},_startDeceleratingWithVelocity:function(e){Math.abs(e)<1||(this.decelerating=!0,this._startTime=Date.now(),this._initialScale=this._scale=1,this._initialVelocity=e/1e3,this._decelerationFactor=.98875,this._decelerationDuration=Math.log(d/Math.pow(this._initialVelocity,2))/(2*Math.log(this._decelerationFactor)),this._scaleAtDecelerationEnd=this._scaleAtTime(this._decelerationDuration),this._adjustedScaleAtDecelerationEnd=this._adjustScaleAtDecelerationEnd(this._scaleAtDecelerationEnd/this._scale),this._scaleAdjustment=this._adjustedScaleAtDecelerationEnd-this._scaleAtDecelerationEnd,this._schedule())},_adjustScaleAtDecelerationEnd:function(e){var t=this.map,n=t.camera.zoom,i=n+s.log2(e);if(t.snapsToIntegralZoomLevels){var o=Math.round(i);i>n&&o<=n?o=Math.ceil(i):i<n&&o>=n&&(o=Math.floor(i)),i=o}var r=s.clamp(i,t.minZoomLevel,t.maxZoomLevel);return Math.pow(2,r-n)},_schedule:function(){l.scheduleOnNextFrame(this)},_scaleAtTime:function(e){return Math.max(this._initialScale+this._decelerationFactor*this._initialVelocity*(Math.pow(this._decelerationFactor,e)-1)/(this._decelerationFactor-1),0)},_decelerationEnded:function(){this.decelerating=!1;var e=this.map;if(e.snapsToIntegralZoomLevels){var t=e.camera,n=e.snapsToIntegralZoomLevels?Math.round(t.zoom):t.zoom;e.setCameraAnimated(new h(t.center,n,t.viewportSize,t.rotation))}e.cameraDidStopZooming()}}),t.exports=i},{"../../geo":2,"./camera":12,"./gesture-controller":14,"@maps/geometry/point":69,"@maps/gesture-recognizers":72,"@maps/js-utils":84,"@maps/scheduler":106}],37:[function(e,t,n){t.exports=e("./src/scale-node")},{"./src/scale-node":45}],38:[function(e,t,n){"use strict";function i(e,t){if(!t)return this._targetOpacity=e,void(this.opacity=e);e!==this._targetOpacity&&(e!==this.opacity?(this._targetOpacity=e,this._startTime=Date.now(),this._startOpacity=this._opacity,r.scheduleOnNextFrame(this)):this._targetOpacity=e)}function o(){if("function"==typeof this.constructor.prototype.performScheduledUpdate&&this.constructor.prototype.performScheduledUpdate.call(this),null!==this._targetOpacity){if(this._targetOpacity===this.opacity)return this._startTime=null,this._startOpacity=null,void(this._targetOpacity=null);var e=Date.now()-this._startTime,t=this._targetOpacity-this._startOpacity,n=Math.abs(t*this._totalDurationMs),i=Math.min(e/n,1),o=a.easeInOut(i)*t+this._startOpacity;this.opacity=s.clamp(o,0,1),r.scheduleOnNextFrame(this)}}var r=e("@maps/scheduler"),a=e("../../../src/js/utils"),s=e("@maps/js-utils");t.exports=function(e,t){return e._targetOpacity=null,e._startOpacity=null,e._startTime=null,e._totalDurationMs=t||300,e.setOpacityAnimated=i,e.performScheduledUpdate=o,e}},{"../../../src/js/utils":225,"@maps/js-utils":84,"@maps/scheduler":106}],39:[function(e,t,n){"use strict";function i(){r.BaseNode.call(this),this._legend=null,this._segmentWidth=0,this._segmentStart=0,this._numberOfSegments=0,this._fillColor=null,this._strokeColor=null,this._renderer=new o(this)}var o=e("./render-legend"),r=e("../../scene-graph"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(r.BaseNode,i,{get legend(){return this._legend},set legend(e){this._legend=e,this.needsDisplay=!0},get segmentStart(){return this._segmentStart},set segmentStart(e){this._segmentStart=e,this.needsDisplay=!0},get segmentWidth(){return this._segmentWidth},set segmentWidth(e){this._segmentWidth=e,this.needsDisplay=!0},get numberOfSegments(){return this._numberOfSegments},set numberOfSegments(e){this._numberOfSegments=e,this.needsDisplay=!0},get fillColor(){return this._fillColor},set fillColor(e){this._fillColor=e,this.needsDisplay=!0},get strokeColor(){return this._strokeColor},set strokeColor(e){this._strokeColor=e,this.needsDisplay=!0},stringInfo:function(){var e="~"+this.fillColor+"/"+this.strokeColor+"~ ";return this._legend?"LegendNode<labels:["+this._legend.labels.slice(0,this.numberOfSegments+1).join(", ")+"], unit:"+this._legend.unit+")> "+e:"LegendNode "+e},measureTextOverflow:function(e,t){return this._renderer.measureTextOverflow(e,t)}}),t.exports=i},{"../../scene-graph":47,"./render-legend":42,"@maps/js-utils":84}],40:[function(e,t,n){"use strict";function i(){a.call(this),o(this,r.InnerTransitionDuration),this.lineWidth=r.OutlineWidth}var o=e("./animatable-opacity-mixin"),r=e("./scale-constants"),a=e("./rect-node"),s=e("@maps/js-utils");i.prototype=s.inheritPrototype(a,i,{stringInfo:function(){return"OutlineNode ~"+this.strokeColor+"~ "}}),t.exports=i},{"./animatable-opacity-mixin":38,"./rect-node":41,"./scale-constants":44,"@maps/js-utils":84}],41:[function(e,t,n){"use strict";function i(){r.BaseNode.call(this),this._fillColor=null,this._strokeColor=null,this._lineWidth=null,this._innerStroke=!1,this._renderer=new o(this)}var o=e("./render-rect"),r=e("../../scene-graph"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(r.BaseNode,i,{get fillColor(){return this._fillColor},set fillColor(e){this._fillColor=e,this.needsDisplay=!0},get strokeColor(){return this._strokeColor},set strokeColor(e){this._strokeColor=e,this.needsDisplay=!0},get innerStroke(){return this._innerStroke},set innerStroke(e){this._innerStroke=e,this.needsDisplay=!0},get lineWidth(){return this._lineWidth},set lineWidth(e){this._lineWidth=e,this.needsDisplay=!0}}),t.exports=i},{"../../scene-graph":47,"./render-rect":43,"@maps/js-utils":84}],42:[function(e,t,n){"use strict";function i(e){r.RenderItem.call(this,e)}var o=e("./scale-constants"),r=e("../../scene-graph"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(r.RenderItem,i,{measureTextOverflow:function(e,t){var n,i=this._node;return i.legend?(e.font=o.LegendFont,n=t?i.legend.labels[0]:i.legend.labels[i.numberOfSegments],e.measureText(n).width/2+(t?0:e.measureText(" "+i.legend.unit).width)):0},draw:function(e){var t=this._node;if(t.legend){e.font=o.LegendFont,e.textAlign="center",e.textBaseline="bottom",e.lineWidth=o.LegendOuterStrokeWidth,e.fillStyle=t.fillColor,e.strokeStyle=t.strokeColor;for(var n=t.size.height-o.LegendMarginBottom-o.LegendSpacing,i=t.segmentStart,r=0;r<=t.numberOfSegments;r++){var a=t.legend.labels[r];e.strokeText(a,i,n),e.fillText(a,i,n),r===t.numberOfSegments?i+=e.measureText(a).width/2:i+=t.segmentWidth}var s=" "+t.legend.unit;e.textAlign="left",e.strokeText(s,i,n),e.fillText(s,i,n)}}}),t.exports=i},{"../../scene-graph":47,"./scale-constants":44,"@maps/js-utils":84}],43:[function(e,t,n){"use strict";function i(e){r.RenderItem.call(this,e)}var o=e("@maps/device-pixel-ratio"),r=e("../../scene-graph"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(r.RenderItem,i,{draw:function(e){var t=this._node,n=t.fillColor,i=t.strokeColor,r=t.lineWidth;n&&(e.fillStyle=n,e.fillRect(0,0,t.size.width,t.size.height)),i&&r&&(r>=1||o()>1)&&(e.lineWidth=r,e.strokeStyle=i,t.innerStroke?e.strokeRect(r/2,r/2,t.size.width-r,t.size.height-r):e.strokeRect(-r/2,-r/2,t.size.width+r,t.size.height+r))}}),t.exports=i},{"../../scene-graph":47,"@maps/device-pixel-ratio":61,"@maps/js-utils":84}],44:[function(e,t,n){"use strict";t.exports={GlobalFadeDuration:700,InnerTransitionDuration:200,MinimumNumberOfSegments:2,MaximumNumberOfSegments:5,MagicNumbers:[1.25,2.5,5],FirstMagicExponent:-3,LastMagicExponent:7,MaximumNumberOfDisplayedSegments:3,SegmentThickness:3,LegendHorizontalMargin:6,LegendMarginBottom:8,LegendSpacing:1,OutlineWidth:1,LightSegmentColorRegular:"rgba(255, 255, 255, 0.7)",DarkSegmentColorRegular:"rgba(0, 0, 0, 0.73)",OutlineColorRegular:"rgba(255, 255, 255, 0.5)",LightSegmentColorSatellite:"rgba(255, 255, 255, 0.8)",DarkSegmentColorSatellite:"rgba(178, 178, 178, 0.8)",OutlineColorSatellite:"rgba(0, 0, 0, 1)",SegmentInnerStrokeColor:"rgba(0, 0, 0, 0.2)",SegmentInnerStrokeWidth:.5,LegendFont:"9px '-apple-system-font', 'Helvetica Neue', 'Helvetica', 'Arial', 'sans-serif'",LegendColorRegular:"rgba(72, 69, 65, 1)",LegendOuterStrokeColorRegular:"rgba(255, 255, 255, 0.5)",LegendColorSatellite:"rgba(255, 255, 255, 1)",LegentOuterStrokeColorSatellite:"rgba(0, 0, 0, 1)",LegendOuterStrokeWidth:1,MetersThreshold:500,FeetThreshold:.25,MilesToMeters:1609.344,MetersToMiles:1/1609.344,MilesToFeet:5280}},{}],45:[function(e,t,n){"use strict";function i(){u.GroupNode.call(this),this._needsLayout=!1,this._layoutCanvas=document.createElement("canvas"),this._layoutContext=this._layoutCanvas.getContext("2d"),this._distance=0,this._mapWidth=0,this._theme=i.Themes.Light,this._leftAligned=!1,this._l10n=null,this._segmentWidth=0,this._oldNumberOfSegments=0,this._legend={labels:[],unit:""},this._legendNode=this.addChild(new a),this._outlineNodes=[0,1].map((function(){return this.addChild(new s)}),this),this._activeOutlineNode=this._outlineNodes[0],this._outlineNodes[1].opacity=0,this._segmentNodes=[0,1,2].map((function(e){return this.addChild(new h)}),this),this._updateColors(),o(this,r.GlobalFadeDuration)}var o=e("./animatable-opacity-mixin"),r=e("./scale-constants"),a=e("./legend-node"),s=e("./outline-node"),l=e("@maps/geometry/rect"),c=e("@maps/scheduler"),u=e("../../scene-graph"),h=e("./segment-node"),d=e("@maps/js-utils");i.Themes={Light:"Light",Dark:"Dark"},i.prototype=d.inheritPrototype(u.GroupNode,i,{get layerBounds(){return new l(0,0,this.size.width,Math.max(this.size.height,48))},get distance(){return this._distance},set distance(e){Math.abs(e-this._distance)/this._distance<.01||(this._distance=e,this._computeSegments(),this.needsLayout=!0)},get mapWidth(){return this._mapWidth},set mapWidth(e){e!==this._mapWidth&&(this._mapWidth=e,this._computeSegments(),this.needsLayout=!0)},get theme(){return this._theme},set theme(e){this._theme=e,this._updateColors()},get l10n(){return this._l10n},set l10n(e){this._l10n&&this._l10n.removeEventListener(this._l10n.Events.LocaleChanged,this),this._l10n=e,e&&e.addEventListener(e.Events.LocaleChanged,this)},get leftAligned(){return this._leftAligned},set leftAligned(e){this._leftAligned=e,this.needsLayout=!0},stringInfo:function(){return"ScaleNode<distance:"+Math.round(100*this.distance)/100+"m>"},get needsLayout(){return this._needsLayout},set needsLayout(e){this._needsLayout!==e&&(this._needsLayout=e,e&&c.scheduleASAP(this))},performScheduledUpdate:function(){this.needsLayout&&(this.layoutSubNodes(),this.needsLayout=!1)},layoutSubNodes:function(){for(var e=this._computeSegmentsRects(),t=0;t<r.MaximumNumberOfDisplayedSegments;t++){var n=e[this.leftAligned?t:e.length-1-t],i=this._segmentNodes[t];n?(i.position=n.origin,i.size=n.size,i.setOpacityAnimated(1,!0)):i.setOpacityAnimated(0,!0)}var o=l.unionOfRects(e).round();if(e.length!==this._oldNumberOfSegments){this._activeOutlineNode.setOpacityAnimated(0,!0);var a=0===this._outlineNodes.indexOf(this._activeOutlineNode)?1:0;this._activeOutlineNode=this._outlineNodes[a],this._activeOutlineNode.setOpacityAnimated(1,!0)}this._activeOutlineNode.position=o.origin,this._activeOutlineNode.size=o.size;var s=e[0];this._legendNode.segmentStart=s.origin.x,this._legendNode.segmentWidth=s.size.width,this._legendNode.size.width=this.size.width,this._legendNode.size.height=this.size.height,this._oldNumberOfSegments=e.length},handleEvent:function(e){this._computeSegments(),this.needsLayout=!0},_updateColors:function(e){var t=this.theme===i.Themes.Dark;this._legendNode.fillColor=t?r.LegendColorSatellite:r.LegendColorRegular,this._legendNode.strokeColor=t?r.LegentOuterStrokeColorSatellite:r.LegendOuterStrokeColorRegular;var n=t?[r.LightSegmentColorSatellite,r.DarkSegmentColorSatellite]:[r.DarkSegmentColorRegular,r.LightSegmentColorRegular];this._segmentNodes.forEach((function(e,i){e.fillColor=n[i%2],e.strokeColor=t?null:r.SegmentInnerStrokeColor}),this);var o=t?r.OutlineColorSatellite:r.OutlineColorRegular;this._outlineNodes.forEach((function(e){e.strokeColor=o}))},_computeSegments:function(){if(0!==this.size.width&&0!==this.mapWidth&&this._l10n){var e,t=this.size.width,n=this.mapWidth,i=this.distance*t/n,o=!this._l10n.useMetric(),a=!1,s=1;o&&(i*=r.MetersToMiles)<r.FeetThreshold&&(a=!0,i*=r.MilesToFeet);for(var l=r.FirstMagicExponent,c=!1;!c&&l<r.LastMagicExponent;l++)c=r.MagicNumbers.some((function(t){return e=t*Math.pow(10,l),(s=i/e)>=r.MinimumNumberOfSegments&&s<r.MaximumNumberOfSegments}));this._segmentWidth=s?t/s:0;var u=e;o&&(a&&(e/=r.MilesToFeet),e*=r.MilesToMeters),this._computeLegend(e,u,a)}},_computeLegend:function(e,t,n){var i=0;this._l10n.useMetric()?e>r.MetersThreshold?(this._legend.unit=this._l10n.get("Scale.Kilometer.Short"),i=e/1e3):(this._legend.unit=this._l10n.get("Scale.Meter.Short"),i=e):(this._legend.unit=n?this._l10n.get("Scale.Feet.Short"):this._l10n.get("Scale.Mile.Short"),i=t);for(var o=[],a=0;a<r.MaximumNumberOfSegments;a++){var s=a*i;o.push(s.toString())}this._legend.labels=o,this._legendNode.legend=this._legend},_computeSegmentsRects:function(){for(var e=this._layoutContext,t=0,n=r.LegendHorizontalMargin+this._legendNode.measureTextOverflow(e,!0),i=this.size.height-r.LegendMarginBottom+r.LegendSpacing,o=this._segmentWidth,a=[],s=0;s<r.MaximumNumberOfDisplayedSegments;s++){var c=new l(n,i,o,r.SegmentThickness).round();if(a.push(c),n=c.origin.x+c.size.width,this._legendNode.numberOfSegments=a.length,n+o+(t=this._legendNode.measureTextOverflow(e))+r.LegendHorizontalMargin>this.size.width)break}0===this._oldNumberOfSegments&&(this._oldNumberOfSegments=a.length);var u=0;return this.leftAligned||(u=Math.round(this.size.width-n-t-r.LegendHorizontalMargin),a.forEach((function(e){e.origin.x+=u}))),a}}),t.exports=i},{"../../scene-graph":47,"./animatable-opacity-mixin":38,"./legend-node":39,"./outline-node":40,"./scale-constants":44,"./segment-node":46,"@maps/geometry/rect":70,"@maps/js-utils":84,"@maps/scheduler":106}],46:[function(e,t,n){"use strict";function i(){a.call(this),o(this,r.InnerTransitionDuration),this.lineWidth=r.SegmentInnerStrokeWidth,this.innerStroke=!0}var o=e("./animatable-opacity-mixin"),r=e("./scale-constants"),a=e("./rect-node"),s=e("@maps/js-utils");i.prototype=s.inheritPrototype(a,i,{stringInfo:function(){return"SegmentNode ~"+this.fillColor+"~ "}}),t.exports=i},{"./animatable-opacity-mixin":38,"./rect-node":41,"./scale-constants":44,"@maps/js-utils":84}],47:[function(e,t,n){t.exports={Scene:e("./src/model/scene"),BaseNode:e("./src/model/base-node"),GroupNode:e("./src/model/group-node"),ImageNode:e("./src/model/image-node"),RenderItem:e("./src/render/c2d/render-item"),NodeAnimator:e("./src/node-animator"),Size:e("@maps/geometry/size"),Point:e("@maps/geometry/point"),Matrix:e("@maps/css-matrix")}},{"./src/model/base-node":49,"./src/model/group-node":50,"./src/model/image-node":51,"./src/model/scene":52,"./src/node-animator":53,"./src/render/c2d/render-item":55,"@maps/css-matrix":58,"@maps/geometry/point":69,"@maps/geometry/size":71}],48:[function(e,t,n){function i(){var e=a;a=[];for(var t=[],n=0,i=e.length;n<i;++n){var r=e[n].scene;r&&o(t,r)&&r.renderer.update()}}function o(e,t){return-1===e.indexOf(t)&&(e.push(t),!0)}var r=e("@maps/scheduler"),a=[];t.exports={scheduleNode:function(e){o(a,e)&&1===a.length&&r.scheduleDraw(i)}}},{"@maps/scheduler":106}],49:[function(e,t,n){function i(){this._parent=null,this._children=[],this._renderer=null,this._opacity=1,this._size=new a,this._position=new s,this._transform=new c,this._frozen=!1,this._wantsLayerBacking=!1}function o(e){for(var t=null,n=0,i=0;e&&!t;){var o=e.transform.transformPoint(e.position);n-=o.x,i-=o.y,t=(e=e.parent).element}return{element:t,offsetX:n,offsetY:i}}function r(e,t,n,i,o){var a="";if(a+=t,o&&(a+=function(e){return e<0?"":e+":"}(n)),a+=e.toString(),a+=function(e){return e.childCount<1?"":" \u2935\ufe0e "+e.childCount}(e),0===i)return a;for(var s=e.children,l=0,c=s.length;l<c;++l){var u=e.childCount<1?-1:l;a+="\n",a+=r(s[l],t+"    ",u,i-1,o)}return a}var a=e("@maps/geometry/size"),s=e("@maps/geometry/point"),l=e("@maps/geometry/rect"),c=e("@maps/css-matrix"),u=e("@maps/web-point-converter"),h=e("../display-scheduler"),d=(new c).toString();i.prototype={constructor:i,get scene(){for(var t=e("./scene"),n=this;n;n=n._parent)if(n instanceof t)return n},get renderer(){return this._renderer},get wantsLayerBacking(){return this._frozen||this._wantsLayerBacking||this._needsLayerBacking()},set wantsLayerBacking(e){e!==this._wantsLayerBacking&&(this._wantsLayerBacking=e,this.needsDisplay=!0)},get frozen(){return this._frozen},set frozen(e){e!==this._frozen&&(this._frozen=e,this.needsDisplay=!0)},get opacity(){return this._opacity},set opacity(e){(e=Math.min(Math.max(0,e),1))!==this._opacity&&(this._opacity=e,this.needsDisplay=!0)},get position(){return this._position},set position(e){e.equals(this._position)||(this._position=e.copy(),this.needsDisplay=!0)},get transform(){return this._transform},set transform(e){this._transform=e,this.needsDisplay=!0},get size(){return this._size},set size(e){this._size=e||new a,this.needsDisplay=!0},get bounds(){return new l(this._position.x,this._position.y,this.size.width,this.size.height)},get layerBounds(){for(var e=new l(0,0,this.size.width,this.size.height),t=this._children,n=0,i=t.length;n<i;++n){var o=t[n],r=o.layerBounds;r.origin.x+=o._position.x,r.origin.y+=o._position.y;for(var a=o.transform,c=[a.transformPoint(new s(r.minX(),r.minY())),a.transformPoint(new s(r.maxX(),r.minY())),a.transformPoint(new s(r.maxX(),r.maxY())),a.transformPoint(new s(r.minX(),r.maxY()))],u=c[0].x,h=c[0].y,d=c[0].x,p=c[0].y,m=1;m<c.length;++m){var f=c[m];f.x<u&&(u=f.x),f.x>d&&(d=f.x),f.y<h&&(h=f.y),f.y>p&&(p=f.y)}e=e.unionWithRect(new l(u,h,d-u,p-h))}return e},set needsDisplay(e){e&&h.scheduleNode(this)},get parent(){return this._parent},get children(){return this._children},set children(e){for(var t=this._children;t.length;)this.removeChild(t[0]);for(var n=0,i=e.length;n<i;++n)this.addChild(e[n])},get childCount(){return this._children.length},get firstChild(){return this._children[0]||null},get lastChild(){return this._children[this._children.length-1]||null},get previousSibling(){if(!this._parent)return null;var e=this._parent._children,t=e.indexOf(this);return t>0?e[t-1]:null},get nextSibling(){if(!this._parent)return null;var e=this._parent._children,t=e.indexOf(this);return-1!==t&&t<e.length-1?e[t+1]:null},toString:function(){var e="";return this.element&&(e+="\ud83c\udff7 "),this.wantsLayerBacking&&(e+="\ud83c\udfc1 "),this.frozen&&(e+="\u2744\ufe0f "),this.stringInfo&&"function"==typeof this.stringInfo?e+=this.stringInfo():e+="UnknownNode",0===this.position.x&&0===this.position.y||(e+=" ("+this.position.x+", "+this.position.y+")"),0===this.size.width&&0===this.size.height||(e+=" "+this.size.width+"x"+this.size.height),1!==this.opacity&&(e+=" [opacity:"+this.opacity+"]"),this.transform.toString()!==d&&(e+=" ["+this.transform.toString()+"]"),this.animators&&this.animators.forEach((function(t){e+=" "+t.stringInfo()})),e},dump:function(e,t){return void 0===e&&(e=1/0),r(this,"",-1,e,!!t)},addChild:function(e,t){return e.remove(),(void 0===t||t<0||t>this._children.length)&&(t=this._children.length),this._children.splice(t,0,e),e._parent=this,this.needsDisplay=!0,e},insertBefore:function(e,t){return this.addChild(e,this._children.indexOf(t))},insertAfter:function(e,t){return this.addChild(e,this._children.indexOf(t)+1)},removeChild:function(e){if(e._parent===this){var t=this._children.indexOf(e);if(-1!==t)return this._children.splice(t,1),function(e){e._parent=null;for(var t=[e];t.length>0;){var n=t.pop();n.wasRemoved(),n._renderer&&"function"==typeof n._renderer.nodeWasRemoved&&n._renderer.nodeWasRemoved(),Array.prototype.push.apply(t,n.children)}}(e),this.needsDisplay=!0,e}},remove:function(){if(this._parent instanceof i)return this._parent.removeChild(this)},wasRemoved:function(){},convertPointFromPage:function(e){if(this.element)return u.fromPageToElement(this.element,e);var t=o(this),n=u.fromPageToElement(t.element,e);return new s(n.x+t.offsetX,n.y+t.offsetY)},convertPointToPage:function(e){if(this.element)return u.fromElementToPage(this.element,e);var t=o(this),n=u.fromElementToPage(t.element,e);return new s(n.x-t.offsetX,n.y-t.offsetY)},_needsLayerBacking:function(){return this.opacity<1&&(this._children.length>1||1===this._children.length&&this._children[0]._children.length>0)}},t.exports=i},{"../display-scheduler":48,"./scene":52,"@maps/css-matrix":58,"@maps/geometry/point":69,"@maps/geometry/rect":70,"@maps/geometry/size":71,"@maps/web-point-converter":107}],50:[function(e,t,n){function i(){o.call(this),this._renderer=new r(this)}var o=e("./base-node"),r=e("../render/c2d/render-item"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{stringInfo:function(){return"GroupNode"}}),t.exports=i},{"../render/c2d/render-item":55,"./base-node":49,"@maps/js-utils":84}],51:[function(e,t,n){function i(){a.call(this),this._image=null,this._renderer=new s(this)}var o=e("@maps/geometry/size"),r=e("@maps/js-utils"),a=e("./base-node"),s=e("../render/c2d/render-image");i.prototype=r.inheritPrototype(a,i,{get image(){return this._image},set image(e){this._image!==e&&(this._image&&this._image.removeEventListener("load",this),this._image=e,this._imageDidLoad(),!e||e.src&&e.complete||e.addEventListener("load",this))},stringInfo:function(){return"ImageNode"+(this._image?"<src:"+this._image.src+">":"")},handleEvent:function(e){e.target===this._image&&this._image.complete&&(this._image.removeEventListener("load",this),this._imageDidLoad(),this.needsDisplay=!0)},_imageDidLoad:function(){this.size.equals(o.Zero)&&(this.size=new o(this._image.width,this._image.height)),this.needsDisplay=!0}}),t.exports=i},{"../render/c2d/render-image":54,"./base-node":49,"@maps/geometry/size":71,"@maps/js-utils":84}],52:[function(e,t,n){function i(){o.call(this),this._renderer=new r(this),s.addEventListener("device-pixel-ratio-change",this)}var o=e("./base-node"),r=e("../render/c2d/render-scene"),a=e("@maps/js-utils"),s=e("@maps/device-pixel-ratio");i.prototype=a.inheritPrototype(o,i,{get element(){return this._renderer.element},destroy:function(){this.children=[],this._renderer._ctx=null,this._renderer._canvas.width=this._renderer._canvas.height=0,s.removeEventListener("device-pixel-ratio-change",this)},stringInfo:function(){return"Scene"},handleEvent:function(e){this.needsDisplay=!0}}),t.exports=i},{"../render/c2d/render-scene":56,"./base-node":49,"@maps/device-pixel-ratio":61,"@maps/js-utils":84}],53:[function(e,t,n){function i(e){this.node=e.node,this.node.animators||(this.node.animators=[]),this.node.animators.push(this),this.duration=e.duration,["from","to","done"].forEach((function(t){t in e&&null!=e[t]&&(this[t]=e[t])}),this)}function o(e){i.call(this,e)}function r(e){i.call(this,e)}function a(e){i.call(this,e),["center","mass","stiffness","damping","initialVelocity"].forEach((function(t){t in e&&(this[t]=e[t])}),this),this.mass>0&&(this.springSolver=new s(this.mass,this.stiffness,this.damping,this.initialVelocity))}function s(e,t,n,i){this.w0=Math.sqrt(t/e),this.zeta=n/(2*Math.sqrt(t*e)),this.zeta<1?(this.wd=this.w0*Math.sqrt(1-this.zeta*this.zeta),this.A=1,this.B=(this.zeta*this.w0-i)/this.wd):(this.wd=0,this.A=1,this.B=-i+this.w0)}var l=e("@maps/geometry/point"),c=e("@maps/css-matrix"),u=e("@maps/scheduler"),h=e("@maps/js-utils");i.prototype={from:0,to:1,done:h.noop,begin:function(){return this.beginDate=Date.now(),u.scheduleASAP(this),this},end:function(){this.node.animators.splice(this.node.animators.indexOf(this),1),0===this.node.animators.length&&delete this.node.animators,delete this.beginDate},performScheduledUpdate:function(){this.beginDate&&(this._p=Math.min((Date.now()-this.beginDate)/this.duration,1),this.update(this._p),this._p<1?u.scheduleOnNextFrame(this):this.ended())},ended:function(){this.end(),this.done(this)},valueAt:function(e){return this.from+e*(this.to-this.from)},stringInfo:function(e,t){var n="\ud83c\udfc7"+e+"<"+this.duration+"ms; "+this.from+"\u2192"+this.to;return this._p>=0&&(n+="/"+Math.round(100*this._p)+"%"),this.hasOwnProperty("done")&&(n+="*"),n+(t||"")+">"}},o.prototype=h.inheritPrototype(i,o,{update:function(e){this.node.opacity=this.valueAt(e)},stringInfo:function(){return i.prototype.stringInfo.call(this,"opacity")}}),r.prototype=h.inheritPrototype(i,r,{from:new l(0,0),to:new l(0,0),update:function(e){this.node.transform=(new c).translate(this.from.x+e*(this.to.x-this.from.x),this.from.y+e*(this.to.y-this.from.y))},stringInfo:function(){return i.prototype.stringInfo.call(this,"translation")}}),a.prototype=h.inheritPrototype(i,a,{center:new l(0,0),scale:function(e){var t=this.center.x,n=this.center.y;this.node.transform=(new c).translate(t,n).scale(e).translate(-t,-n)},update:function(e){this.scale(this.valueAt(this.springSolver?this.springSolver.solve(e):e))},ended:function(){this.mass>0&&this.scale(this.to),i.prototype.ended.call(this)},stringInfo:function(){var e="";return 0===this.center.x&&0===this.center.y||(e+=" ("+this.center.x+", "+this.center.y+")"),this.mass>0&&(e+="\ud83c\udf00"),i.prototype.stringInfo.call(this,"scale",e)}}),s.prototype.solve=function(e){return 1-(this.zeta<1?Math.exp(-e*this.zeta*this.w0)*(this.A*Math.cos(this.wd*e)+this.B*Math.sin(this.wd*e)):(this.A+this.B*e)*Math.exp(-e*this.w0))},t.exports={Opacity:o,Translation:r,Scale:a}},{"@maps/css-matrix":58,"@maps/geometry/point":69,"@maps/js-utils":84,"@maps/scheduler":106}],54:[function(e,t,n){function i(e){o.call(this,e)}var o=e("./render-item"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o,i,{_lastDrawnImage:null,draw:function(e){this._node.image&&(this._node.image.complete?(this._lastDrawnImage=this._node.image,e.drawImage(this._node.image,0,0,this._node.size.width,this._node.size.height)):this._node.image===this._lastDrawnImage&&(this._node.needsDisplay=!0))}}),t.exports=i},{"./render-item":55,"@maps/js-utils":84}],55:[function(e,t,n){function i(e){this._node=e,this._layer=null}var o=e("@maps/device-pixel-ratio");i.prototype={constructor:i,get node(){return this._node},get frozen(){return!!this._frozenLayer},get layer(){var e=this._node;if(e.frozen&&this._frozenLayer)return this._frozenLayer;delete this._frozenLayer,this._layer||(this._layer=document.createElement("canvas"));var t=o(),n=e.layerBounds;this._layer.width=Math.ceil(n.size.width*t),this._layer.height=Math.ceil(n.size.height*t);var i=this._layer.getContext("2d");return i&&i.scale(t,t),e.frozen&&(this._frozenLayer=this._layer),this._layer},set layer(e){this._layer&&(this._layer.width=0),this._layer=e,e||delete this._frozenLayer},nodeWasRemoved:function(){this._layer&&function(e){0===r.length&&window.setTimeout((function(){r.forEach((function(e){e._node.scene||(e.layer=null)})),r=[]}),0),r.push(e)}(this)},draw:function(e){}};var r=[];t.exports=i},{"@maps/device-pixel-ratio":61}],56:[function(e,t,n){function i(e){l.call(this,e),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d")}function o(e,t,n,i,r,a){var s=e.renderer;r&&(s.layer=null);var l=s.frozen,c=e.wantsLayerBacking?s.layer:null;if(c||e.frozen||(s.layer=null),t&&(!e.wantsLayerBacking||c)&&0!==e.opacity){t.save(),t.translate(e.position.x,e.position.y);var u=e.transform;if(t.transform(u.a,u.b,u.c,u.d,u.e,u.f),a*=e.opacity,t.globalAlpha=a,!l||!e.frozen){var h=c?c.getContext("2d"):t;e.renderer.draw(h);for(var d=e.children,p=0,m=d.length;p<m;++p)o(d[p],h,n,i,r,c?1:a)}c&&0!==c.width&&0!==c.height&&t.drawImage(c,0,0,c.width/i,c.height/i),t.restore()}}var r=e("@maps/device-pixel-ratio"),a=e("@maps/geometry/rect"),s=e("@maps/js-utils"),l=e("./render-item");i.prototype=s.inheritPrototype(l,i,{get element(){return this._canvas},update:function(){if(this._ctx){var e=this._node,t=e.size,n=r(),i=!this._previousScale||this._previousScale!==n;!i&&this._previousSize&&this._previousSize.equals(t)?this._ctx.clearRect(0,0,t.width*n,t.height*n):(this._canvas.style.width=t.width+"px",this._canvas.style.height=t.height+"px",this._canvas.width=t.width*n,this._canvas.height=t.height*n,this._previousSize=t.copy(),this._previousScale=n),this._ctx.scale(n,n),o(this.node,this._ctx,new a(-e.position.x,-e.position.y,t.width,t.height),n,i,1),this._ctx.scale(1/n,1/n)}}}),t.exports=i},{"./render-item":55,"@maps/device-pixel-ratio":61,"@maps/geometry/rect":70,"@maps/js-utils":84}],57:[function(e,t,n){function i(){return/Trident/i.test(navigator.userAgent)}t.exports={add:function(e,t){if(e.classList)e.classList.add(t);else if(Boolean(t)&&"string"==typeof t){var n=this._classNames(e);n.indexOf(t)>=0||(n.push(t),this._classNames(e,n))}},remove:function(e,t){if(e.classList)e.classList.remove(t);else{var n=this._classNames(e),i=n.indexOf(t);i<0||(n.splice(i,1),this._classNames(e,n))}},toggle:function(e,t,n){return!e.classList||i()&&3===arguments.length?(void 0===n&&(n=!this.contains(e,t)),n?this.add(e,t):this.remove(e,t),n):void 0===n?e.classList.toggle(t):e.classList.toggle(t,n)},contains:function(e,t){return this._classNames(e).indexOf(t)>=0},_classNames:function(e,t){if(e&&t)e.className=t.join(" ");else if(e){var n=(e.className||"").trim();return n.length>0?n.split(" "):[]}}}},{}],58:[function(e,t,n){function i(){if(this._=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],6===arguments.length)this._setValues(["a","b","c","d","e","f"],arguments);else if(16===arguments.length)this._setValues(["m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44"],arguments);else if(1==arguments.length){var e=arguments[0];if("string"==typeof e){if("none"===e)return;e=e.match(/\bmatrix(?:3d)?\(([^)]+)\)/)[1].split(",").map(parseFloat)}6===e.length?this._setValues(["a","b","c","d","e","f"],e):16===e.length&&this._setValues(["m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44"],e)}}function o(e){return e/180*Math.PI}function r(e,t,n,i){return e*i-t*n}function a(e,t,n,i,o,a,s,l,c){return e*r(o,a,l,c)-i*r(t,n,l,c)+s*r(t,n,o,a)}function s(e,t){!function(e,t){var n=e._[0][0],i=e._[0][1],o=e._[0][2],r=e._[0][3],s=e._[1][0],l=e._[1][1],c=e._[1][2],u=e._[1][3],h=e._[2][0],d=e._[2][1],p=e._[2][2],m=e._[2][3],f=e._[3][0],g=e._[3][1],_=e._[3][2],v=e._[3][3];t._[0][0]=a(l,d,g,c,p,_,u,m,v),t._[1][0]=-a(s,h,f,c,p,_,u,m,v),t._[2][0]=a(s,h,f,l,d,g,u,m,v),t._[3][0]=-a(s,h,f,l,d,g,c,p,_),t._[0][1]=-a(i,d,g,o,p,_,r,m,v),t._[1][1]=a(n,h,f,o,p,_,r,m,v),t._[2][1]=-a(n,h,f,i,d,g,r,m,v),t._[3][1]=a(n,h,f,i,d,g,o,p,_),t._[0][2]=a(i,l,g,o,c,_,r,u,v),t._[1][2]=-a(n,s,f,o,c,_,r,u,v),t._[2][2]=a(n,s,f,i,l,g,r,u,v),t._[3][2]=-a(n,s,f,i,l,g,o,c,_),t._[0][3]=-a(i,l,d,o,c,p,r,u,m),t._[1][3]=a(n,s,h,o,c,p,r,u,m),t._[2][3]=-a(n,s,h,i,l,d,r,u,m),t._[3][3]=a(n,s,h,i,l,d,o,c,p)}(e,t);var n=e._determinant();if(Math.abs(n)<c)return!1;for(var i=0;i<4;i++)for(var o=0;o<4;o++)t._[i][o]=t._[i][o]/n;return!0}var l=e("@maps/geometry/point"),c=1e-8;i.prototype={constructor:i,get a(){return this._[0][0]},get b(){return this._[0][1]},get c(){return this._[1][0]},get d(){return this._[1][1]},get e(){return this._[3][0]},get f(){return this._[3][1]},get m11(){return this._[0][0]},get m12(){return this._[0][1]},get m13(){return this._[0][2]},get m14(){return this._[0][3]},get m21(){return this._[1][0]},get m22(){return this._[1][1]},get m23(){return this._[1][2]},get m24(){return this._[1][3]},get m31(){return this._[2][0]},get m32(){return this._[2][1]},get m33(){return this._[2][2]},get m34(){return this._[2][3]},get m41(){return this._[3][0]},get m42(){return this._[3][1]},get m43(){return this._[3][2]},get m44(){return this._[3][3]},set a(e){this._[0][0]=e},set b(e){this._[0][1]=e},set c(e){this._[1][0]=e},set d(e){this._[1][1]=e},set e(e){this._[3][0]=e},set f(e){this._[3][1]=e},set m11(e){this._[0][0]=e},set m12(e){this._[0][1]=e},set m13(e){this._[0][2]=e},set m14(e){this._[0][3]=e},set m21(e){this._[1][0]=e},set m22(e){this._[1][1]=e},set m23(e){this._[1][2]=e},set m24(e){this._[1][3]=e},set m31(e){this._[2][0]=e},set m32(e){this._[2][1]=e},set m33(e){this._[2][2]=e},set m34(e){this._[2][3]=e},set m41(e){this._[3][0]=e},set m42(e){this._[3][1]=e},set m43(e){this._[3][2]=e},set m44(e){this._[3][3]=e},translate:function(e,t,n){return e=e||0,t=t||0,n=n||0,this._[3][0]+=e*this._[0][0]+t*this._[1][0]+n*this._[2][0],this._[3][1]+=e*this._[0][1]+t*this._[1][1]+n*this._[2][1],this._[3][2]+=e*this._[0][2]+t*this._[1][2]+n*this._[2][2],this._[3][3]+=e*this._[0][3]+t*this._[1][3]+n*this._[2][3],this},scale:function(e,t,n){return e=e||1,t=t||e,n=n||1,this._[0][0]*=e,this._[0][1]*=e,this._[0][2]*=e,this._[0][3]*=e,this._[1][0]*=t,this._[1][1]*=t,this._[1][2]*=t,this._[1][3]*=t,this._[2][0]*=n,this._[2][1]*=n,this._[2][2]*=n,this._[2][3]*=n,this},rotate:function(e){return this.rotateAxisAngle(0,0,1,e)},rotateAxisAngle:function(e,t,n,r){0===e&&0===t&&0===n&&(n=1);var a=Math.sqrt(e*e+t*t+n*n);1!=a&&(e/=a,t/=a,n/=a),r=o(r);var s=Math.sin(r),l=Math.cos(r),c=new i;if(1===e&&0===t&&0===n)c._[0][0]=1,c._[0][1]=0,c._[0][2]=0,c._[1][0]=0,c._[1][1]=l,c._[1][2]=s,c._[2][0]=0,c._[2][1]=-s,c._[2][2]=l,c._[0][3]=c._[1][3]=c._[2][3]=0,c._[3][0]=c._[3][1]=c._[3][2]=0,c._[3][3]=1;else if(0===e&&1===t&&0===n)c._[0][0]=l,c._[0][1]=0,c._[0][2]=-s,c._[1][0]=0,c._[1][1]=1,c._[1][2]=0,c._[2][0]=s,c._[2][1]=0,c._[2][2]=l,c._[0][3]=c._[1][3]=c._[2][3]=0,c._[3][0]=c._[3][1]=c._[3][2]=0,c._[3][3]=1;else if(0===e&&0===t&&1===n)c._[0][0]=l,c._[0][1]=s,c._[0][2]=0,c._[1][0]=-s,c._[1][1]=l,c._[1][2]=0,c._[2][0]=0,c._[2][1]=0,c._[2][2]=1,c._[0][3]=c._[1][3]=c._[2][3]=0,c._[3][0]=c._[3][1]=c._[3][2]=0,c._[3][3]=1;else{var u=1-l;c._[0][0]=l+e*e*u,c._[0][1]=t*e*u+n*s,c._[0][2]=n*e*u-t*s,c._[1][0]=e*t*u-n*s,c._[1][1]=l+t*t*u,c._[1][2]=n*t*u+e*s,c._[2][0]=e*n*u+t*s,c._[2][1]=t*n*u-e*s,c._[2][2]=l+n*n*u,c._[0][3]=c._[1][3]=c._[2][3]=0,c._[3][0]=c._[3][1]=c._[3][2]=0,c._[3][3]=1}return this.multiply(c)},multiply:function(e){var t=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];return t[0][0]=e._[0][0]*this._[0][0]+e._[0][1]*this._[1][0]+e._[0][2]*this._[2][0]+e._[0][3]*this._[3][0],t[0][1]=e._[0][0]*this._[0][1]+e._[0][1]*this._[1][1]+e._[0][2]*this._[2][1]+e._[0][3]*this._[3][1],t[0][2]=e._[0][0]*this._[0][2]+e._[0][1]*this._[1][2]+e._[0][2]*this._[2][2]+e._[0][3]*this._[3][2],t[0][3]=e._[0][0]*this._[0][3]+e._[0][1]*this._[1][3]+e._[0][2]*this._[2][3]+e._[0][3]*this._[3][3],t[1][0]=e._[1][0]*this._[0][0]+e._[1][1]*this._[1][0]+e._[1][2]*this._[2][0]+e._[1][3]*this._[3][0],t[1][1]=e._[1][0]*this._[0][1]+e._[1][1]*this._[1][1]+e._[1][2]*this._[2][1]+e._[1][3]*this._[3][1],t[1][2]=e._[1][0]*this._[0][2]+e._[1][1]*this._[1][2]+e._[1][2]*this._[2][2]+e._[1][3]*this._[3][2],t[1][3]=e._[1][0]*this._[0][3]+e._[1][1]*this._[1][3]+e._[1][2]*this._[2][3]+e._[1][3]*this._[3][3],t[2][0]=e._[2][0]*this._[0][0]+e._[2][1]*this._[1][0]+e._[2][2]*this._[2][0]+e._[2][3]*this._[3][0],t[2][1]=e._[2][0]*this._[0][1]+e._[2][1]*this._[1][1]+e._[2][2]*this._[2][1]+e._[2][3]*this._[3][1],t[2][2]=e._[2][0]*this._[0][2]+e._[2][1]*this._[1][2]+e._[2][2]*this._[2][2]+e._[2][3]*this._[3][2],t[2][3]=e._[2][0]*this._[0][3]+e._[2][1]*this._[1][3]+e._[2][2]*this._[2][3]+e._[2][3]*this._[3][3],t[3][0]=e._[3][0]*this._[0][0]+e._[3][1]*this._[1][0]+e._[3][2]*this._[2][0]+e._[3][3]*this._[3][0],t[3][1]=e._[3][0]*this._[0][1]+e._[3][1]*this._[1][1]+e._[3][2]*this._[2][1]+e._[3][3]*this._[3][1],t[3][2]=e._[3][0]*this._[0][2]+e._[3][1]*this._[1][2]+e._[3][2]*this._[2][2]+e._[3][3]*this._[3][2],t[3][3]=e._[3][0]*this._[0][3]+e._[3][1]*this._[1][3]+e._[3][2]*this._[2][3]+e._[3][3]*this._[3][3],this._=t,this},skewX:function(e){return this._skew(e,0)},skewY:function(e){return this._skew(0,e)},isAffine:function(){return 0==this._[0][2]&&0==this._[0][3]&&0==this._[1][2]&&0==this._[1][3]&&0==this._[2][0]&&0==this._[2][1]&&1==this._[2][2]&&0==this._[2][3]&&0==this._[3][2]&&1==this._[3][3]},inverse:function(){if(this._isIdentityOrTranslation())return 0==this._[3][0]&&0==this._[3][1]&&0==this._[3][2]||(this._[3][0]*=-1,this._[3][1]*=-1,this._[3][2]*=-1),this;var e=new i;return s(this,e)?e:new i},transformPoint:function(e){return new l(this._[0][0]*e.x+this._[1][0]*e.y+this._[2][0]*e.z+this._[3][0],this._[0][1]*e.x+this._[1][1]*e.y+this._[2][1]*e.z+this._[3][1],this._[0][2]*e.x+this._[1][2]*e.y+this._[2][2]*e.z+this._[3][2])},toString:function(){return this.isAffine()?"matrix("+[this._[0][0],this._[0][1],this._[1][0],this._[1][1],this._[3][0],this._[3][1]].join(", ")+")":"matrix3d("+this._.map((function(e){return e.join(", ")})).join(", ")+")"},_setValues:function(e,t){e.forEach((function(e,n){this[e]=t[n]}),this)},_isIdentityOrTranslation:function(){return 1==this._[0][0]&&0==this._[0][1]&&0==this._[0][2]&&0==this._[0][3]&&0==this._[1][0]&&1==this._[1][1]&&0==this._[1][2]&&0==this._[1][3]&&0==this._[2][0]&&0==this._[2][1]&&1==this._[2][2]&&0==this._[2][3]&&1==this._[3][3]},_skew:function(e,t){var n=new i;return n._[0][1]=Math.tan(o(t)),n._[1][0]=Math.tan(o(e)),this.multiply(n)},_determinant:function(){var e=this._[0][0],t=this._[0][1],n=this._[0][2],i=this._[0][3],o=this._[1][0],r=this._[1][1],s=this._[1][2],l=this._[1][3],c=this._[2][0],u=this._[2][1],h=this._[2][2],d=this._[2][3],p=this._[3][0],m=this._[3][1],f=this._[3][2],g=this._[3][3];return e*a(r,u,m,s,h,f,l,d,g)-t*a(o,c,p,s,h,f,l,d,g)+n*a(o,c,p,r,u,m,l,d,g)-i*a(o,c,p,r,u,m,s,h,f)}},t.exports=i},{"@maps/geometry/point":59}],59:[function(e,t,n){function i(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}t.exports=i,i.Zero=new i,i.fromEvent=function(e){var t="undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.targetTouches[0]:e;return new i(t.pageX,t.pageY)},i.fromEventInElement=function(e,t){var n="undefined"!=typeof TouchEvent&&e instanceof TouchEvent?e.targetTouches[0]:e,o=window.webkitConvertPointFromPageToNode(t,new WebKitPoint(n.pageX,n.pageY));return new i(o.x,o.y)},i.prototype={constructor:i,toString:function(){return"Point["+[this.x,this.y,this.z].join(", ")+"]"},copy:function(){return new i(this.x,this.y,this.z)},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},distanceToPoint:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)+Math.pow(this.z-e.z,2))}}},{}],60:[function(e,t,n){function i(){this._operations=[]}function o(e,t,n){this.x=u(e),this.y=u(t),this.z=u(n)}function r(e,t,n){this.x=u(e,1),this.y=u(t,this.x),this.z=u(n,1)}function a(e){this.angle=u(e)}function s(e,t){this.x=u(e),this.y=u(t)}function l(e,t,n,i){this.x=u(e),this.y=u(t),this.z=u(n),this.angle=u(i)}function c(){if(1===arguments.length)return arguments[0]+"px";for(var e=0,t=arguments.length,n=[];e<t;++e)n.push(c(arguments[e]));return n.join(", ")}function u(e,t){return null==e?t||0:e}function h(e,t){return e+"("+t+")"}i.prototype={constructor:i,translate:function(e,t,n){return this._operations.push(new o(e,t,n)),this},scale:function(e,t,n){return this._operations.push(new r(e,t,n)),this},rotate:function(e){return this._operations.push(new a(e)),this},rotate3d:function(e,t,n,i){return this._operations.push(new l(e,t,n,i)),this},skew:function(e,t){return this._operations.push(new s(e,t)),this},transform:function(e){return this._operations=this._operations.concat(e),this},toString:function(){return this._operations.map((function(e){return e.toString()})).join(" ")}},t.exports=i,o.prototype={constructor:o,toString:function(){return!this.x||this.y||this.z?!this.y||this.x||this.z?!this.z||this.x||this.y?this.z?h("translate3d",c(this.x,this.y,this.z)):h("translate",c(this.x,this.y)):h("translateZ",c(this.z)):h("translateY",c(this.y)):h("translateX",c(this.x))}},r.prototype={constructor:r,toString:function(){return 1!==this.x&&1===this.y&&1===this.z?h("scaleX",this.x):1!==this.y&&1===this.x&&1===this.z?h("scaleY",this.y):1!==this.z&&1===this.x&&1===this.y?h("scaleZ",this.z):1===this.z?this.x===this.y?h("scale",this.x):h("scale",[this.x,this.y].join(", ")):h("scale3d",[this.x,this.y,this.z].join(", "))}},a.prototype={constructor:a,toString:function(){return h("rotate",angle+"deg")}},s.prototype={constructor:s,toString:function(){return 0!==this.x&&0===this.y?h("skewX",this.x+"deg"):0!==this.y&&0===this.x?h("skewY",this.y+"deg"):h("skew",[this.x+"deg",this.y+"deg"].join(", "))}},l.prototype={constructor:a,toString:function(){return h("rotate3d",[this.x,this.y,this.z,this.angle].join(", ")+"deg")}}},{}],61:[function(e,t,n){function i(e,t){if(window.matchMedia){var n=window.matchMedia(e);"function"==typeof n.addListener&&(c=!0,n.addListener(t))}}function o(){return c?u:r()}function r(){return null!=s?s:"devicePixelRatio"in window?Math.max(Math.round(window.devicePixelRatio),1):"screen"in window&&"deviceXDPI"in window.screen&&"logicalXDPI"in window.screen?Math.max(Math.round(window.screen.deviceXDPI/window.screen.logicalXDPI),1):1}function a(){u=r();var e=new l.Event("device-pixel-ratio-change");e.value=o(),o.dispatchEvent(e)}var s,l=e("@maps/dom-events"),c=!1,u=r();i("(-webkit-device-pixel-ratio: 1)",a),i("(-moz-device-pixel-ratio: 1)",a),l.EventTarget(o),t.exports=o,t.exports.roundToDevicePixel=function(e){var t=o();return Math.round(e*t)/t},t.exports.simulateDevicePixelRatio=function(e){s=e,u=null==e?r():s,a()}},{"@maps/dom-events":62}],62:[function(e,t,n){function i(e){if(e)return e.addEventListener=i.prototype.addEventListener,e.removeEventListener=i.prototype.removeEventListener,e.dispatchEvent=i.prototype.dispatchEvent,e}function o(e){this.type=e,this.target=null,this.defaultPrevented=!1,this._stoppedPropagation=!1}t.exports={EventTarget:i,Event:o},i.prototype={constructor:i,addEventListener:function(e,t,n){if(n=n||null,console.assert(e,"Object.addEventListener: invalid event type ",e,"(listener: ",t,"thisObject: ",n,")"),!e)return!1;if(console.assert(t,"Object.addEventListener: invalid listener ",t,"(event type: ",e,"thisObject: ",n,")"),!t)return!1;this._listeners||(this._listeners={});var i=this._listeners[e];i||(i=this._listeners[e]=[]);for(var o=0;o<i.length;++o)if(i[o].listener===t&&i[o].thisObject===n)return!1;return i.push({thisObject:n,listener:t}),!0},removeEventListener:function(e,t,n){if(e=e||null,t=t||null,n=n||null,!this._listeners)return!1;if(!e){for(e in this._listeners)this.removeEventListener(e,t,n);return!1}var i=this._listeners[e];if(!i)return!1;for(var o=!1,r=i.length-1;r>=0;--r)if(t&&i[r].listener===t&&i[r].thisObject===n||!t&&n&&i[r].thisObject===n){i.splice(r,1),o=!0;break}return i.length||delete this._listeners[e],Object.keys(this._listeners).length||delete this._listeners,o},dispatchEvent:function(e){if(e.target=this,!this._listeners||!this._listeners[e.type]||e._stoppedPropagation)return!0;for(var t=this._listeners[e.type].slice(0),n=0;n<t.length;++n){var i=t[n].thisObject,o=t[n].listener;if(i||"function"==typeof o||"function"!=typeof o.handleEvent?o.call(i,e):o.handleEvent.call(o,e),e._stoppedPropagation)break}return!e.defaultPrevented}},o.prototype={constructor:o,stopPropagation:function(){this._stoppedPropagation=!0},preventDefault:function(){this.defaultPrevented=!0}}},{}],63:[function(e,t,n){var i=e("./src/types"),o=e("./src/functions"),r=e("./src/webgl");t.exports=function(e,t){e=e||0,t=t||0;var n={};return n.shouldTryCSR=[i,o,r].every((function(i){var o=i.fn(e,t);return n[i.name]=o,"object"==typeof o?o.capable:o})),n}},{"./src/functions":64,"./src/types":65,"./src/webgl":66}],64:[function(e,t,n){t.exports={name:"functions",fn:function(){return!!(Array.prototype.fill&&Uint8Array.from&&window.btoa)}}},{}],65:[function(e,t,n){t.exports={name:"types",fn:function(){return!!(Float32Array&&Float64Array&&Uint8Array&&Int32Array)}}},{}],66:[function(e,t,n){function i(e,t,n){return e.getParameter(e.MAX_TEXTURE_SIZE)>=4096&&e.getParameter(e.MAX_RENDERBUFFER_SIZE)>=2*t&&e.getParameter(e.MAX_RENDERBUFFER_SIZE)>=2*n&&e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>=8&&e.getParameter(e.MAX_VARYING_VECTORS)>=8&&e.getParameter(e.STENCIL_BITS)>=8}function o(e){return{VERSION:e.getParameter(e.VERSION),MAX_RENDERBUFFER_SIZE:e.getParameter(e.MAX_RENDERBUFFER_SIZE)}}t.exports={name:"webGL",fn:function(e,t){var n=document.createElement("canvas");n.width=n.height=0;var r=n.getContext("webgl",{antialias:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});return!!r&&{capable:i(r,e,t),gpuInfo:o(r)}}}},{}],67:[function(e,t,n){"use strict";function i(e,t,n,i){1===arguments.length&&e&&"object"==typeof e?("x"in e&&(this.x=e.x),"y"in t&&(this.y=e.y),"z"in e&&(this.z=e.z),"w"in e&&(this.w=e.w)):arguments.length>0&&(this.x=e,arguments.length>1&&(this.y=t,arguments.length>2&&(this.z=n,arguments.length>3&&(this.w=i))))}i.prototype={_x:0,_y:0,_z:0,_w:1,get x(){return this._x},set x(e){if(null===e||isNaN(e))throw"[DOMPoint] `"+e+"` set for x is not a number";this._x=e},get y(){return this._y},set y(e){if(null===e||isNaN(e))throw"[DOMPoint] `"+e+"` set for y is not a number";this._y=e},get z(){return this._z},set z(e){if(null===e||isNaN(e))throw"[DOMPoint] `"+e+"` set for z is not a number";this._z=e},get w(){return this._w},set w(e){if(null===e||isNaN(e))throw"[DOMPoint] `"+e+"` set for w is not a number";this._w=e},matrixTransform:function(e){return console.warn("DOMPoint.matrixTransform is not implemented yet."),this}},t.exports=i},{}],68:[function(e,t,n){t.exports={Point:e("./point"),Size:e("./size"),Rect:e("./rect")}},{"./point":69,"./rect":70,"./size":71}],69:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{dup:59}],70:[function(e,t,n){function i(e,t,n,i){this.origin=new o(e||0,t||0),this.size=new r(n||0,i||0)}t.exports=i;var o=e("./point"),r=e("./size");i.Zero=new i,i.rectFromClientRect=function(e){return new i(e.left,e.top,e.width,e.height)},i.unionOfRects=function(e){for(var t=e[0],n=1;n<e.length;++n)t=t.unionWithRect(e[n]);return t},i.prototype={constructor:i,toString:function(){return"Rect["+[this.origin.x,this.origin.y,this.size.width,this.size.height].join(", ")+"]"},copy:function(){return new i(this.origin.x,this.origin.y,this.size.width,this.size.height)},equals:function(e){return this.origin.equals(e.origin)&&this.size.equals(e.size)},inset:function(e,t,n,o){return new i(this.origin.x+e,this.origin.y+t,this.size.width-e-n,this.size.height-t-o)},pad:function(e){return new i(this.origin.x-e,this.origin.y-e,this.size.width+2*e,this.size.height+2*e)},minX:function(){return this.origin.x},minY:function(){return this.origin.y},midX:function(){return this.origin.x+this.size.width/2},midY:function(){return this.origin.y+this.size.height/2},maxX:function(){return this.origin.x+this.size.width},maxY:function(){return this.origin.y+this.size.height},intersectionWithRect:function(e){var t=new i,n=Math.max(this.minX(),e.minX()),o=Math.min(this.maxX(),e.maxX());if(n>o)return t;var r=Math.max(this.minY(),e.minY()),a=Math.min(this.maxY(),e.maxY());return r>a||(t.origin.x=n,t.origin.y=r,t.size.width=o-n,t.size.height=a-r),t},unionWithRect:function(e){var t=Math.min(this.minX(),e.minX()),n=Math.min(this.minY(),e.minY());return new i(t,n,Math.max(this.maxX(),e.maxX())-t,Math.max(this.maxY(),e.maxY())-n)},round:function(){return new i(Math.floor(this.origin.x),Math.floor(this.origin.y),Math.ceil(this.size.width),Math.ceil(this.size.height))}}},{"./point":69,"./size":71}],71:[function(e,t,n){function i(e,t){this.width=e||0,this.height=t||0}t.exports=i,i.Zero=new i,i.prototype={constructor:i,toString:function(){return"Size["+this.width+", "+this.height+"]"},copy:function(){return new i(this.width,this.height)},equals:function(e){return this.width===e.width&&this.height===e.height}}},{}],72:[function(e,t,n){var i=e("./js/gesture-recognizer");t.exports={GestureRecognizer:i,SupportsTouches:i.SupportsTouches,States:i.States,LongPress:e("./js/long-press"),Pan:e("./js/pan"),Pinch:e("./js/pinch"),Rotation:e("./js/rotation"),Swipe:e("./js/swipe"),Tap:e("./js/tap"),View:e("./js/view")}},{"./js/gesture-recognizer":73,"./js/long-press":74,"./js/pan":75,"./js/pinch":76,"./js/rotation":77,"./js/swipe":78,"./js/tap":79,"./js/view":80}],73:[function(e,t,n){function i(){o.EventTarget.call(this),this._targetTouches=[],this._enabled=!0,this._target=null,this.view=null,this.state=i.States.Possible,this.delegate=null}var o=e("@maps/dom-events"),r=e("@maps/geometry/point"),a=e("@maps/web-point-converter");i.SupportsTouches="createTouch"in document,i.SupportsGestures=!!window.GestureEvent,i.States={Possible:"possible",Began:"began",Changed:"changed",Ended:"ended",Cancelled:"cancelled",Failed:"failed",Recognized:"ended"},i.Events={TouchStart:i.SupportsTouches?"touchstart":"mousedown",TouchMove:i.SupportsTouches?"touchmove":"mousemove",TouchEnd:i.SupportsTouches?"touchend":"mouseup",TouchCancel:"touchcancel",GestureStart:"gesturestart",GestureChange:"gesturechange",GestureEnd:"gestureend",StateChange:"statechange"},i.prototype=Object.create(o.EventTarget.prototype,{target:{get:function(){return this._target},set:function(e){e&&this._target!==e&&(this._target=e,this._initRecognizer())}},numberOfTouches:{get:function(){return this._targetTouches.length}},enabled:{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,e||(0===this.numberOfTouches?(this._removeTrackingListeners(),this.reset()):this.enterCancelledState()),this._updateBaseListeners())}}}),i.prototype.constructor=i,i.prototype.modifierKeys={alt:!1,ctrl:!1,meta:!1,shift:!1},i.prototype.reset=function(){},i.prototype.locationInElement=function(e){for(var t=new r,n=this._targetTouches,i=0,o=n.length;i<o;++i){var s=n[i];t.x+=s.pageX,t.y+=s.pageY}return t.x/=o,t.y/=o,e?a.fromPageToElement(e,t):t},i.prototype.locationInClient=function(){for(var e=new r,t=this._targetTouches,n=0,i=t.length;n<i;++n){var o=t[n];e.x+=o.clientX,e.y+=o.clientY}return e.x/=i,e.y/=i,e},i.prototype.locationOfTouchInElement=function(e,t){var n=this._targetTouches[e];if(!n)return new r;var i=new r(n.pageX,n.pageY);return t?a.fromPageToElement(t,i):i},i.prototype.touchesBegan=function(e){e.currentTarget===this._target&&(window.addEventListener(i.Events.TouchMove,this,!0),window.addEventListener(i.Events.TouchEnd,this,!0),window.addEventListener(i.Events.TouchCancel,this,!0),this.enterPossibleState())},i.prototype.touchesMoved=function(e){},i.prototype.touchesEnded=function(e){},i.prototype.touchesCancelled=function(e){},i.prototype.gestureBegan=function(e){e.currentTarget===this._target&&(window.addEventListener(i.Events.GestureChange,this,!0),window.addEventListener(i.Events.GestureEnd,this,!0),this.enterPossibleState())},i.prototype.gestureChanged=function(e){},i.prototype.gestureEnded=function(e){},i.prototype.enterPossibleState=function(){this._setStateAndNotifyOfChange(i.States.Possible)},i.prototype.enterBeganState=function(){!this.delegate||"function"!=typeof this.delegate.gestureRecognizerShouldBegin||this.delegate.gestureRecognizerShouldBegin(this)?this._setStateAndNotifyOfChange(i.States.Began):this.enterFailedState()},i.prototype.enterEndedState=function(){this._setStateAndNotifyOfChange(i.States.Ended),this._removeTrackingListeners(),this.reset()},i.prototype.enterCancelledState=function(){this._setStateAndNotifyOfChange(i.States.Cancelled),this._removeTrackingListeners(),this.reset()},i.prototype.enterFailedState=function(){this._setStateAndNotifyOfChange(i.States.Failed),this._removeTrackingListeners(),this.reset()},i.prototype.enterChangedState=function(){this._setStateAndNotifyOfChange(i.States.Changed)},i.prototype.enterRecognizedState=function(){this._setStateAndNotifyOfChange(i.States.Recognized)},i.prototype.handleEvent=function(e){switch(this._updateTargetTouches(e),this._updateKeyboardModifiers(e),e.type){case i.Events.TouchStart:this.touchesBegan(e);break;case i.Events.TouchMove:this.touchesMoved(e);break;case i.Events.TouchEnd:this.touchesEnded(e);break;case i.Events.TouchCancel:this.touchesCancelled(e);break;case i.Events.GestureStart:this.gestureBegan(e);break;case i.Events.GestureChange:this.gestureChanged(e);break;case i.Events.GestureEnd:this.gestureEnded(e)}},i.prototype._initRecognizer=function(){this.reset(),this.state=i.States.Possible,this._updateBaseListeners()},i.prototype._updateBaseListeners=function(){this._target&&(this._enabled?(this._target.addEventListener(i.Events.TouchStart,this),i.SupportsGestures&&this._target.addEventListener(i.Events.GestureStart,this)):(this._target.removeEventListener(i.Events.TouchStart,this),i.SupportsGestures&&this._target.removeEventListener(i.Events.GestureStart,this)))},i.prototype._removeTrackingListeners=function(){window.removeEventListener(i.Events.TouchMove,this,!0),window.removeEventListener(i.Events.TouchEnd,this,!0),window.removeEventListener(i.Events.GestureChange,this,!0),window.removeEventListener(i.Events.GestureEnd,this,!0)},i.prototype._setStateAndNotifyOfChange=function(e){this.state=e,this.dispatchEvent(new o.Event(i.Events.StateChange))},i.prototype._updateTargetTouches=function(e){if(i.SupportsTouches){if(e instanceof TouchEvent)if(e.type!==i.Events.TouchStart)if(e.type!==i.Events.TouchMove){for(var t=e.touches,n=[],o=0,r=t.length;o<r;++o)n.push(t[o].identifier);this._targetTouches=this._targetTouches.filter((function(e){return-1!==n.indexOf(e.identifier)}))}else{var a=this._targetTouches.map((function(e){return e.identifier}));this._targetTouches=[];var s=e.touches;for(o=0,r=s.length;o<r;++o){var l=s[o];-1!==a.indexOf(l.identifier)&&this._targetTouches.push(l)}}else{this._targetTouches=[];for(o=0,r=(s=e.targetTouches).length;o<r;++o)this._targetTouches.push(s[o])}}else e.type===i.Events.TouchEnd?this._targetTouches=[]:this._targetTouches=[e]},i.prototype._updateKeyboardModifiers=function(e){this.modifierKeys.alt=e.altKey,this.modifierKeys.ctrl=e.ctrlKey,this.modifierKeys.meta=e.metaKey,this.modifierKeys.shift=e.shiftKey},t.exports=i},{"@maps/dom-events":62,"@maps/geometry/point":82,"@maps/web-point-converter":83}],74:[function(e,t,n){function i(){this.allowableMovement=10,this.minimumPressDuration=500,this.numberOfTouchesRequired=1,this.allowsRightMouseButton=!1,o.call(this)}var o=e("./gesture-recognizer");i.prototype=Object.create(o.prototype),i.constructor=i,i.prototype.touchesBegan=function(e){e.currentTarget===this.target&&(2!==e.button||this.allowsRightMouseButton)&&(o.prototype.touchesBegan.call(this,e),this.numberOfTouches===this.numberOfTouchesRequired?(this._startPoint=this.locationInElement(),this._timerId=window.setTimeout(this.enterRecognizedState.bind(this),this.minimumPressDuration)):this.enterFailedState())},i.prototype.touchesMoved=function(e){e.preventDefault(),this._startPoint.distanceToPoint(this.locationInElement())>this.allowableMovement&&this.enterFailedState()},i.prototype.touchesEnded=function(e){this.state===o.States.Recognized?(e.preventDefault(),this.numberOfTouches!==this.numberOfTouchesRequired&&this.enterFailedState()):this.enterFailedState()},i.prototype.reset=function(){window.clearTimeout(this._timerId),delete this._timerId},t.exports=i},{"./gesture-recognizer":73}],75:[function(e,t,n){function i(){a.call(this)}function o(){return{start:new s,end:new s,dt:0}}function r(e){return e.dt<1?new s:new s((e.end.x-e.start.x)/e.dt*1e3,(e.end.y-e.start.y)/e.dt*1e3)}var a=e("./gesture-recognizer"),s=e("@maps/geometry/point");(i.prototype=Object.create(a.prototype,{velocity:{get:function(){if(Date.now()-this._lastTouchTime>100)return new s;var e=r(this._velocitySample);if(a.SupportsTouches&&this._previousVelocitySample.dt>0){var t=r(this._previousVelocitySample);e.x=.25*e.x+.75*t.x,e.y=.25*e.y+.75*t.y}return e}}})).constructor=i,i.prototype.minimumNumberOfTouches=1,i.prototype.maximumNumberOfTouches=1e5,i.prototype.translationThreshold=10,i.prototype.touchesBegan=function(e){e.currentTarget===this.target&&(e instanceof MouseEvent&&0!==e.button||(a.prototype.touchesBegan.call(this,e),this._numberOfTouchesIsAllowed()?(this._lastTouchTime=Date.now(),this._resetTrackedLocations(),1===this.numberOfTouches&&(this._travelledMinimumDistance=!1)):this.enterFailedState()))},i.prototype.touchesMoved=function(e){e.preventDefault();var t=Date.now(),n=this.locationInElement(),i=t-this._lastTouchTime;i>8&&(this._previousVelocitySample.start=this._velocitySample.start.copy(),this._previousVelocitySample.end=this._velocitySample.end.copy(),this._previousVelocitySample.dt=this._velocitySample.dt,this._velocitySample.start=this._lastTouchLocation.copy(),this._velocitySample.end=n,this._velocitySample.dt=i),this._travelledMinimumDistance?(this.translation.x+=n.x-this._lastTouchLocation.x,this.translation.y+=n.y-this._lastTouchLocation.y,this.enterChangedState()):this._canBeginWithTravelledDistance(new s(n.x-this._translationOrigin.x,n.y-this._translationOrigin.y))&&(this._travelledMinimumDistance=!0,this.enterBeganState()),this._lastTouchTime=t,this._lastTouchLocation=n},i.prototype.touchesEnded=function(e){this._numberOfTouchesIsAllowed()?this._resetTrackedLocations():this._travelledMinimumDistance?this.enterEndedState():this.enterFailedState()},i.prototype.reset=function(){this._velocitySample=o(),this._previousVelocitySample=o(),this._gestures=[],this.translation=new s,delete this._travelledMinimumDistance},i.prototype._travelledMinimumDistance=!1,i.prototype._previousVelocitySample=o(),i.prototype._velocitySample=o(),i.prototype._canBeginWithTravelledDistance=function(e){return Math.abs(e.x)>=this.translationThreshold||Math.abs(e.y)>=this.translationThreshold},i.prototype._numberOfTouchesIsAllowed=function(){return this.numberOfTouches>=this.minimumNumberOfTouches&&this.numberOfTouches<=this.maximumNumberOfTouches},i.prototype._resetTrackedLocations=function(){var e=this.locationInElement();this._lastTouchLocation=e,this._translationOrigin=e},t.exports=i},{"./gesture-recognizer":73,"@maps/geometry/point":82}],76:[function(e,t,n){function i(){o.call(this)}var o=e("./gesture-recognizer"),r=e("@maps/geometry/point"),a=!!window.GestureEvent;i.prototype=Object.create(o.prototype,{velocity:{get:function(){var e=this._gestures[this._gestures.length-1];if(!e)return this._velocity;var t=Date.now()-(e.timeStamp+100);if(t<=0)return this._velocity;var n=Math.max((500-t)/500,0);return this._velocity*n}}}),i.constructor=i,i.prototype.scaleThreshold=0,i.prototype.touchesBegan=function(e){if(e.currentTarget===this.target){if(a){if(2!==this.numberOfTouches)return}else{if(this.numberOfTouches>2)return void this.enterFailedState();if(2!==this.numberOfTouches)return;this._startDistance=this._distance(),this._recordGesture(1),this._scaledMinimumAmount=!1,this._updateStateWithEvent(e)}o.prototype.touchesBegan.call(this,e)}},i.prototype.touchesMoved=function(e){a||2===this.numberOfTouches&&this._updateStateWithEvent(e)},i.prototype.touchesEnded=function(e){a||this.numberOfTouches>=2||!this._startDistance||(this._scaledMinimumAmount?this.enterEndedState():this.enterFailedState())},i.prototype.gestureBegan=function(e){o.prototype.gestureBegan.call(this,e),this._recordGesture(e.scale),this._scaledMinimumAmount=!1,this._updateStateWithEvent(e),e.preventDefault()},i.prototype.gestureChanged=function(e){e.preventDefault(),this._updateStateWithEvent(e)},i.prototype.gestureEnded=function(e){this._scaledMinimumAmount?this.enterEndedState():this.enterFailedState()},i.prototype.reset=function(){this.scale=1,this._velocity=0,this._gestures=[],delete this._startDistance},i.prototype._scaledMinimumAmount=!1,i.prototype._recordGesture=function(e){var t=Date.now(),n=this._gestures.push({scale:e,timeStamp:t});if(!(n<=2)){for(var i=this._gestures[n-1].scale>=this._gestures[n-2].scale,o=n-3;o>=0;--o){var r=this._gestures[o];if(t-r.timeStamp>100||this._gestures[o+1].scale>=r.scale!==i)break}o>0&&(this._gestures=this._gestures.slice(o+1))}},i.prototype._updateStateWithEvent=function(e){var t=a?e.scale:this._distance()/this._startDistance;if(this._scaledMinimumAmount){this._recordGesture(t);var n=this._gestures[0],i=t-n.scale,o=Date.now()-n.timeStamp;this._velocity=0===o?0:i/o*1e3,this.scale*=t/this._gestures[this._gestures.length-2].scale,this.enterChangedState()}else Math.abs(1-t)>=this.scaleThreshold&&(this._scaledMinimumAmount=!0,this.scale=1,this.enterBeganState())},i.prototype._distance=function(){console.assert(2===this.numberOfTouches);var e=this._targetTouches[0],t=new r(e.pageX,e.pageY),n=this._targetTouches[1],i=new r(n.pageX,n.pageY);return t.distanceToPoint(i)},t.exports=i},{"./gesture-recognizer":73,"@maps/geometry/point":82}],77:[function(e,t,n){function i(){r.call(this)}function o(e,t){var n=e-t,i=e+180-t;return Math.abs(i)<Math.abs(n)?i:n}var r=e("./gesture-recognizer"),a=e("@maps/geometry/point"),s=!!window.GestureEvent;i.prototype=Object.create(r.prototype,{velocity:{get:function(){var e=this._gestures[this._gestures.length-1];if(!e)return this._velocity;var t=Date.now()-(e.timeStamp+100);if(t<=0)return this._velocity;var n=Math.max((500-t)/500,0);return this._velocity*n}}}),i.constructor=i,i.prototype.touchesBegan=function(e){if(e.currentTarget===this.target&&2===this.numberOfTouches&&(r.prototype.touchesBegan.call(this,e),!s))if(this.numberOfTouches>2)this.enterFailedState();else if(2===this.numberOfTouches){this._startAngle=this._angle();e={rotation:0};this._recordGesture(e),this.enterBeganState()}},i.prototype.touchesMoved=function(e){s||2===this.numberOfTouches&&this._updateStateWithEvent(e)},i.prototype.touchesEnded=function(e){s||this.numberOfTouches>=2||null===this._startAngle||this.enterEndedState()},i.prototype.gestureBegan=function(e){r.prototype.gestureBegan.call(this,e),this._recordGesture(e),this.rotation=0,this.enterBeganState()},i.prototype.gestureChanged=function(e){e.preventDefault(),this.enterChangedState(),this._recordGesture(e);var t=this._gestures[0],n=o(e.rotation,t.rotation),i=Date.now()-t.timeStamp;this._velocity=n/i*1e3,this.rotation+=o(e.rotation,this._gestures[this._gestures.length-2].rotation)},i.prototype.gestureEnded=function(e){this.enterEndedState()},i.prototype.reset=function(){this.rotation=0,this._velocity=0,this._gestures=[],this._startAngle=null},i.prototype._recordGesture=function(e){var t=Date.now(),n=this._gestures.push({rotation:e.rotation,timeStamp:t});if(!(n<=2)){for(var i=this._gestures[n-1].rotation>=this._gestures[n-2].rotation,o=n-3;o>=0;--o){var r=this._gestures[o];if(t-r.timeStamp>100||this._gestures[o+1].rotation>=r.rotation!==i)break}o>0&&(this._gestures=this._gestures.slice(o+1))}},i.prototype._updateStateWithEvent=function(e){var t=s?e.rotation:this._angle()-this._startAngle;this._recordGesture({rotation:t});var n=this._gestures[0],i=t-n.rotation,o=Date.now()-n.timeStamp;this._velocity=0===o?0:i/o*1e3,this.rotation+=t-this._gestures[this._gestures.length-2].rotation,this.enterChangedState()},i.prototype._angle=function(){console.assert(2===this.numberOfTouches);var e=this._targetTouches[0],t=new a(e.pageX,e.pageY),n=this._targetTouches[1],i=new a(n.pageX,n.pageY);return 180*Math.atan2(t.y-i.y,t.x-i.x)/Math.PI},t.exports=i},{"./gesture-recognizer":73,"@maps/geometry/point":82}],78:[function(e,t,n){function i(){this.numberOfTouchesRequired=1,this.direction=i.Directions.Right,o.call(this)}var o=e("./gesture-recognizer"),r=e("@maps/geometry/point");i.Directions={Right:1,Left:2,Up:4,Down:8},i.prototype=Object.create(o.prototype),i.constructor=i,i.prototype.touchesBegan=function(e){e.currentTarget===this.target&&(this.numberOfTouchesRequired===this.numberOfTouches?(o.prototype.touchesBegan.call(this,e),this._translationOrigin=this.locationInElement()):this.enterFailedState())},i.prototype.touchesMoved=function(e){if(this.numberOfTouchesRequired===this.numberOfTouches){e.preventDefault();var t=this.locationInElement(),n=new r(t.x-this._translationOrigin.x,t.y-this._translationOrigin.y);this.state!==o.States.Recognized&&this.direction===i.Directions.Right&&n.x>100&&Math.abs(n.x)>Math.abs(n.y)&&this.enterRecognizedState(),this.state!==o.States.Recognized&&this.direction===i.Directions.Left&&n.x<-100&&Math.abs(n.x)>Math.abs(n.y)&&this.enterRecognizedState(),this.state!==o.States.Recognized&&this.direction===i.Directions.Up&&n.y<-100&&Math.abs(n.y)>Math.abs(n.x)&&this.enterRecognizedState(),this.state!==o.States.Recognized&&this.direction===i.Directions.Down&&n.y>100&&Math.abs(n.y)>Math.abs(n.x)&&this.enterRecognizedState()}else this.enterFailedState()},i.prototype.touchesEnded=function(e){this.enterFailedState()},t.exports=i},{"./gesture-recognizer":73,"@maps/geometry/point":82}],79:[function(e,t,n){function i(){this.numberOfTapsRequired=1,this.numberOfTouchesRequired=1,this.allowsRightMouseButton=!1,o.call(this)}var o=e("./gesture-recognizer"),r=e("@maps/web-point-converter"),a=e("@maps/geometry/point"),s=o.SupportsTouches?40:0;i.prototype=Object.create(o.prototype),i.constructor=i,i.prototype.touchesBegan=function(e){e.currentTarget===this.target&&(2!==e.button||this.allowsRightMouseButton)&&(o.prototype.touchesBegan.call(this,e),this.numberOfTouches===this.numberOfTouchesRequired?(this._startPoint=o.prototype.locationInElement.call(this),this._startClientPoint=o.prototype.locationInClient.call(this),this._rewindTimer(750)):this.enterFailedState())},i.prototype.touchesMoved=function(e){e.preventDefault(),this._startPoint.distanceToPoint(o.prototype.locationInElement.call(this))>s&&this.enterFailedState()},i.prototype.touchesEnded=function(e){++this._taps===this.numberOfTapsRequired&&(e.preventDefault(),this.enterRecognizedState(),this.reset()),this._rewindTimer(350)},i.prototype.reset=function(){this._taps=0,this._clearTimer()},i.prototype.locationInElement=function(e){var t=this._startPoint||new a;return e?r.fromPageToElement(e,t):t},i.prototype.locationInClient=function(){return this._startClientPoint||new a},i.prototype._clearTimer=function(){window.clearTimeout(this._timerId),delete this._timerId},i.prototype._rewindTimer=function(e){this._clearTimer(),this._timerId=window.setTimeout(this._timerFired.bind(this),e)},i.prototype._timerFired=function(){this.enterFailedState()},t.exports=i},{"./gesture-recognizer":73,"@maps/geometry/point":82,"@maps/web-point-converter":83}],80:[function(e,t,n){function i(e){this.element="string"==typeof e?document.getElementById(e):e,this.scale=1,this.rotation=this.x=this.y=this.z=0,this.transform={}}t.exports=i,e("./gesture-recognizer"),i.prototype={constructor:i,set transform(e){this._x=this._getDefined(e.x,this._x,this.x),this._y=this._getDefined(e.y,this._y,this.y),this._z=this._getDefined(e.z,this._z,this.z),this._scale=this._getDefined(e.scale,this._scale,this.scale),this._rotation=this._getDefined(e.rotation,this._rotation,this.rotation),this.element.style.webkitTransform="translate3d("+this._x+"px, "+this._y+"px, "+this._z+") scale("+this._scale+") rotate("+this._rotation+"deg)"},addGestureRecognizer:function(e){e.target=this.element,e.view=this},_getDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return arguments[arguments.length-1]}}},{"./gesture-recognizer":73}],81:[function(e,t,n){arguments[4][58][0].apply(n,arguments)},{"@maps/geometry/point":82,dup:58}],82:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{dup:59}],83:[function(e,t,n){function i(e){for(var t,n=e.getBoundingClientRect(),i=e.offsetWidth,a=e.offsetHeight,s=[new r(0,0),new r(i,0),new r(i,a),new r(0,a)],l=new o,c=e.ownerDocument.defaultView;e.nodeType===Node.ELEMENT_NODE;)t=c.getComputedStyle(e),l=new o(t.transform||t.MozTransform||t.msTransform||t.WebkitTransform).multiply(l),e=e.parentNode;var u=1/0,h=1/0;s.forEach((function(e){var t=l.transformPoint(e);u=Math.min(u,t.x),h=Math.min(h,t.y)}));var d=window.pageXOffset+n.left-u,p=window.pageYOffset+n.top-h;return(new o).translate(d,p).multiply(l)}var o=e("@maps/css-matrix"),r=e("@maps/geometry/point");t.exports={fromPageToElement:function(e,t){if(window.webkitConvertPointFromPageToNode){var n=window.webkitConvertPointFromPageToNode(e,new WebKitPoint(t.x,t.y));return new r(n.x,n.y)}return i(e).inverse().transformPoint(t)},fromElementToPage:function(e,t){if(window.webkitConvertPointFromNodeToPage){var n=window.webkitConvertPointFromNodeToPage(e,new WebKitPoint(t.x,t.y));return new r(n.x,n.y)}return i(e).transformPoint(t)}}},{"@maps/css-matrix":81,"@maps/geometry/point":82}],84:[function(e,t,n){var i=Math.log(2),o=[/MSIE [5-9]\./,/Firefox\/[1-9]\./,/Firefox\/[1-2][0-9]\./,/Firefox\/3[0-1]\./,/Firefox\/[0-9]\./,/Firefox\/[1-2][0-9]\./,/Firefox\/3[0-6]\./,/Android [0-3]\./,/Android 4\.[0-3]\./],r=[/\(Macintosh; Intel Mac OS X 10.9*\)*/,/\(Macintosh; Intel Mac OS X 10_9*\)*/,/\(Macintosh; Intel Mac OS X 10_??;*\)*/,/\(Macintosh; Intel Mac OS X 10.??;*\)*/,/\(Macintosh; Intel Mac OS X 10_??_*\)*/,/\(Macintosh; Intel Mac OS X 10.??.*\)*/,/\(Macintosh; Intel Mac OS X 10_??\)*/,/\(Macintosh; Intel Mac OS X 10.??\)*/,/iP(hone|od|ad)/],a={KeyCodes:{Tab:9,Enter:13,Escape:27,SpaceBar:32,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40},get iOSVersion(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}},noop:function(){},isIE10:function(){return/MSIE 10/i.test(navigator.userAgent)},isEdge:function(){return/Edge\//i.test(navigator.userAgent)},isIEAndNotEdge:function(){return/MSIE|Trident\//i.test(navigator.userAgent)},isNode:function(){return"object"!=typeof window||window!==function(){return this}()},isUnsupportedBrowser:function(e){return o.some((function(t){return t.test(e)}))},hasMapsApp:function(e){return r.some((function(t){return t.test(e)}))},mod:function(e,t){return e-t*Math.floor(e/t)},log2:function(e){return Math.log(e)/i},clamp:function(e,t,n){return Math.max(t,Math.min(e,n))},inheritPrototype:function(e,t,n){var i={constructor:{enumerable:!0,value:t}};return Object.keys(n).forEach((function(e){var t=Object.getOwnPropertyDescriptor(n,e);t&&(i[e]=t)})),Object.create(e.prototype,i)},checkValueIsInEnum:function(e,t){return Object.keys(t).some((function(n){return t[n]===e}))},required:function(e,t,n){if("checkNull"in(n=n||{})||(n.checkNull=!0),void 0===e||n.checkNull&&null===e)throw new Error(t||"Missing parameter");return this},checkType:function(e,t,n){if(typeof e!==t)throw new TypeError(n||"Expected `"+t+"` but got `"+typeof e+"`");if("number"===t&&isNaN(e))throw new TypeError(n||"Expected `"+t+"` but got `NaN`");if("object"===t&&e instanceof Array)throw new TypeError(n||"Expected a non-array object but got an array");return this},checkInstance:function(e,t,n){if(!(e instanceof t))throw new Error(n||"Unexpected object instance");return this},checkElement:function(e,t){if(!this.isElement(e))throw new Error(t||"Expected an Element");return this},checkArray:function(e,t){if(!Array.isArray(e))throw new Error(t||"Expected an array");return this},checkOptions:function(e,t){return null!==e&&void 0!==e?this.checkType(e,"object",t||"[MapKit] The `options` parameter is not a valid object."):e={},e},isElement:function(e){return e instanceof window.Node&&e.nodeType===window.Node.ELEMENT_NODE},get supportsLocalStorage(){if("_supportsLocalStorage"in this)return this._supportsLocalStorage;if(this._supportsLocalStorage=!1,a.isNode())return!1;try{if(!window.localStorage)return!1;if("function"!=typeof window.localStorage.setItem||"function"!=typeof window.localStorage.getItem||"function"!=typeof window.localStorage.removeItem)return!1;var e="storageTest";if(window.localStorage.setItem(e,e),window.localStorage.getItem(e)!==e)return!1;window.localStorage.removeItem(e),this._supportsLocalStorage=!0}catch(e){return!1}return this._supportsLocalStorage},fillTemplate:function(e,t,n){return e.replace(/{{(.*?)}}/g,(function(e,i){var o=t[i];if(n&&!o)throw new Error("fillTemplate: Missing value for parameter: "+i);return o}))},xhr:function(e){var t;return(t=new XMLHttpRequest).addEventListener("load",e),t.addEventListener("error",e),t.addEventListener("timeout",e),t},parseURL:function(e){var t=document.createElement("a");return t.href=e,t.protocol||(t.protocol=location.protocol),["href","protocol","hostname","port","pathname","search","hash"].reduce((function(e,n){return e[n]=t[n],e}),{})},toQueryString:function(e,t){return null===e||"object"!=typeof e?"":(t||Object.keys(e)).reduce((function(t,n){var i=e[n];return i&&(console.assert("string"==typeof i,"toQueryString: only strings are allowed as values"),t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))),t}),[]).join("&")},splitStringAtSubStringAndReplace:function(e){var t=[],n=e.text.toLowerCase().indexOf(e.subString.toLowerCase());if(e.text&&!(n<0)&&e.replaceSubString){var i=e.text.substr(0,n);i&&t.push(e.replacePre?e.replacePre(i):i);var o=e.text.substr(n,e.subString.length);t.push(e.replaceSubString(e.subString,o));var r=e.text.substr(n+e.subString.length);return r&&t.push(e.replacePost?e.replacePost(r):r),t}},isSameOrigin:function(e,t){return e=this.parseURL(e),t=this.parseURL(t),e.hostname===t.hostname&&e.protocol===t.protocol},capitalize:function(e){return e?e[0].toUpperCase()+e.substr(1).toLowerCase():e},generateSessionIdValue:function(){return Math.floor(1e15*(9*Math.random()+1))},doNotTrack:function(){var e=window&&(window.navigator&&(navigator.doNotTrack||navigator.msDoNotTrack)||window.doNotTrack);return"1"===e||"yes"===e},supportsTouches:function(){return"createTouch"in document},isSpaceKey:function(e){return e.keyCode===this.KeyCodes.SpaceBar},isEnterKey:function(e){return e.keyCode===this.KeyCodes.Enter},isTabKey:function(e){return e.keyCode===this.KeyCodes.Tab}};a.noopConsole={log:a.noop,warn:a.noop,error:a.noop,assert:a.noop},a.isNode()&&(Object.defineProperty(a,"iOSVersion",{enumerable:!0,get:function(){}}),a.isIE10=a.isIEAndNotEdge=a.isElement=function(){return!1},a.xhr=function(e){function n(t){e.handleEvent({target:i,type:t})}var i=new(0,t.require("xmlhttprequest").XMLHttpRequest);return i.addEventListener("load",n.bind(null,"load")),i.addEventListener("error",n.bind(null,"error")),i.addEventListener("timeout",n.bind(null,"timeout")),i},a.parseURL=function(e){return t.require("url").parse(e)}),t.exports=a},{}],85:[function(e,t,n){t.exports={Priority:e("./lib/priority"),State:e("./lib/state"),Loader:e("./lib/loader"),ImageLoader:e("./lib/image-loader"),XHRLoader:e("./lib/xhr-loader")}},{"./lib/image-loader":86,"./lib/loader":87,"./lib/priority":89,"./lib/state":90,"./lib/xhr-loader":91}],86:[function(e,t,n){function i(e,t){r.call(this,e,t),this._image=null}var o=e("@maps/js-utils"),r=e("./loader");i.prototype=o.inheritPrototype(r,i,{get image(){return this._image},get url(){return this._image.src},reuse:function(e,t){console.assert(this._unscheduled,"Loader has not been unscheduled"),this.init(e,t)},loaderWillStart:function(){r.prototype.loaderWillStart.call(this),this._image||(this._image=document.createElement("img")),console.assert(this._delegate.urlForImageLoader,"ImageLoader._delegate.urlForImageLoader is not set"),this._image.src=this._delegate.urlForImageLoader,this._image.complete?this.loaderDidSucceed():(this._image.addEventListener("load",this),this._image.addEventListener("error",this))},handleEvent:function(e){switch(e.type){case"error":this.loaderDidFail(e.target);break;case"load":this.loaderDidSucceed()}},_reset:function(){this._image&&(this._image.removeEventListener("load",this),this._image.removeEventListener("error",this)),r.prototype._reset.call(this)}}),t.exports=i},{"./loader":87,"@maps/js-utils":92}],87:[function(e,t,n){function i(e,t){this.init(e,t)}var o=e("./manager"),r=e("./state");i.prototype={constructor:i,get state(){return this._state},schedule:function(){console.assert(!this._state,"Loader has already been scheduled"),this._state||(this._state=r.Waiting,o.schedule(this))},unschedule:function(){var e=!1;if(this._state===r.Waiting)e=o.unschedule(this);else{if(this._state!==r.Loading)return!1;o.loaderDidComplete(this),e=!0}return this._unscheduled=e,this._state=r.Canceled,"function"==typeof this._delegate.loaderDidCancel&&this._delegate.loaderDidCancel(this),this._reset(),e},loaderWillStart:function(){this._state=r.Loading,"function"==typeof this._delegate.loaderWillStart&&this._delegate.loaderWillStart(this)},loaderDidSucceed:function(e){this._state=r.Succeeded,o.loaderDidComplete(this),"function"==typeof this._delegate.loaderDidSucceed&&this._delegate.loaderDidSucceed(this,e),this._reset()},loaderDidFail:function(e){this._state=r.Failed,o.loaderDidComplete(this),"function"==typeof this._delegate.loaderDidFail&&this._delegate.loaderDidFail(this,e),this._reset()},init:function(e,t){this._delegate=t,this._state=r.Unscheduled,this._retries=0,this._timeoutID=-1,this.priority=e,this._unscheduled=!1},_reset:function(){clearTimeout(this._timeoutID)},_reload:function(){if(++this._retries<3){var e="number"==typeof this._delay?this._delay:1e4;this._timeoutID=setTimeout(this.loaderWillStart.bind(this),e)}else this.loaderDidFail()}},t.exports=i},{"./manager":88,"./state":90}],88:[function(e,t,n){function i(){for(var e in a){if(l[a[e]].length>0){if(c[a[e]]===s[a[e]])break;return l[a[e]][0]}if(c[a[e]]>0)break}return null}function o(){for(var e in a)if(l[a[e]].length>0)return l[a[e]].shift(),!0;return!1}function r(){for(var e=i();e;)c[e.priority]++,o(),e.loaderWillStart(),e=i()}var a=e("./priority"),s=[];s[a.Highest]=12,s[a.High]=12,s[a.Medium]=4,s[a.Low]=1;var l=[],c=[];for(var u in a)l[a[u]]=[],c[a[u]]=0;t.exports={schedule:function(e){l[e.priority].push(e),r()},unschedule:function(e){return function(e){for(var t in a){var n=l[a[t]].indexOf(e);if(-1!==n)return l[a[t]].splice(n,1),!0}return!1}(e)},loaderDidComplete:function(e){c[e.priority]--,r()}}},{"./priority":89}],89:[function(e,t,n){t.exports={Highest:0,High:1,Medium:2,Low:3}},{}],90:[function(e,t,n){t.exports={Unscheduled:0,Waiting:1,Loading:2,Canceled:3,Succeeded:4,Failed:5}},{}],91:[function(e,t,n){function i(e,t,n){var i=(n=n||{}).priority||a.Highest;r.call(this,i,t),this._url=e,this._method=n.method||"GET",this._retry=!0===n.retry,this._delay=n.delay,this._headers=n.headers,o.isNode()&&(this._origin=n.origin)}var o=e("@maps/js-utils"),r=e("./loader"),a=e("./priority");i.prototype=o.inheritPrototype(r,i,{get xhrData(){return this._xhrData},unschedule:function(){return this._xhr&&this._xhr.abort(),r.prototype.unschedule.call(this)},loaderWillStart:function(){if(r.prototype.loaderWillStart.call(this),this._xhr=o.xhr(this),this._xhr.open(this._method,this._url,!0),this._origin&&(this._xhr.setDisableHeaderCheck(!0),this._xhr.setRequestHeader("Origin",this._origin)),this._headers&&Object.keys(this._headers).forEach((function(e){this._xhr.setRequestHeader(e,this._headers[e])}),this),"POST"===this._method&&!this._xhrData){if(this._xhrData=this._delegate.getDataToSend(this._xhr),!this._xhrData)return;console.assert("string"==typeof this._xhrData,"XHRLoader data has been set to a non-string value.")}this._xhr.send(this._xhrData)},handleEvent:function(e){"error"===e.type||"timeout"===e.type||200!==e.target.status?this._retry?r.prototype._reload.call(this):this.loaderDidFail(e.target):"load"===e.type?this.loaderDidSucceed(e.target):console.log("Unhandled XHR event type:",e.type," status:",e.target.status)}}),t.exports=i},{"./loader":87,"./priority":89,"@maps/js-utils":92}],92:[function(e,t,n){var i=Math.log(2),o=[/MSIE [5-8]\./,/Firefox\/[1-9]\./,/Firefox\/[1-2][0-9]\./,/Firefox\/3[0-1]\./,/Firefox\/[0-9]\./,/Firefox\/[1-2][0-9]\./,/Firefox\/3[0-6]\./,/Android [0-3]\./,/Android 4\.[0-3]\./],r=[/\(Macintosh; Intel Mac OS X 10.9*\)*/,/\(Macintosh; Intel Mac OS X 10_9*\)*/,/\(Macintosh; Intel Mac OS X 10_??;*\)*/,/\(Macintosh; Intel Mac OS X 10.??;*\)*/,/\(Macintosh; Intel Mac OS X 10_??_*\)*/,/\(Macintosh; Intel Mac OS X 10.??.*\)*/,/\(Macintosh; Intel Mac OS X 10_??\)*/,/\(Macintosh; Intel Mac OS X 10.??\)*/,/iP(hone|od|ad)/],a={KeyCodes:{Tab:9,Enter:13,Escape:27,SpaceBar:32,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40},get iOSVersion(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}},noop:function(){},isIE9:function(){return/MSIE 9/i.test(navigator.userAgent)},isIE10:function(){return/MSIE 10/i.test(navigator.userAgent)},isEdge:function(){return/Edge\//i.test(navigator.userAgent)},isIEAndNotEdge:function(){return/MSIE|Trident\//i.test(navigator.userAgent)},isNode:function(){return"object"!=typeof window||window!==function(){return this}()},isUnsupportedBrowser:function(e){return o.some((function(t){return t.test(e)}))},hasMapsApp:function(e){return r.some((function(t){return t.test(e)}))},mod:function(e,t){return e-t*Math.floor(e/t)},log2:function(e){return Math.log(e)/i},clamp:function(e,t,n){return Math.max(t,Math.min(e,n))},inheritPrototype:function(e,t,n){var i={constructor:{enumerable:!0,value:t}};return Object.keys(n).forEach((function(e){var t=Object.getOwnPropertyDescriptor(n,e);t&&(i[e]=t)})),Object.create(e.prototype,i)},checkValueIsInEnum:function(e,t){return Object.keys(t).some((function(n){return t[n]===e}))},required:function(e,t,n){if("checkNull"in(n=n||{})||(n.checkNull=!0),void 0===e||n.checkNull&&null===e)throw new Error(t||"Missing parameter");return this},checkType:function(e,t,n){if(typeof e!==t)throw new TypeError(n||"Expected `"+t+"` but got `"+typeof e+"`");if("number"===t&&isNaN(e))throw new TypeError(n||"Expected `"+t+"` but got `NaN`");if("object"===t&&e instanceof Array)throw new TypeError(n||"Expected a non-array object but got an array");return this},checkInstance:function(e,t,n){if(!(e instanceof t))throw new Error(n||"Unexpected object instance");return this},checkElement:function(e,t){if(!this.isElement(e))throw new Error(t||"Expected an Element");return this},checkArray:function(e,t){if(!Array.isArray(e))throw new Error(t||"Expected an array");return this},checkOptions:function(e,t){return null!==e&&void 0!==e?this.checkType(e,"object",t||"[MapKit] The `options` parameter is not a valid object."):e={},e},isElement:function(e){return e instanceof window.Node&&e.nodeType===window.Node.ELEMENT_NODE},get supportsLocalStorage(){if("_supportsLocalStorage"in this)return this._supportsLocalStorage;if(this._supportsLocalStorage=!1,a.isNode())return!1;try{if(!window.localStorage)return!1;if("function"!=typeof window.localStorage.setItem||"function"!=typeof window.localStorage.getItem||"function"!=typeof window.localStorage.removeItem)return!1;var e="storageTest";if(window.localStorage.setItem(e,e),window.localStorage.getItem(e)!==e)return!1;window.localStorage.removeItem(e),this._supportsLocalStorage=!0}catch(e){return!1}return this._supportsLocalStorage},fillTemplate:function(e,t,n){return e.replace(/{{(.*?)}}/g,(function(e,i){var o=t[i];if(n&&!o)throw new Error("fillTemplate: Missing value for parameter: "+i);return o}))},xhr:function(e){var t;return(t=new XMLHttpRequest).addEventListener("load",e),t.addEventListener("error",e),t.addEventListener("timeout",e),t},parseURL:function(e){var t=document.createElement("a");return t.href=e,t.protocol||(t.protocol=location.protocol),["href","protocol","hostname","port","pathname","search","hash"].reduce((function(e,n){return e[n]=t[n],e}),{})},toQueryString:function(e,t){return null===e||"object"!=typeof e?"":(t||Object.keys(e)).reduce((function(t,n){var i=e[n];return i&&(console.assert("string"==typeof i,"toQueryString: only strings are allowed as values"),t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))),t}),[]).join("&")},splitStringAtSubStringAndReplace:function(e){var t=[],n=e.text.toLowerCase().indexOf(e.subString.toLowerCase());if(e.text&&!(n<0)&&e.replaceSubString){var i=e.text.substr(0,n);i&&t.push(e.replacePre?e.replacePre(i):i);var o=e.text.substr(n,e.subString.length);t.push(e.replaceSubString(e.subString,o));var r=e.text.substr(n+e.subString.length);return r&&t.push(e.replacePost?e.replacePost(r):r),t}},isSameOrigin:function(e,t){return e=this.parseURL(e),t=this.parseURL(t),e.hostname===t.hostname&&e.protocol===t.protocol},capitalize:function(e){return e?e[0].toUpperCase()+e.substr(1).toLowerCase():e},generateSessionIdValue:function(){return Math.floor(1e15*(9*Math.random()+1))},doNotTrack:function(){var e=window&&(window.navigator&&(navigator.doNotTrack||navigator.msDoNotTrack)||window.doNotTrack);return"1"===e||"yes"===e},supportsTouches:function(){return"createTouch"in document},isSpaceKey:function(e){return e.keyCode===this.KeyCodes.SpaceBar},isEnterKey:function(e){return e.keyCode===this.KeyCodes.Enter},isTabKey:function(e){return e.keyCode===this.KeyCodes.Tab}};a.noopConsole={log:a.noop,warn:a.noop,error:a.noop,assert:a.noop},a.isNode()&&(Object.defineProperty(a,"iOSVersion",{enumerable:!0,get:function(){}}),a.isIE9=a.isIE10=a.isIEAndNotEdge=a.isElement=function(){return!1},a.xhr=function(e){function n(t){e.handleEvent({target:i,type:t})}var i=new(0,t.require("xmlhttprequest").XMLHttpRequest);return i.addEventListener("load",n.bind(null,"load")),i.addEventListener("error",n.bind(null,"error")),i.addEventListener("timeout",n.bind(null,"timeout")),i},a.parseURL=function(e){return t.require("url").parse(e)}),t.exports=a},{}],93:[function(e,t,n){t.exports={"ar-SA":6,"ca-ES":1,"cs-CZ":1,"da-DK":1,"de-DE":1,"el-GR":1,"en-GB":1,"en-US":0,"en-ZA":0,"es-ES":1,"es-MX":1,"fi-FI":1,"fr-CA":0,"fr-FR":1,"hi-IN":0,"hr-HR":1,"hu-HU":1,"id-ID":1,"it-IT":1,"iw-IL":0,"ja-JP":0,"ko-KR":0,"ms-MY":1,"nb-NO":1,"nl-NL":1,"pl-PL":1,"pt-BR":0,"pt-PT":1,"ro-RO":1,"ru-RU":1,"sk-SK":1,"sv-SE":1,"th-TH":0,"tr-TR":1,"uk-UA":1,"vi-VN":1,"zh-CN":1,"zh-TW":0}},{}],94:[function(e,t,n){"use strict";t.exports={LangTag:e("./lib/lang-tag"),Locale:e("./lib/locale"),LanguageSupport:e("./lib/language-support"),L10n:e("./lib/l10n"),UseMetric:e("./lib/use-metric"),localizeDigits:e("./lib/localize-digits")}},{"./lib/l10n":95,"./lib/lang-tag":96,"./lib/language-support":97,"./lib/locale":98,"./lib/localize-digits":99,"./lib/use-metric":100}],95:[function(e,t,n){"use strict";function i(e){e.delegate.supportedLocales.forEach((function(t){var n=u.parse(t);!function(e,t){console.assert(t),console.assert(t.region);var n=t.language,i=t.region;e.supportMap[n]||(e.supportMap[n]=[]),-1!==e.delegate.primaryLocales.indexOf(t.tag)?e.supportMap[n].splice(0,0,i):e.supportMap[n].push(i)}(e,n)}))}function o(e,t,n){return console.assert(a(e,t)),console.assert(!(t in e.locales)),new c(t,n,e.delegate,e.dowForBestMatch(t))}function r(e,t){e.locales[t.localeId]||(e.locales[t.localeId]=t),e.activeLocale=t;var n=new l.Event(s.Events.LocaleChanged);n.locale=t,e.dispatchEvent(n)}function a(e,t){return-1!==e.delegate.supportedLocales.indexOf(t)}function s(e){console.assert(!!e,"L10n constructor: delegate is `undefined`"),this.delegate=e,this.locales=e.localesCache||Object.create(null),this.supportMap=e.supportCache||Object.create(null),this.scriptMap=e.scriptCache||Object.create(null),r(this,this.locales[p]||o(this,p,this.delegate.enUSDictionary)),i(this),function(e){Object.keys(e.delegate.regionToScriptMap).forEach((function(t){e.scriptMap[t]=Object.create(null),Object.keys(e.delegate.regionToScriptMap[t]).forEach((function(n){var i=e.delegate.regionToScriptMap[t][n].toLowerCase();e.scriptMap[t][i]=n}))}))}(this)}var l=e("@maps/dom-events"),c=e("./locale"),u=e("./lang-tag"),h=e("../data/locale-to-dow.json"),d=e("./localize-digits"),p="en-US";s.Events={LocaleChanged:"locale-changed"},s.Days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},s.prototype={constructor:s,Events:s.Events,get:function(e,t){return console.assert(!!this.activeLocale,"L10n: no active locale"),this.activeLocale.get(e,t)},get localeId(){return this.activeLocale.localeId},set localeId(e){!function(e,t){if(!e.activeLocale||e.activeLocale.localeId!==t){a(e,t)||(console.warn("Localizer: not a valid locale ID:",t),t=p);var n=e.locales[t];n||(n=o(e,t)).ready?r(e,n):n.load((function(t,n){if(t)return console.error(t.toString()),void r(e,e.locales[p]);r(e,n)}))}}(this,e)},get localeIds(){return Object.keys(locales)},get supportedLocaleIds(){return this.delegate.supportedLocales},bestMatch:function(e,t){var n=u.parse(e),i=null;return n&&this.delegate.localesMap&&this.delegate.localesMap[n.tag]&&(n=u.parse(this.delegate.localesMap[n.tag])),t=t||null,n&&(i=function(e,t){var n,i=t.language,o=t.region,r=t.script;console.assert(i,"L10n.delegate.bestMatch: required: `language`"),"he"===i&&(i="iw");var a=e.supportMap[i];if(!a)return null;if(o)(n=a.filter((function(e){return e.toUpperCase()===t.region.toUpperCase()}))[0])||(n=a[0]);else if(r){var s=e.scriptMap[i];if(!s)return null;n=s[r.toLowerCase()]}else n=a[0];return new u(i,n)}(this,n)),i?i.tag:t},dowForBestMatch:function(e,t){return h[this.bestMatch(e,t)]},digits:function(e){return d(e,this.localeId)}},l.EventTarget(s.prototype),t.exports=s},{"../data/locale-to-dow.json":93,"./lang-tag":96,"./locale":98,"./localize-digits":99,"@maps/dom-events":62}],96:[function(e,t,n){"use strict";function i(e,t,n){this.language=e.toLowerCase(),t&&(this.region=t.toUpperCase(),console.assert(!this.script,"Can't have `region` and `script`.")),n&&(this.script=o.capitalize(n),console.assert(!this.region,"Can't have `region` and `script`."))}var o=e("@maps/js-utils");i.prototype={constructor:i,get tag(){var e=this.language;return this.region?e+"-"+this.region:this.script?e+"-"+this.script:e},toString:function(){var e="{ language: "+this.language;return this.region&&(e+=", region: "+this.region),this.script&&(e+=", script: "+this.script),e+" }"}},i.parse=function(e){var t,n,o;if(e&&"string"==typeof e){if(-1!==e.indexOf("_"))return console.warn("Invalid character: '_'"),null;var r=e.split("-");if(2!==(t=r[0]).length)return console.warn("Invalid language:",e),null;if(2===r.length){var a=r[1],s=a.length;if(4===s)o=a;else{if(!(s>1&&s<4))return console.warn("Don't know how to parse:",e),null;n=a}}else if(r.length>2)return console.warn("Don't know how to parse language tags with more than 2 parts:",e),null;return new i(t,n,o)}return null},t.exports=i},{"@maps/js-utils":101}],97:[function(e,t,n){"use strict";function i(e){console.assert(!!e,"LanguageSupport constructor: delegate is `undefined`"),this.supportMap=Object.create(null),this.delegate=e,this.delegate.supportedLocales.forEach((function(e){!function(e,t){console.assert(e,"LanguageSupport.add: `langTag` is null.");var n=e.language,i=e.region,o=e.script;t[n]||(t[n]={regions:[],scripts:[]}),i&&t[n].regions.push(i),o&&t[n].scripts.push(o)}(o.parse(e),this.supportMap)}),this)}var o=e("./lang-tag");i.prototype={constructor:i,bestMatch:function(e,t){var n=o.parse(e),i=null;return n&&this.delegate.localesMap&&this.delegate.localesMap[n.tag]&&(n=o.parse(this.delegate.localesMap[n.tag])),t=t||null,n&&(i=function(e,t,n){var i=e.language,r=e.region,a=e.script;console.assert(i,"LanguageSupport._bestMatch: required: `language`"),"iw"===i&&(i="he");var s=n[i];if(!s)return null;if(r){console.assert(!a,"LanguageSupport._bestMatch: can't match on `region` + `script`");var l=s.regions.filter((function(t){return t.toUpperCase()===e.region.toUpperCase()}))[0];if(l)return new o(i,l);var c=t[i];if(!c)return new o(i);e.script=a=c[r.toUpperCase()],r=null}if(a){console.assert(!r,"LanguageSupport._bestMatch: can't match on `region` + `script`");var u=s.scripts.filter((function(t){return t.toUpperCase()===e.script.toUpperCase()}))[0];return new o(i,null,u)}return new o(i)}(n,this.delegate.regionToScriptMap,this.supportMap)),i?i.tag:t}},i.parseAcceptLanguage=function(e){return e?e.split(",").map((function(e){if(!e)return null;var t=e.split(";");return{langTag:o.parse(t[0]),quality:t[1]?parseFloat(t[1].split("=")[1]):1}})).filter((function(e){return!!e})).sort((function(e,t){return t.quality-e.quality})):null},t.exports=i},{"./lang-tag":96}],98:[function(e,t,n){"use strict";function i(e,t,n,i){this.localeId=e,this._dict=t||{},this.ready=!!t,this.localeUrl=n.localeUrl,this.rtl=n.rtlLocales.indexOf(e)>-1,this.dow=i}var o=e("@maps/js-utils"),r=e("@maps/loaders").XHRLoader;i.prototype={constructor:i,get:function(e,t){var n=this._dict[e];return n?(t=t||{},o.fillTemplate(n,t,!0)):"["+e+"]"},load:function(e){console.assert("function"==typeof e);var t=this,n=this.localeUrl.replace(/{{(.*?)}}/,this.localeId);new r(n,{loaderDidSucceed:function(n,i){var o;if(i.status<200||i.status>=300)return o="HTTP error "+i.status+" loading strings for locale: "+t.localeId,void e(new Error(o));try{t._dict=JSON.parse(i.responseText)}catch(n){return o="Failed to parse response for locale: "+t.localeId,void e(new Error(o))}t.ready=!0,e(null,t)},loaderDidFail:function(n,i){var o="Network error loading strings for locale: "+t.localeId;e(new Error(o))}}).schedule()}},t.exports=i},{"@maps/js-utils":101,"@maps/loaders":85}],99:[function(e,t,n){var i=["0","1","2","3","4","5","6","7","8","9"],o={"ar-SA":["\u0660","\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669"],"hi-IN":["\u0966","\u0967","\u0968","\u0969","\u096a","\u096b","\u096c","\u096d","\u096e","\u096f"]},r={"ca-ES":",","ca-CZ":",","da-DK":",","da-DE":",","el-GR":",","en-ZA":",","es-ES":",","fi-FI":",","fr-CA":",","fr-FR":",","hr-HR":",","hu-HU":",","it-IT":",","nb-NO":",","nl-NL":",","pl-PL":",","pt-BR":",","pt-PT":",","ro-RO":",","ru-RU":",","sk-SK":",","sv-SE":",","tr-TR":",","uk-UA":","};t.exports=function(e,t){for(var n=o[t]||i,a=r[t]||".",s="",l=e.toString(),c=0,u=l.length;c<u;++c){var h=l.charAt(c);s+="."===h?a:n[parseInt(h,10)]||h}return s}},{}],100:[function(e,t,n){"use strict";var i=["AS","BS","BZ","DM","FK","GB","GD","GU","KN","KY","LC","LR","MM","MP","SH","TC","US","VC","VG","VI","WS"];t.exports={forRegion:function(e){return!!e&&i.indexOf(e)<0},forLanguageTag:function(e){var t=e.region;return t?i.indexOf(t)<0:"en"!==e.language&&"my"!==e.language}}},{}],101:[function(e,t,n){arguments[4][92][0].apply(n,arguments)},{dup:92}],102:[function(e,t,n){function i(e){e?function(e){return e instanceof window.Node&&e.nodeType===window.Node.ELEMENT_NODE}(e)?this.element=e:"string"==typeof e||e instanceof String?this.element=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(e):"object"==typeof e&&(this.element=s(e)):this.element=document.createElement("div"),this._parent=null,this._children=[],this._opacity=1,this._color="",this._size=new p,this._position=new m,this._transform=new f,this._backgroundImages=[],this._classList=new h(this),this._wantsHardwareCompositing=!1,this._dirtyProperties=[],this._dirtyAttributes={},this._deferredUpdates=[],this._pendingDOMManipulation=w.None}function o(){y.forEach(r),y=[],b.forEach(a),b=[],i.updates++,S.dispatchEvent(new d.Event(C))}function r(e){if(e._pendingDOMManipulation===w.Removal){var t=e.element.parentNode;t&&t.removeChild(e.element)}e._dirtyProperties.forEach((function(t){!function(e,t){var n=e.element,i=n.style;switch(t){case"opacity":i.opacity=e._opacity;break;case"color":i.color=e._color;break;case"size":i.width=e._size.width+"px",i.height=e._size.height+"px";break;case"position":case"transform":var o=(new f).translate(v.roundToDevicePixel(e._position.x),v.roundToDevicePixel(e._position.y)).transform(e._transform);E&&e._wantsHardwareCompositing&&o.rotate3d(0,0,0,0),i.transform=i.webkitTransform=i.msTransform=o;break;case"backgroundImages":!function(e){var t=e.element.style;if(!e._backgroundImages.length)return t.removeProperty("background-image"),t.removeProperty("background-position"),void t.removeProperty("background-size");for(var n=[],i=[],o=[],r=e._backgroundImages,a=r.length-1;a>=0;--a){var s=r[a];n.push("url("+s.url+")"),i.push(s.position.x+"px "+s.position.y+"px"),o.push(s.size.width+"px "+s.size.height+"px")}t.backgroundImage=n.join(","),t.backgroundPosition=i.join(","),t.backgroundSize=o.join(",")}(e);break;case"classList":n.className=e._classList,e._classList.reset();break;default:;}}(e,t)})),e._dirtyProperties=[],Object.getOwnPropertyNames(e._dirtyAttributes).forEach((function(t){e.element.setAttribute(t,e._dirtyAttributes[t])})),e._dirtyAttributes={},e._pendingDOMManipulation===w.Addition&&l(b,e.parent)}function a(e){for(var t=null,n=e.element,i=e.children.length-1;i>=0;--i){var o=e.children[i],r=o.element;o._pendingDOMManipulation===w.Addition&&(n.insertBefore(r,t),o._pendingDOMManipulation=w.None),t=r}}function s(e){var t=e.name;if("#text"===t)return document.createTextNode(e.value);var n=document.createElement(t),i=e.attributes;for(var o in i)n.setAttribute(o,i[o]);return e.children instanceof Array&&e.children.forEach((function(e){n.appendChild(s(e))})),n}function l(e,t){return-1===e.indexOf(t)&&(e.push(t),!0)}function c(e,t){var n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)}function u(e,t,n,i){var o="";o+=t,i&&(o+=function(e){return e<0?"":e+":"}(n)),o+=e.toString(),o+=function(e){return e.childCount<1?"":" \u2935\ufe0e "+e.childCount}(e);for(var r=e.children,a=0,s=r.length;a<s;++a){var l=e.childCount<1?-1:a;o+="\n",o+=u(r[a],t+"    ",l,i)}return o}function h(e){this._node=e,this.reset()}var d=e("@maps/dom-events"),p=e("@maps/geometry/size"),m=e("@maps/geometry/point"),f=e("@maps/css-transform"),g=e("@maps/scheduler"),_=e("@maps/web-point-converter"),v=e("@maps/device-pixel-ratio"),y=[],b=[],w={None:0,Removal:1,Addition:2},C="update",E=function(){var e=document.createElement("div");return e.style.msTransform="translate3d(2px, 2px, 2px)","none"!==window.getComputedStyle(e).msTransform}();i.updates=0,i.prototype={constructor:i,get classList(){return this._classList},get wantsHardwareCompositing(){return this._wantsHardwareCompositing},set wantsHardwareCompositing(e){e!==this._wantsHardwareCompositing&&(this._wantsHardwareCompositing=e,this._markDirtyProperty("transform"))},get opacity(){return this._opacity},set opacity(e){(e=Math.min(Math.max(0,e),1))!==this._opacity&&(this._opacity=e,this._markDirtyProperty("opacity"))},get color(){return this._color},set color(e){e!==this._color&&(this._color=e,this._markDirtyProperty("color"))},get position(){return this._position},set position(e){this._position=e,this._markDirtyProperty("position")},get transform(){return this._transform},set transform(e){this._transform=e,this._markDirtyProperty("transform")},get backgroundImages(){return this._backgroundImages},set backgroundImages(e){this._backgroundImages=e||[],this._markDirtyProperty("backgroundImages")},get size(){return this._size},set size(e){this._size=e||new p,this._markDirtyProperty("size")},setAttribute:function(e,t){this._dirtyAttributes[e]=t,this._updateNodeDirtiness()},get parent(){return this._parent},get children(){return this._children},set children(e){for(var t=this._children;t.length;)this.removeChild(t[0]);e.forEach((function(e){this.addChild(e)}),this)},get childCount(){return this._children.length},get firstChild(){return this._children[0]||null},get lastChild(){return this._children[this._children.length-1]||null},get previousSibling(){if(!this._parent)return null;var e=this._parent._children,t=e.indexOf(this);return t>0?e[t-1]:null},get nextSibling(){if(!this._parent)return null;var e=this._parent._children,t=e.indexOf(this);return-1!==t&&t<e.length-1?e[t+1]:null},addChild:function(e,t){return e.willMoveToParent(this),e._doNotNotifyParentChange=!0,e.remove(),delete e._doNotNotifyParentChange,(void 0===t||t<0||t>this._children.length)&&(t=this._children.length),this._children.splice(t,0,e),e._parent=this,e.didMoveToParent(this),this.didAddChild(e),e._markNodeManipulation(w.Addition),e},insertBefore:function(e,t){return this.addChild(e,this._children.indexOf(t))},insertAfter:function(e,t){var n=this._children.indexOf(t);return this.addChild(e,-1!==n?n+1:0)},removeChild:function(e){if(e._parent===this){var t=this._children.indexOf(e);if(-1!==t)return this.willRemoveChild(e),e._doNotNotifyParentChange||e.willMoveToParent(null),this._children.splice(t,1),e._parent=null,e._doNotNotifyParentChange||e.didMoveToParent(null),e._markNodeManipulation(w.Removal),e}},remove:function(){if(this._parent instanceof i)return this._parent.removeChild(this)},findNode:function(e,t){if("function"!=typeof e)throw new TypeError("RenderTree.RenderNode.findNode: callback must be a function");var n,i=this;return function o(r){r!==i&&e.call(t,r)?n=r:r.children.some((function(e){return o(e),n}))}(i),n},convertPointFromPage:function(e){return _.fromPageToElement(this.element,e)},convertPointToPage:function(e){return _.fromElementToPage(this.element,e)},toString:function(){var e="";return this._wantsHardwareCompositing&&(e+="\ud83c\udfc1 "),e+=this.stringInfo(),this.classList.toString()&&(e+=this.classList._classes().map((function(e){return"."+e})).join(", ")),0===this.position.x&&0===this.position.y||(e+=" ("+this.position.x+", "+this.position.y+")"),0===this.size.width&&0===this.size.height||(e+=" "+this.size.width+"x"+this.size.height),1!==this.opacity&&(e+=" [opacity:"+this.opacity+"]"),this.transform.toString()&&(e+=" ["+this.transform.toString()+"]"),e},dump:function(e){return u(this,"",-1,e)},stringInfo:function(){return"<"+this.element.tagName.toLowerCase()+">"},willRemoveChild:function(e){},didAddChild:function(e){},willMoveToParent:function(e){},didMoveToParent:function(e){},_markDirtyProperty:function(e,t){(void 0===t||t?l(this._dirtyProperties,e):c(this._dirtyProperties,e))&&this._updateNodeDirtiness()},_markNodeManipulation:function(e){this._pendingDOMManipulation=e,this._updateNodeDirtiness()},_updateNodeDirtiness:function(){!function(e,t){t?(l(y,e),g.scheduleDraw(o)):c(y,e)}(this,this._pendingDOMManipulation!==w.None||this._dirtyProperties.length>0||Object.getOwnPropertyNames(this._dirtyAttributes).length>0)}},h.prototype={constructor:h,add:function(e){this._add(e)},remove:function(e){this._remove(e)},contains:function(e){return-1!==this._classes().indexOf(e)},toggle:function(e,t){if("boolean"==typeof t||t instanceof Boolean)return t?this._add(e):this._remove(e),t;this._add(e)||this._remove(e)},toString:function(){return this._classes().join(" ")},_classes:function(){return this._populateClasses&&(this.__classes=this._node.element.className.split(/[ ]+/).filter(Boolean),delete this._populateClasses),this.__classes},reset:function(){this._additions=[],this._removals=[],this.__classes=[],this._populateClasses=!0},_add:function(e){if(!e)return!1;var t=l(this._classes(),e);return t&&(c(this._removals,e)||l(this._additions,e),this._updateNodeDirtiness()),t},_remove:function(e){if(!e)return!1;var t=c(this._classes(),e);return t&&(c(this._additions,e)||l(this._removals,e),this._updateNodeDirtiness()),t},_updateNodeDirtiness:function(){this._node._markDirtyProperty("classList",this._additions.length>0||this._removals.length>0)}};var S=new d.EventTarget;S.Node=i,S.Point=m,S.Transform=f,t.exports=S},{"@maps/css-transform":60,"@maps/device-pixel-ratio":61,"@maps/dom-events":62,"@maps/geometry/point":103,"@maps/geometry/size":104,"@maps/scheduler":106,"@maps/web-point-converter":107}],103:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{dup:59}],104:[function(e,t,n){arguments[4][71][0].apply(n,arguments)},{dup:71}],105:[function(e,t,n){function i(){if(0!==a.length){var e=a.concat();a=[],o={},e.forEach((function(e){e()}))}}var o={},r=0,a=[];"undefined"!=typeof window&&window.requestAnimationFrame?(t.exports.request=window.requestAnimationFrame.bind(window),t.exports.cancel=window.cancelAnimationFrame.bind(window)):"undefined"!=typeof window&&window.webkitRequestAnimationFrame?(t.exports.request=window.webkitRequestAnimationFrame.bind(window),t.exports.cancel=window.webkitCancelAnimationFrame.bind(window)):(t.exports.request=function(e){0===a.length&&setTimeout(i,16.666666666666668),a.push(e);var t=++r;return o[t]=e,t},t.exports.cancel=function(e){if(e in o){var t=o[e],n=a.indexOf(t);-1!==n&&(a.splice(n,1),delete o[e])}})},{}],106:[function(e,t,n){function i(){-1===s&&(l.length>0||u.length>0)&&(s=a.request(o))}function o(){d===h.Flushing&&-1!==s&&a.cancel(s),function(){for(d=h.Updating;l.length>0;){var e=l;l=[];for(var t=0,n=e.length;t<n;++t){var i=e[t];"function"==typeof i?i():i&&"object"==typeof i&&"function"==typeof i.performScheduledUpdate&&i.performScheduledUpdate()}}l=c,c=[]}(),function(){d=h.Drawing;var e=u;u=[];for(var t=0,n=e.length;t<n;++t){var i=e[t];"function"==typeof i?i():i&&"object"==typeof i&&"function"==typeof i.performScheduledDraw&&i.performScheduledDraw()}}(),d=h.Idle,s=-1,i()}function r(e,t){return-1===e.indexOf(t)&&(e.push(t),!0)}var a=e("@maps/request-animation-frame"),s=-1,l=[],c=[],u=[],h={Idle:0,Updating:1,Drawing:2,Flushing:3},d=h.Idle;t.exports={scheduleASAP:function(e){r(l,e)&&i()},scheduleOnNextFrame:function(e){r(d===h.Updating?c:l,e)&&i()},scheduleDraw:function(e){r(u,e)&&i()},flush:function(){d>h.Idle||(d=h.Flushing,o())}}},{"@maps/request-animation-frame":105}],107:[function(e,t,n){arguments[4][83][0].apply(n,arguments)},{"@maps/css-matrix":108,"@maps/geometry/point":109,dup:83}],108:[function(e,t,n){arguments[4][58][0].apply(n,arguments)},{"@maps/geometry/point":109,dup:58}],109:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{dup:59}],110:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(){f&&p&&(f=!1,p.length?m=p.concat(m):g=-1,m.length&&s())}function s(){if(!f){var e=r(a);f=!0;for(var t=m.length;t;){for(p=m,m=[];++g<t;)p&&p[g].run();g=-1,t=m.length}p=null,f=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,h,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(e){h=o}}();var p,m=[],f=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||f||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],111:[function(e,t,n){t.exports={version:"5.4.0",build:"18.29-9",cdnUrl:"//cdn.apple-mapkit.com/mk/5.4.0"}},{}],112:[function(e,t,n){function i(){this._doNotTrack=r.doNotTrack(),this._isInternalClient=/\.apple\.com$/.test(window.origin)||/\.icloud\.com$/.test(window.origin)||/\.filemaker\.com$/.test(window.origin)||/\.apple-mapkit\.com$/.test(window.origin)||/\.tryrating\.com$/.test(window.origin)||/localhost/.test(window.origin),o.addEventListener(o.Events.Changed,this)}var o=e("../configuration"),r=e("@maps/js-utils"),a=e("./transforms"),s=e("@maps/loaders").XHRLoader,l=e("@maps/loaders").Priority,c={Short:["SCREEN_SIZE","BROWSER_INFO","APPLICATION_IDENTIFIER","BROWSER_WINDOW_SIZE","URL","MAP_VIEW","USER_SESSION","TILE"]},u={Zoom:{name:"ZOOM",states:c.Short},MapsLoad:{name:"MAPS_LOAD",states:c.Short},AnnotationClick:{name:"ANNOTATION_CLICK",states:c.Short},MapTypeChange:{name:"MAP_TYPE_CHANGE",states:c.Short},MapNodeReady:{name:"MAP_NODE_READY",states:c.Short}};i.prototype={_queuedMessages:[],_loader:null,_analyticsUrl:null,_errorUrl:null,_sessionId:null,_sessionTimerStart:null,_sessionTimeToExpire:null,_sequenceNumber:null,_doNotTrack:null,Events:u,log:function(e,t){!o.analytics||this._doNotTrack||r.isNode()||((!this._sessionId||(new Date).getTime()>this._sessionTimeToExpire)&&this._initSession(),this._queuedMessages.push(this._createMessage(e,t)),this._sequenceNumber++,this._loader||(console.assert(this._analyticsUrl,"analytics._analyticsUrl is not set"),this._loader=new s(this._analyticsUrl,this,{method:"POST",priority:l.Low,retry:!0}),this._loader.schedule()))},getDataToSend:function(e){if(0===this._queuedMessages.length)return this._loader.unschedule(),!1;var t=JSON.stringify({analytics_message_type:"SHORT_SESSION_USAGE",analytics_event:this._queuedMessages});return this._queuedMessages=[],e.setRequestHeader("Content-Type","text/plain"),e.responseType="text",t},loaderDidSucceed:function(e){delete this._loader},loaderDidFail:function(e){this._queuedMessages=this._queuedMessages.concat(JSON.parse(e.xhrData).analytics_event),delete this._loader},handleEvent:function(e){switch(e.type){case o.Events.Changed:this._configurationBecameAvailable()}},reduceHost:function(e){var t=e.match(/([^\.]+\.[^\.]+)$/);return t&&t.length>0?t[0]:e},_createMessage:function(e,t){var n={event_type:"USER_ACTION",user_action_event:{user_action_event_key:e.name}};return n.analytics_state=this._createStateMessages(e.states,t),n},_initSession:function(){this._sessionId={high:r.generateSessionIdValue(),low:r.generateSessionIdValue()},this._sessionTimerStart=(new Date).getTime(),this._sessionTimeToExpire=this._sessionTimerStart+9e5,this._sequenceNumber=0},_createStateMessages:function(e,t){return e.map((function(e){var n={state_type:e};return n[e.toLowerCase()]=a[e](this,t),n}),this)},_configurationBecameAvailable:function(){o.analytics&&(this._analyticsUrl=o.analytics.analyticsUrl),o.teamId&&(this._teamId=o.teamId)}},t.exports=new i},{"../configuration":159,"./transforms":116,"@maps/js-utils":84,"@maps/loaders":85}],113:[function(e,t,n){var i=e("../../../build.json");t.exports=function(e){var t={host:location.host,mkjs_version:i.version};return e._teamId&&(t.team_id=e._teamId),e._isInternalClient||(t.host=e.reduceHost(location.host)),t}},{"../../../build.json":111}],114:[function(e,t,n){t.exports=function(e){var t={browser_user_agent:navigator.userAgent,browser_language:navigator.language};return e._isInternalClient?(t.browser_referer=document.referrer,t.browser_origin=location.protocol+"//"+location.host):t.browser_origin=e.reduceHost(location.host),t}},{}],115:[function(e,t,n){t.exports=function(e){if(e._isInternalClient)return{width:window.innerWidth,height:window.innerHeight}}},{}],116:[function(e,t,n){t.exports={SCREEN_SIZE:e("./screen-size-state"),BROWSER_INFO:e("./browser-info-state"),APPLICATION_IDENTIFIER:e("./application-identifier"),BROWSER_WINDOW_SIZE:e("./browser-window-size-state"),URL:e("./url-state"),MAP_VIEW:e("./map-view-state"),USER_SESSION:e("./user-session-state"),TILE:e("./tile-state")}},{"./application-identifier":113,"./browser-info-state":114,"./browser-window-size-state":115,"./map-view-state":117,"./screen-size-state":118,"./tile-state":119,"./url-state":120,"./user-session-state":121}],117:[function(e,t,n){t.exports=function(e,t){console.assert(t.map,"A `map` object must be provided to report map view analytics.");var n=t.map.region.toBoundingRegion(),i=t.map.ensureRenderingFrame().size;return{display_map_region:{eastLng:n.eastLongitude,northLat:n.northLatitude,southLat:n.southLatitude,westLng:n.westLongitude},zoom_level:t.map.zoomLevel,map_type:"MAP_TYPE_"+t.map.mapType.toUpperCase(),size:{width:i.width,height:i.height}}}},{}],118:[function(e,t,n){t.exports=function(t){var n={device_pixel_ratio:e("@maps/device-pixel-ratio")()};return t._isInternalClient?(n.width=screen.width,n.height=screen.height,n):n}},{"@maps/device-pixel-ratio":61}],119:[function(e,t,n){t.exports=function(e,t){return{rendering:t.map._mapNodeController&&t.map._mapNodeController.renderingMode}}},{}],120:[function(e,t,n){t.exports=function(e){var t={};return e._isInternalClient&&(t.query_string=location.search,t.path=location.pathname),t}},{}],121:[function(e,t,n){t.exports=function(e){var t=((new Date).getTime()-e._sessionTimerStart)/1e3;return{session_id:e._sessionId,sequence_number:e._sequenceNumber,relative_timestamp:t}}},{}],122:[function(e,t,n){function i(e){this._annotation=e}var o=e("@maps/geometry").Point,r=e("@maps/scheduler");i.prototype={liftDurationMs:200,liftOpacity:.5,animateLift:function(){var e=Math.min((Date.now()-this._liftAnimationStartDate)/this.liftDurationMs,1);this._annotation.translate(this.translation.x,this.translation.y-this.liftAmount*e),this._annotation.opacity=1-(1-this.liftOpacity)*e,e<1?(r.scheduleOnNextFrame(this),this._liftAnimationProgress=e):(delete this._liftAnimationStartDate,delete this._liftAnimationProgress)},animateDropAfterLift:function(){var e=Math.max(this._dropAnimationStartP-Math.min((Date.now()-this._dropAfterLiftAnimationStartDate)/this.liftDurationMs,1),0);this._dropAnimationRevert&&this._annotation.translate(0,-this.liftAmount*e),this._annotation.opacity=1-(1-this.liftOpacity)*e,e>0?r.scheduleOnNextFrame(this):this._annotation.droppedAfterLift()},dropAnnotationAfterDraggingAndRevertPosition:function(e){this._liftAnimationStartDate?(this._dropAnimationStartP=this._liftAnimationProgress,delete this._liftAnimationStartDate,delete this._liftAnimationProgress):this._dropAnimationStartP=1,e?this._annotation.resetNodeTransform():this._annotation.draggingDidEnd(),this._dropAfterLiftAnimationStartDate=Date.now(),this._dropAnimationRevert=e,r.scheduleOnNextFrame(this)},lift:function(e){this.liftAmount=e,this.translation=new o,this._liftAnimationStartDate=Date.now(),this._liftAnimationProgress=0,r.scheduleOnNextFrame(this)},getTranslation:function(){return new o(this.translation.x,this.translation.y-this.liftAmount)},setTranslation:function(e){this.translation=e,this._liftAnimationStartDate||this._annotation.translate(this.translation.x+this._annotation.dragOffset.x,this.translation.y-this.liftAmount+this._annotation.dragOffset.y)},performScheduledUpdate:function(){this._liftAnimationStartDate?this.animateLift():this._dropAfterLiftAnimationStartDate&&this.animateDropAfterLift()}},t.exports=i},{"@maps/geometry":68,"@maps/scheduler":106}],123:[function(e,t,n){function i(e){this._map=e,this.panning=!1}var o=e("@maps/geometry/point"),r=e("@maps/scheduler");i.prototype={constructor:i,update:function(e,t){if(this._map.isScrollEnabled){var n=e._impl.translatedPosition(),i=n.x,a=i+t.size.width,s=n.y,l=s+t.size.height,c=this._map.ensureVisibleFrame();this._direction=new o,i<=c.minX()?this._direction.x=1:a>=c.maxX()&&(this._direction.x=-1),s<=c.minY()+5?this._direction.y=1:l>=c.maxY()-5&&(this._direction.y=-1);var u=0!==this._direction.x||0!==this._direction.y;!this.panning&&u?(this.panning=!0,this._startTime=Date.now(),this._initialSpeed=Math.floor(1/104.1*(c.size.width+c.size.height)/2),r.scheduleOnNextFrame(this)):this.panning&&!u&&this.stop()}},stop:function(){this.panning&&(this.panning=!1,delete this._direction,delete this._startTime,delete this._initialSpeed)},performScheduledUpdate:function(){if(this.panning){console.assert(!!this._startTime&&!!this._initialSpeed);var e=this._initialSpeed,t=Date.now()-this._startTime;t>4e3?e*=3:t>1e3&&(e*=1.5),this._map.translateCameraAnimated(new o(this._direction.x*e,this._direction.y*e),!1),this._map.panningDuringAnnotationDrag(),r.scheduleOnNextFrame(this)}},mapWasDestroyed:function(){delete this._map}},t.exports=i},{"@maps/geometry/point":69,"@maps/scheduler":106}],124:[function(e,t,n){function i(e,t,n,i){o.call(this,e),m.EventTarget(e),p.checkType(n,"function"),p.checkOptions(i),this._setCoordinate(t);var a=n(t,i);p.checkElement(a,"[MapKit] Annotation element factory must return a DOM element, got `"+a+"` instead."),this._element=a,this._node=new f.Node(d.htmlElement("div",a)),this._node.wantsHardwareCompositing=!0,this._node.element._annotation=this,this._unsized=!0,this._public=e,this.occluded=!1,this._dragController||(this._dragController=new r(this)),i&&(v.forEach((function(e){e in i&&(this[e]=i[e])}),this),y.forEach((function(e){e in i&&this["_set"+e.replace(/^\w/,(function(e){return e.toUpperCase()}))](i[e])}),this),Object.keys(i).forEach((function(e){"map"===e||"element"===e?console.warn("[MapKit] `"+e+"` is read-only and can't be set on an Annotation."):this.isAKnownOption(e)||console.warn("[MapKit] Unknown option for annotation: "+e+" (use the `data` property instead)")}),this)),_.addEventListener(_.Events.LocaleChanged,this),this.updateLocalizedText()}var o=e("./annotation-layer-item-internal"),r=e("./annotation-drag-controller"),a=e("../../../lib/geo"),s=a.Coordinate,l=e("@maps/geometry/size"),c=e("@maps/css-matrix"),u=e("@maps/css-transform"),h=e("@maps/geometry/point"),d=e("../utils"),p=e("@maps/js-utils"),m=e("@maps/dom-events"),f=e("@maps/render-tree"),g=e("../../../lib/scene-graph"),_=e("../localizer").l10n,v=["title","subtitle","data","accessibilityLabel","anchorOffset","calloutOffset","size","callout","visible","enabled","selected","calloutEnabled","animates","appearanceAnimation","collisionMode"],y=["draggable","displayPriority","clusteringIdentifier"],b=i.Events={DragStart:"drag-start",Dragging:"dragging",DragEnd:"drag-end"},w=i.DisplayPriority={Low:250,High:750,Required:1e3},C=i.CollisionMode={Rectangle:"rectangle",Circle:"circle"};i.prototype=p.inheritPrototype(o,i,{_calloutOffset:new window.DOMPoint(0,1),_enabled:!0,_selected:!1,_calloutEnabled:!0,_animates:!0,_draggable:!1,_title:"",_subtitle:"",_accessibilityLabel:null,_displayPriority:w.Required,_collisionMode:C.Rectangle,_clusteringIdentifier:null,_sceneGraphNode:null,shouldHideLabels:!1,_callout:null,get map(){return this.delegate&&this.delegate.mapForAnnotation(this._public)},set map(e){console.warn("[MapKit] The `map` property is read-only.")},get coordinate(){return this._coordinate},set coordinate(e){this.memberAnnotations||this._setCoordinate(e)},get title(){return this._title},set title(e){null!=e?(p.checkType(e,"string","[MapKit] Expected a string value for Annotation.title, but got `"+e+"` instead"),this._title=e):delete this._title,this.updateLocalizedText(),this._updatedProperty("title")},get subtitle(){return this._subtitle},set subtitle(e){null!=e?(p.checkType(e,"string","[MapKit] Expected a string value for Annotation.subtitle, but got `"+e+"` instead"),this._subtitle=e):delete this._subtitle,this.updateLocalizedText(),this._updatedProperty("subtitle")},get accessibilityLabel(){return this._accessibilityLabel},set accessibilityLabel(e){null!=e?(p.checkType(e,"string","[MapKit] Expected a string value for Annotation.accessibilityLabel, but got `"+e+"` instead"),this._accessibilityLabel=e):delete this._accessibilityLabel,this.updateLocalizedText()},get data(){return this.hasOwnProperty("_data")||(this._data={}),this._data},set data(e){this._data=e},get enabled(){return this._enabled},set enabled(e){this._enabled=!!e},get calloutEnabled(){return this._calloutEnabled},set calloutEnabled(e){this._calloutEnabled=!!e},get selected(){return this._selected},set selected(e){var t=!!e;t!==this._selected&&(this._selected=t,this._updatedProperty("selected"))},get animates(){return this._animates},set animates(e){this._animates=!!e},get calloutOffset(){return this._calloutOffset},set calloutOffset(e){p.checkInstance(e,window.DOMPoint,"[MapKit] Annotation.calloutOffset expected a DOMPoint, but got `"+e+"` instead."),this._calloutOffset=new window.DOMPoint(e.x,e.y),this._updatedProperty("calloutOffset")},get callout(){return this._callout},set callout(e){p.checkType(e,"object","[MapKit] Annotation.callout expected an object, but got `"+e+"` instead."),this._callout=e},get draggable(){return this._draggable},set draggable(e){this.memberAnnotations||this._setDraggable(e)},get size(){if(this._updateSize(),!this._unsized)return this._node.size.copy()},set size(e){var t="[MapKit] Annotation size expects a size object with width and height properties";p.checkType(e,"object",t).checkType(e.width,"number",t).checkType(e.height,"number",t),this.setSize(new l(e.width,e.height)),this._userSetSize=!0,this.updateSize()},get opacity(){return this.sceneGraphNode?this.sceneGraphNode.opacity:this.node.opacity},set opacity(e){this.sceneGraphNode?this.sceneGraphNode.opacity=e:this.node.opacity=e},get displayPriority(){return this._displayPriority},set displayPriority(e){this.memberAnnotations||this._setDisplayPriority(e)},isRequired:function(){return this.selected||this.displayPriority===w.Required},get collisionMode(){return this._collisionMode},set collisionMode(e){if(!p.checkValueIsInEnum(e,C))throw new Error("[MapKit] Unknown value for `collisionMode`. Choose from Annotation.CollisionMode.");e!==this._collisionMode&&(this._collisionMode=e,this._updatedProperty("collisionMode"))},get clusteringIdentifier(){return this._clusteringIdentifier},set clusteringIdentifier(e){this.memberAnnotations||this._setClusteringIdentifier(e)},get needsLayout(){return this._sceneGraphNode&&this._sceneGraphNode.needsLayout},removedFromMap:function(){this._removedFromMap=!0,_.removeEventListener(_.Events.LocaleChanged,this)},addedToMap:function(){this._removedFromMap&&(this._removedFromMap=!1,_.addEventListener(_.Events.LocaleChanged,this),this.updateLocalizedText())},delegate:null,setDelegate:function(e){this.delegate=e},updateLayout:function(){},doesAnimate:function(){return this._animates&&!!this._appearanceAnimationName},willMoveToMap:function(){this._isMoving=this.doesAnimate(),this._updateSize()},didMoveToMap:function(){this._isMoving&&this._appearanceAnimationName&&this._visible&&(this.element.style.animation=this.element.style.webkitAnimation=this._appearanceAnimation,(this.element.style.animationName||this.element.style.webkitAnimationName)&&(this._animating=!0,this.element.addEventListener("animationend",this),this.element.addEventListener("webkitAnimationEnd",this))),delete this._isMoving},canShowCallout:function(){return this._calloutEnabled&&!this.isWaiting&&!this._isMoving&&!this._isAnimating&&!this._isLifted},calloutWillAppear:function(){},calloutWillDisappear:function(){},canBePicked:function(){return this._shown&&this._visible&&!this._isMoving&&!this._isAnimating&&!this._isLifted&&!this.occluded},draggingDidStart:function(){this._public.dispatchEvent(new m.Event(b.DragStart))},isDraggable:function(){return this.draggable&&!this._isLifted},isLifted:function(){return this._isLifted},dispatchDraggingEvent:function(){var e=new m.Event(i.Events.Dragging);return e.coordinate=this._coordinateDuringDrag(),this._public.dispatchEvent(e),e},positionForCallout:function(){var e=this._calloutAnchorPoint;if(!e){var t=this._userSetSize?this._node.size:this.delegate.sizeForElement(this.element);e=new window.DOMPoint(-t.width/2,0)}return new h(this._node.position.x-e.x-this._calloutOffset.x,this._node.position.y-e.y-this._calloutOffset.y)},setDraggingTranslationForMapFrameSize:function(e,t){this._dragController.setTranslation(this.clampDraggingTranslationForMapFrameSize(e,t))},dropAfterDraggingAndRevertPosition:function(e){this._dragController.dropAnnotationAfterDraggingAndRevertPosition(e)},distanceToPoint:function(e){var t=this._node.position.x,n=t+this._node.size.width,i=t-e.x,o=n-e.x,r=i<=0&&o>=0?0:Math.min(Math.abs(i),Math.abs(o)),a=this._node.position.y,s=a+this._node.size.height,l=a-e.y,c=s-e.y,u=l<=0&&c>=0?0:Math.min(Math.abs(l),Math.abs(c));return r*r+u*u},lift:function(e){this._isLifted=!0,this._dragController.lift(e),this._updatedProperty("")},translate:function(e,t){this.sceneGraphNode?this.sceneGraphNode.transform=(new c).translate(e,t):this._node.transform=(new u).translate(e,t)},translatedPosition:function(){var e=this._dragController.getTranslation();return new h(this._position.x-this._anchorPoint.x-this._anchorOffset.x+e.x,this._position.y-this._anchorPoint.y-this._anchorOffset.y+e.y)},updatedPosition:function(){return this.coordinate?(this.x=a.convertLongitudeToX(a.wrapLongitude(this.coordinate.longitude)),this.y=a.convertLatitudeToY(this.coordinate.latitude),!0):(this.setShown(!1),this.sceneGraphNode&&this.sceneGraphNode.remove(),!1)},get sceneGraphNode(){return this._sceneGraphNode},mayBeDrawn:function(){return!!this.sceneGraphNode&&this._shown&&this.visible&&!this.isWaiting},isDrawn:function(){return(!this.occluded||this._occludedAnimation)&&this.mayBeDrawn()},animateOcclusion:function(){var e=this.occluded?0:1;this._sceneGraphNode&&(this._occludedAnimation&&this._occludedAnimation.end(),this._occludedAnimation=new g.NodeAnimator.Opacity({node:this._sceneGraphNode,from:1-e,to:e,duration:200,done:function(){delete this._occludedAnimation}.bind(this)}).begin());var t=this.occluded&&this.cluster&&this.cluster._impl,n=!this.occluded&&this.previousCluster;(t||n)&&this._animateClustering()},dragOffset:h.Zero,handleEvent:function(e){switch(e.type){case _.Events.LocaleChanged:this.updateLocalizedText();break;case"animationend":case"webkitAnimationEnd":if(e.animationName!==this._appearanceAnimationName)return;this.element.style.animation=this.element.style.webkitAnimation="",this.element.removeEventListener("animationend",this),this.element.removeEventListener("webkitAnimationEnd",this),this.finishedAnimating()}},updateLocalizedText:function(){this._element.setAttribute("aria-label",this.altText())},altText:function(){return this._accessibilityLabel||(this.title&&this.subtitle?_.get("Annotation.Generic.AccessibilityLabel",{title:this.title,subtitle:this.subtitle}):this.title||this.subtitle||"")},updateSize:function(){delete this._unsized,this._selected&&this.delegate&&this.delegate.selectedAnnotationDidMoveToMap(this._public)},clampDraggingTranslationForMapFrameSize:function(e,t){var n=this._anchorPoint.x+this._anchorOffset.x-this._position.x,i=t.width-this._node.size.width+n,o=this._anchorPoint.y+this._anchorOffset.y+this._dragController.liftAmount-this._position.y,r=t.height-this._node.size.height+o;return new h(p.clamp(e.x,n,i),p.clamp(e.y,o,r))},droppedAfterLift:function(){delete this._isLifted,this.selected&&this.delegate.selectedAnnotationDidMoveToMap(this._public),this._updatedProperty("")},draggingDidEnd:function(){this.coordinate=this._coordinateDuringDrag(),this.resetNodeTransform(),this._public.dispatchEvent(new m.Event(i.Events.DragEnd))},resetNodeTransform:function(){this.node.transform=new u},finishedAnimating:function(){delete this._isAnimating,this._selected&&this.delegate&&this.delegate.selectedAnnotationDidMoveToMap(this._public),this._visible||this._updateVisibility(),this.delegate&&this.delegate.annotationFinishedAnimating(this._public)},isAKnownOption:function(e){return v.indexOf(e)>=0||y.indexOf(e)>=0},_animateClustering:function(){if(this._sceneGraphNode){var e={node:this._sceneGraphNode,duration:200,done:function(){delete this._clusteringAnimation}.bind(this)},t=this.boundingBox;if(this.cluster){var n=this.cluster._impl.boundingBox;e.to=new h(n.x1-t.x1,n.y1-t.y1)}else{var i=this.previousCluster._impl.boundingBox;e.from=new h(i.x1-t.x1,i.y1-t.y1)}this._clusteringAnimation&&this._clusteringAnimation.end(),this._clusteringAnimation=new g.NodeAnimator.Translation(e).begin()}},_setCoordinate:function(e){p.checkInstance(e,s,"[MapKit] Annotation.coordinate expected a Coordinate value."),delete this._translation,this._coordinate=e.copy(),this._updatedProperty("coordinate")},_setDraggable:function(e){var t=!!e;t!==this._draggable&&(this._draggable=t,this._updatedProperty("draggable"))},_setDisplayPriority:function(e){var t="[MapKit] Annotation displayPriority expects a number between 0 and "+w.Required;p.checkType(e,"number",t);var n=p.clamp(e,0,w.Required);if(n!==e)console.warn(t+", value was normalized");else if(n===this._displayPriority)return;this._displayPriority=n,this._updatedProperty("displayPriority")},_setClusteringIdentifier:function(e){null!==e&&p.checkType(e,"string","[MapKit] Annotation clusteringIdentifier expects a string"),this._clusteringIdentifier!==e&&(this._clusteringIdentifier=e,this._updatedProperty("clusteringIdentifier"))},_coordinateDuringDrag:function(){var e=this.sceneGraphNode?this._dragController.translation.x:0,t=this.sceneGraphNode?this._dragController.translation.y-this._dragController.liftAmount:0,n=this.node.convertPointToPage(new h(e+this.dragOffset.x+this._anchorPoint.x+this.anchorOffset.x,t+this.dragOffset.y+this._anchorPoint.y+this.anchorOffset.y));return this.delegate._map.convertPointOnPageToCoordinate(new window.DOMPoint(n.x,n.y))},_updateSize:function(){if(this._unsized&&!this._userSetSize&&this.delegate){var e=this.delegate.sizeForElement(this.element);e&&(delete this._unsized,this.setSize(e))}},_updatedProperty:function(e){this.delegate&&this.delegate.annotationPropertyDidChange(this._public,e)}}),i.div=function(){return document.createElement("div")},t.exports=i},{"../../../lib/geo":2,"../../../lib/scene-graph":47,"../localizer":182,"../utils":225,"./annotation-drag-controller":122,"./annotation-layer-item-internal":125,"@maps/css-matrix":58,"@maps/css-transform":60,"@maps/dom-events":62,"@maps/geometry/point":69,"@maps/geometry/size":71,"@maps/js-utils":84,"@maps/render-tree":102}],125:[function(e,t,n){function i(e){e&&(this._public=e)}var o=e("../utils"),r=e("@maps/js-utils"),a=e("@maps/geometry/point"),s="mk-hidden",l="mk-invisible";i.CalloutTailSide={Left:"left",Right:"right",Bottom:"bottom"},i.prototype={_shown:!0,_visible:!0,_position:new a,_anchorPoint:new a,_anchorOffset:new window.DOMPoint,_appearanceAnimation:"",get node(){return this._node},get element(){return this._element},set element(e){console.warn("[MapKit] The `element` property is read-only.")},get anchorOffset(){return this._anchorOffset},set anchorOffset(e){r.checkInstance(e,window.DOMPoint,"[MapKit] Annotation.anchorOffset expected a DOMPoint, but got `"+e+"` instead."),this._anchorOffset=new window.DOMPoint(e.x,e.y),this.updatePosition()},get visible(){return this._visible},set visible(e){e=!!e,this._visible!==e&&(this._visible=e,this._updateVisibility())},get appearanceAnimation(){return this._appearanceAnimation},set appearanceAnimation(e){r.checkType(e,"string","[MapKit] Annotation.appearanceAnimation expected a string, but got `"+e+"` instead."),this._appearanceAnimation=e;var t=document.createElement("div");t.style.animation=t.style.webkitAnimation=e,this._appearanceAnimationName=t.style.animationName||t.style.webkitAnimationName},updatePosition:function(){this._node.position=new a(this._position.x-this._anchorPoint.x-this._anchorOffset.x,this._position.y-this._anchorPoint.y-this._anchorOffset.y)},setShown:function(e){e=!!e,this._shown!==e&&(this._shown=e,o.classList.toggle(this._node.element,s),this.shownPropertyWasUpdated(e))},shownPropertyWasUpdated:function(){},isShown:function(){return this._shown},position:function(){return this._position},setPosition:function(e){this._position=e,this.updatePosition()},updateVisibility:function(e){o.classList.toggle(this._node.element,l,e)},setSize:function(e,t){this._node.size=e,this._anchorPoint=t===i.CalloutTailSide.Left?new a(0,e.height/2):t===i.CalloutTailSide.Right?new a(e.width,e.height/2):new a(e.width/2,e.height),this.updatePosition()},_updateVisibility:function(){!this._visible&&this._animating||(this.updateVisibility(!this._visible),this.delegate&&this.delegate.annotationPropertyDidChange(this._public||this,"visible"))}},t.exports=i},{"../utils":225,"@maps/geometry/point":69,"@maps/js-utils":84}],126:[function(e,t,n){function i(){Object.defineProperty(this,"_impl",{value:new o(this)})}var o=e("./annotation-layer-item-internal");i.CalloutTailSide={Left:"left",Right:"right",Bottom:"bottom"},i.prototype={get node(){return this._impl.node},get element(){return this._impl.element},set element(e){this._impl.element=e},get anchorOffset(){return this._impl.anchorOffset},set anchorOffset(e){this._impl.anchorOffset=e},get animates(){return this._impl.animates},set animates(e){this._impl.animates=e},get visible(){return this._impl.visible},set visible(e){this._impl.visible=e},get appearanceAnimation(){return this._impl.appearanceAnimation},set appearanceAnimation(e){this._impl.appearanceAnimation=e},addEventListener:function(e,t){this._impl.addEventListener(e,t)},removeEventListener:function(e,t){this._impl.addEventListener(e,t)}},t.exports=i},{"./annotation-layer-item-internal":125}],127:[function(e,t,n){function i(e,t,n){Object.defineProperty(this,"_impl",{value:new r(this,e,t,n)})}var o=e("./annotation-layer-item"),r=e("./annotation-internal"),a=e("@maps/js-utils");i.EVENTS=r.EVENTS,i.DisplayPriority=r.DisplayPriority,i.CollisionMode=r.CollisionMode,i.prototype=a.inheritPrototype(o,i,{get map(){return this._impl.map},set map(e){this._impl.map=e},get coordinate(){return this._impl.coordinate},set coordinate(e){this._impl.coordinate=e},get title(){return this._impl.title},set title(e){this._impl.title=e},get subtitle(){return this._impl.subtitle},set subtitle(e){this._impl.subtitle=e},get accessibilityLabel(){return this._impl.accessibilityLabel},set accessibilityLabel(e){this._impl.accessibilityLabel=e},get data(){return this._impl.data},set data(e){this._impl.data=e},get enabled(){return this._impl.enabled},set enabled(e){this._impl.enabled=e},get calloutEnabled(){return this._impl.calloutEnabled},set calloutEnabled(e){this._impl.calloutEnabled=e},get selected(){return this._impl.selected},set selected(e){this._impl.selected=e},get animates(){return this._impl.animates},set animates(e){this._impl.animates=e},get calloutOffset(){return this._impl.calloutOffset},set calloutOffset(e){this._impl.calloutOffset=e},get callout(){return this._impl.callout},set callout(e){this._impl.callout=e},get draggable(){return this._impl.draggable},set draggable(e){this._impl.draggable=e},get size(){return this._impl.size},set size(e){this._impl.size=e},get displayPriority(){return this._impl.displayPriority},set displayPriority(e){this._impl.displayPriority=e},get collisionMode(){return this._impl.collisionMode},set collisionMode(e){this._impl.collisionMode=e},get clusteringIdentifier(){return this._impl.clusteringIdentifier},set clusteringIdentifier(e){this._impl.clusteringIdentifier=e}}),t.exports=i},{"./annotation-internal":124,"./annotation-layer-item":126,"@maps/js-utils":84}],128:[function(e,t,n){function i(){o.GroupNode.call(this),this._element=a.htmlElement("div")}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils"),a=e("../utils");i.prototype=r.inheritPrototype(o.GroupNode,i,{get element(){return this._element},stringInfo:function(){return"AnnotationsControllerNode"}}),t.exports=i},{"../../../lib/scene-graph":47,"../utils":225,"@maps/js-utils":84}],129:[function(e,t,n){function i(e){c.call(this,e),this._sceneGraphNode=new u,this._node=new E.Node(y.htmlElement("div",{class:x.CONTAINER})),this._annotationsNode=this._node.addChild(new E.Node(this._sceneGraphNode.element)),this._calloutsNode=this._node.addChild(new E.Node(y.htmlElement("div"))),this._styleHelper=new g,this._map.element.appendChild(this._styleHelper.element),this._pendingAnnotations=[],this._annotationDraggingMapPanningController=new s(e),this._clustersController=new l(this)}function o(e,t,n){return new C(e.origin.x-t,e.origin.y-n,e.size.width,e.size.height)}function r(){if(this._draggedAnnotation){var e=this._draggedAnnotation._impl.dispatchDraggingEvent();this._map.dispatchEventWithAnnotation(e.type,this._draggedAnnotation,{coordinate:e.coordinate})}}var a=e("../../../lib/geo"),s=e("./annotation-dragging-map-panning-controller"),l=e("./clusters-controller"),c=e("../layer-items-controller"),u=e("./annotations-controller-node"),h=e("./annotation"),d=e("./annotation-internal"),p=e("./marker-annotation-internal"),m=e("./callout"),f=e("../services/geocoder"),g=e("../style-helper"),_=a.MapRect,v=e("./user-location-annotation"),y=e("../utils"),b=e("@maps/js-utils"),w=e("@maps/geometry/point"),C=e("@maps/geometry/rect"),E=e("@maps/render-tree"),S=e("@maps/scheduler"),x={CONTAINER:"mk-annotation-container",DRAGGING:"mk-dragging",SELECTED:"mk-selected",LIFTED:"mk-lifted"},k=null;i.prototype=b.inheritPrototype(c,i,{itemConstructor:h,itemName:"annotation",capitalizedItemName:"Annotation",_rtl:!1,_selectionDistance:Math.pow(c.prototype._selectionDistance,2),get sceneGraphNode(){return this._sceneGraphNode},isItemExposed:function(e){return e!==this._userLocationAnnotation&&!e.memberAnnotations},_userLocationAnnotation:null,get userLocationAnnotation(){return this._userLocationAnnotation},get dragging(){return!!this._draggedAnnotation},set rtl(e){this._rtl!==e&&(this._rtl=e,this._selectedItem&&this._callout&&this._showCalloutForAnnotation(this._selectedItem,!0))},preAddedAnnotation:function(e){return!(e.map||!e._impl.updatedPosition())&&(e._impl.setDelegate(this),!0)},resetAnnotation:function(e){delete e._impl.delegate},addItems:function(e){if(e=c.prototype.addItems.call(this,e),this._shouldAnnotationBePending())return e;e.sort((function(e,t){return t.coordinate.latitude-e.coordinate.latitude}));var t=this._map.camera.toMapRect(),n=t.size.width,i=t.size.height,o=t.origin.x-n,r=o+3*n,a=t.origin.y-i,s=a+3*i,l=this._map.shouldWaitForTilesAndControls(),u=0;e.forEach((function(e){e._impl.doesAnimate()&&e.visible&&e._impl.x+(e._impl.x<o?1:0)<=r&&e._impl.y>=a&&e._impl.y<=s&&(e._impl.delayRank=u,++u)}));var h=Math.min(50*u,3e3),d=0===u?0:h/u;return e.forEach((function(e){e._impl.delayMs=e._impl.delayRank*d,delete e._impl.delayRank,this._addAnnotationWaitingForTiles(e,l)}),this),e},addWaitingAnnotations:function(e){var t="function"==typeof e;this._waitingAnnotations?(t&&(this._completionCallback=e),window.clearTimeout(this._tileLoadingTimeout),delete this._tileLoadingTimeout,this._waitingAnnotations.forEach((function(e){e.map&&this._addAnnotationWaitingForTiles(e,!1,!t)}),this),delete this._waitingAnnotations,S.scheduleOnNextFrame(this._checkCompletion.bind(this))):t&&e()},annotationsInMapRect:function(e){b.checkInstance(e,_,"[MapKit] Map.annotationsInMapRect expects a MapRect as its argument, got `"+e+"` instead.");var t=b.mod(e.origin.x,1),n=t+e.size.width,i=e.origin.y,o=i+e.size.height;return this._items.filter((function(e){if(e===this._userLocationAnnotation)return!1;var r=e._impl.x+(e._impl.x<t?1:0),a=e._impl.y;return r>=t&&r<=n&&a>=i&&a<=o}),this)},removeItem:function(e){return e===this._userLocationAnnotation?(console.warn("[MapKit] Map.removeAnnotation: the user location annotation cannot be removed. Set showsUserLocation to false instead."),e):(delete e._impl.wasCollided,c.prototype.removeItem.call(this,e))},removeUserLocationAnnotation:function(){this._userLocationAnnotation&&(this._userLocationAnnotation._impl.removedFromMap(),c.prototype.removeItem.call(this,this._userLocationAnnotation),delete this._userLocationAnnotation)},updateUserLocationAnnotation:function(e){if(e.coordinate){var t=this._userLocationAnnotation||new v(e);if(this._userLocationAnnotation||(this._userLocationAnnotation=t,this.addItem(t)),e.stale)return delete this._lastGeocoderRequestCoordinate,delete this._lastUserLocationAnnotationSubtitle,void(t._impl.stale=!0);if(t._impl.stale=!1,t._impl.setCoordinate(e.coordinate),k){if(this._lastGeocoderRequestCoordinate&&this._lastGeocoderRequestCoordinate.latitude===t._impl.coordinate.latitude&&this._lastGeocoderRequestCoordinate.longitude===t._impl.coordinate.longitude)return void(this._userLocationAnnotation.subtitle=this._lastUserLocationAnnotationSubtitle)}else k=new f;this._lastGeocoderRequestCoordinate=t._impl.coordinate.copy(),L(k,t,this)}},mapSizeDidUpdate:function(){if(0!==this._pendingAnnotations.length){var e=this._map.shouldWaitForTilesAndControls();this._pendingAnnotations.forEach((function(t){t._impl.isPending&&this._addAnnotationWaitingForTiles(t,e)}),this),this._pendingAnnotations=[]}},updateVisibleAnnotations:function(){this._updateVisibleAnnotations(this._items)},startDraggingAnnotation:function(e,t){this._map.annotationDraggingWillStart(),this._draggedAnnotation=e,this._pendingDragStart=!0,e.selected&&this._hideCallout(e),y.classList.add(this._node.element,x.DRAGGING),y.classList.add(this._draggedAnnotation._impl.node.element,x.LIFTED),this._draggedAnnotation._impl.lift(40),this._updateSceneGraph()},mapTypeWasSet:function(e){p.prototype.darkColorScheme=e,this._items.forEach((function(e){e._impl.updateLayout()}))},devicePixelRatioDidChange:function(){this._items.forEach((function(e){"function"==typeof e._impl.updateGlyphImages&&e._impl.updateGlyphImages()}))},handleEvent:function(e){switch(e.type){case"region-change-start":this._nudgeStarted=!0,this._map.public.addEventListener("region-change-end",this);break;case"region-change-end":!this._nudgeStarted&&this._nudgeMapToShowCallout()||(delete this._nudgeStarted,this._callout&&this._callout.animateIn(),this._map.public.removeEventListener(e.type,this))}},performScheduledUpdate:r,addedItem:function(e,t){c.prototype.addedItem.call(this,e,t),e._impl.isWaiting=!0,t&&(e._impl.delayRank=0);var n=this._shouldAnnotationBePending(e);n&&(e._impl.isPending=!0,this._pendingAnnotations.push(e)),this._updateAnnotation(e),e._impl.selected&&this._didSelectAnnotation(e),t||n||this._addAnnotationWaitingForTiles(e,this._map.shouldWaitForTilesAndControls())},removedItem:function(e){e._impl.node.remove(),c.prototype.removedItem.call(this,e),e._impl.labelRegion&&this._removeLabelRegionForAnnotation(e),this._updateVisibleAnnotations([e]),this._clustersController.removedAnnotation(e),e.memberAnnotations||this._updateCollisions(this._items)},removedReferenceToMap:function(){this._userLocationAnnotation&&this._userLocationAnnotation._impl.removedFromMap()},pickableItemsCloseToPoint:function(e,t){var n=e.filter((function(e,n){var i=e._impl.distanceToPoint(t);return i<=this._selectionDistance&&(e._impl.distance=i,e._impl.index=n,!0)}),this).sort((function(e,t){return e._impl.distance-t._impl.distance||t._impl.index-e._impl.index}));return n.forEach((function(e){delete e._impl.distance,delete e._impl.index})),n},annotationDraggingDidChange:function(e){this._draggedAnnotation&&!this._draggedAnnotation._impl.shouldPreventDrag&&(this._pendingDragStart&&(delete this._pendingDragStart,this._draggedAnnotation._impl.draggingDidStart(),this._map.dispatchEventWithAnnotation(d.Events.DragStart,this._draggedAnnotation)),S.scheduleASAP(this),this._draggedAnnotation._impl.setDraggingTranslationForMapFrameSize(e,this._map.ensureRenderingFrame().size),this._annotationDraggingMapPanningController.update(this._draggedAnnotation,this._draggedAnnotation._impl.node))},annotationDraggingDidEnd:function(e){this._draggedAnnotation&&(this._annotationDraggingMapPanningController.stop(),this._draggedAnnotation._impl.dropAfterDraggingAndRevertPosition(!e),y.classList.remove(this._draggedAnnotation._impl.node.element,x.LIFTED),y.classList.remove(this._node.element,x.DRAGGING),this._map.annotationDraggingDidEnd(),this._map.dispatchEventWithAnnotation(d.Events.DragEnd,this._draggedAnnotation),delete this._draggedAnnotation,this._updateSceneGraph())},annotationPropertyDidChange:function(e,t){switch(t){case"selected":e.selected?this._didSelectAnnotation(e):this._didDeselectAnnotation(e);break;case"coordinate":if(!e._impl.updatedPosition())return;break;case"":case"displayPriority":case"collisionMode":break;case"calloutOffset":this._updateCalloutPositionWithTailShift(e,!0);break;case"visible":this._selectedItem===e&&(this._callout?this._callout.visible=e.visible:e.visible&&this._showCalloutForAnnotation(e,!0)),e._impl.needsColliding=!0;break;case"draggable":this._draggedAnnotation!==e||e.draggable||this._map.stopDraggingAnnotation();break;default:this._selectedItem===e&&(this._updateCalloutInfo(e),this._updateCalloutTailShift())}this._annotationsDidChangeSinceLastCollision=!0,this._updateVisibleAnnotations([e]),this._updateLabelRegionForAnnotation(e)},mapForAnnotation:function(e){return this._map?this._map.public:null},sizeForElement:function(e){if(this._map.isRooted())return this._styleHelper.sizeForElement(e)},selectedAnnotationDidMoveToMap:function(e){this._updateSceneGraph(),this._showCalloutForAnnotation(e)},supportsLabelRegions:function(){return this._map.supportsLabelRegions()},annotationFinishedAnimating:function(e){this._checkCompletion()},isElementInCallout:function(e){return!!this._callout&&this._callout.containsElement(e)},isElementInCustomCallout:function(e){return!!this._callout&&this._callout.isCustomCallout()&&this._callout.node.element.contains(e)},mapPanningDuringAnnotationDrag:r,mapSupportForLabelRegionsChanged:function(){this._items.forEach((function(e){var t=e._impl;t.updateLayout(),delete t.labelRegion,this._updateLabelRegionForAnnotation(e)}),this)},containsMarkerAnnotation:function(){return this._items.some((function(e){return"string"==typeof e.glyphText}))},_addAnnotationToMap:function(e,t){this._shouldAnnotationBePending()?e._impl.isPending=!0:(e._impl.willMoveToMap(e._impl.canAnimate&&!t),delete e._impl.timeout,delete e._impl.isWaiting,delete e._impl.canAnimate,delete e._impl.delayMs,this._annotationsNode.addChild(e._impl.node),e._impl.sceneGraphNode&&this._sceneGraphNode.addChild(e._impl.sceneGraphNode),this._updateAnnotation(e),e.selected&&this._showCalloutForAnnotation(e),this._updateLabelRegionForAnnotation(e),e._impl.didMoveToMap())},_addAnnotationWaitingForTiles:function(e,t,n){e._impl.hasOwnProperty("canAnimate")||(e._impl.canAnimate=!e._impl.isPending),delete e._impl.isPending,!t||e===this._userLocationAnnotation||this._items.some((function(e){return e!==this._userLocationAnnotation&&e._impl.mayBeDrawn()}))?!n&&e._impl.doesAnimate()&&e._impl.delayMs>0?e._impl.timeout=window.setTimeout(this._addAnnotationToMap.bind(this,e),e._impl.delayMs):this._addAnnotationToMap(e,n):this._waitingAnnotations?this._waitingAnnotations.push(e):(this._waitingAnnotations=[e],this._tileLoadingTimeout=window.setTimeout(this.addWaitingAnnotations.bind(this,b.noop),3e3))},_didDeselectAnnotation:function(e){y.classList.remove(e._impl.node.element,x.SELECTED),this.selectedItem=null,this._map.annotationSelectionDidChange(e),this._hideCallout(e)},_didSelectAnnotation:function(e){y.classList.add(e._impl.node.element,x.SELECTED),this.selectedItem=e,this._map.annotationSelectionDidChange(e),e._impl.visible&&this._showCalloutForAnnotation(e)},_boundingRectForSelectedAnnotationAndCallout:function(){var e=this._callout.boundingRect,t=this._selectedItem._impl.position(),n=Math.min(e.minX(),t.x),i=Math.min(e.minY(),t.y),o=Math.max(e.maxX(),t.x)-n,r=Math.max(e.maxY(),t.y)-i;return new C(n,i,o,r)},_updateCalloutTailShift:function(e){if(!this._callout)return!1;var t=e?this._callout.boundingRect.pad(12):this._boundingRectForSelectedAnnotationAndCallout().pad(12),n=this._totalMapNudgingTranslation(t,this._map.ensureVisibleFrame(),e),i=n.x,o=n.y,r=this._callout.shiftTailBy(i);return 0!==i||0!==o?new w(-(i+r),-o):void 0},_nudgeMapToShowCallout:function(){if(this._map.cameraIsPanning||this._map.cameraIsZooming)return this._map.public.addEventListener("region-change-end",this),!0;if(!this._selectedItem._impl.isShown())return!1;var e=this._updateCalloutTailShift();return!!e&&(this._map.public.addEventListener("region-change-start",this),this._map.translateCameraAnimated(e,!0),this._map.public.removeEventListener("region-change-start",this),!!this._nudgeStarted)},_translationToFitInFrame:function(e,t){var n={x:0,y:0};return(e.maxX()>t.maxX()||e.minX()<t.minX()||e.maxY()>t.maxY()||e.minY()<t.minY())&&(n.x=e.minX()<t.minX()?e.minX()-t.minX():e.maxX()>t.maxX()?e.maxX()-t.maxX():0,n.y=e.minY()<t.minY()?e.minY()-t.minY():e.maxY()>t.maxY()?e.maxY()-t.maxY():0),n},_totalMapNudgingTranslation:function(e,t,n){var i=this._translationToFitInFrame(e,t),r=this._map.controlsLayer.controlBounds(),a=t.midX(),s=t.midY(),l=0,c=0;return e=o(e,i.x,i.y),r.forEach((function(t){if(e.minX()<t.maxX()&&e.maxX()>t.minX()&&e.minY()<t.maxY()&&e.maxY()>t.minY()){if(l+=t.maxX()<a?e.minX()-t.maxX():e.maxX()-t.minX(),c+=t.maxY()<s?e.minY()-t.maxY():e.maxY()-t.minY(),n)return;0!==c&&Math.abs(l)>Math.abs(c)?l=0:c=0,e=o(e,l,c)}}),this),i.x+=l,i.y+=c,i},_hideCallout:function(e){this._callout&&(e._impl.calloutWillDisappear(),y.classList.remove(this._callout.node.element,x.SELECTED),this._callout.animateOut(),delete this._callout)},_shouldAnnotationBePending:function(){return!this._map.isRooted()},_showCalloutForAnnotation:function(e,t){if(this._hideCallout(e),e._impl.canShowCallout()){var n=e._impl.callout;if(!n||"function"!=typeof n.calloutShouldAppearForAnnotation||n.calloutShouldAppearForAnnotation(e)){var i,o,r,a;if(n&&"function"==typeof n.calloutElementForAnnotation&&(i=n.calloutElementForAnnotation(e),b.checkElement(i,"[MapKit] calloutElementForAnnotation() must return a DOM element, but returned `"+i+"` instead.")),!i)if(n&&"function"==typeof n.calloutContentForAnnotation&&(o=n.calloutContentForAnnotation(e),b.checkElement(o,"[MapKit] contentElementForAnnotation() must return a DOM element, but returned `"+o+"` instead.")),!o&&!e.title)return;e._impl.calloutWillAppear(),n&&"function"==typeof n.calloutLeftAccessoryForAnnotation&&(r=n.calloutLeftAccessoryForAnnotation(e),b.checkElement(r,"[MapKit] calloutLeftAccessoryForAnnotation() must return a DOM element, but returned `"+r+"` instead.")),!r&&e._impl.canvasForCalloutAccessory&&(r=e._impl.canvasForCalloutAccessory()),n&&"function"==typeof n.calloutRightAccessoryForAnnotation&&(a=n.calloutRightAccessoryForAnnotation(e),b.checkElement(a,"[MapKit] calloutRightAccessoryForAnnotation() must return a DOM element, but returned `"+a+"` instead.")),this._callout=new m(this._styleHelper,{customElement:i,contentElement:o,ignoreCalloutCornerRadiusForLeftAccessory:e._impl.ignoreCalloutCornerRadiusForLeftAccessory,leftAccessory:this._rtl?a:r,rightAccessory:this._rtl?r:a,rtl:this._rtl}),this._callout.animates=!t&&(!n||"function"!=typeof n.calloutShouldAnimateForAnnotation||!!n.calloutShouldAnimateForAnnotation(e));var s,l=this._callout.animates&&n&&"function"==typeof n.calloutAppearanceAnimationForAnnotation?n.calloutAppearanceAnimationForAnnotation(e):"";if(b.checkType(l,"string","[MapKit] calloutAppearanceAnimationForAnnotation() must return a string, but returned `"+l+"` instead."),this._callout.appearanceAnimation=l,i)n&&"function"==typeof n.calloutAnchorOffsetForAnnotation&&(s=n.calloutAnchorOffsetForAnnotation(e,this._callout.node.size),b.checkInstance(s,window.DOMPoint,"[MapKit] calloutAnchorOffsetForAnnotation() must return a DOMPoint, but returned `"+s+"` instead.")),this._callout.setAnchorOffset(s);this._updateCalloutInfo(e),this._updateCalloutPositionWithTailShift(e,!1);var c=!t&&this._nudgeMapToShowCallout();this._callout.willMoveToMap(),y.classList.add(this._callout.node.element,x.SELECTED),this._calloutsNode.addChild(this._callout.node),c||this._callout.animateIn()}}},mapWasDestroyed:function(){c.prototype.mapWasDestroyed.call(this),this._annotationDraggingMapPanningController.mapWasDestroyed()},_updateCalloutInfo:function(e){this._callout?this._callout.updateInfo(e,12)||this._hideCallout(e):this._showCalloutForAnnotation(e)},_updateCalloutPositionWithTailShift:function(e,t){this._selectedItem===e&&this._callout&&(this._callout.setShown(e._impl.isShown()),this._callout.setPosition(e._impl.positionForCallout()),t&&this._updateCalloutTailShift(t))},_updateLabelRegionForAnnotation:function(e){var t=e._impl;if(t.shouldHideLabels){t.labelRegion||(t.labelRegion=this._map.createLabelRegion());var n=t.labelRegion;if(n){var i=t.node.size,o=i.width,r=i.height;n.x=t.x,n.y=1-t.y,n.width=o,n.height=r,n.xOffset=o/2-t._anchorPoint.x-t._anchorOffset.x,n.yOffset=t._anchorPoint.y+t._anchorOffset.y-r/2,this._map.updatedLabelRegion()}}},_removeLabelRegionForAnnotation:function(e){this._map.unregisterLabelRegion(e._impl.labelRegion),delete e._impl.labelRegion},_updateVisibleAnnotations:function(e,t){t||this._deletePreviousPointForPickingItem();var n=this._map,i=n.camera.toRenderingMapRect(),o=i.size.width,r=i.size.height,a=i.minX(),s=i.maxX(),l=a-o,c=s+o,u=i.minY()-r,h=u+3*r;e.forEach((function(e){if(e!==this._draggedAnnotation||!this._annotationDraggingMapPanningController.panning){var t=e._impl.x+(e._impl.x<l?1:e._impl.x>c?-1:0);if(t>=l&&t<=c&&e._impl.y>=u&&e._impl.y<=h){e._impl.isShown()||e!==this._selectedItem||this._showCalloutForAnnotation(e,!0),e._impl.setShown(!0);var i=a-t;i>0?Math.abs(s-(t+1))<i&&++t:(i=t-s)>0&&Math.abs(a-(t-1))<i&&--t}else e._impl.setShown(!1);e._impl.setPosition(n.adjustMapItemPoint(n.camera.transformMapPoint(new w(t,e._impl.y))))}}),this),this._updateCalloutPositionWithTailShift(this._selectedItem,!0),t||this._updateCollisions(e),this._updateSceneGraph()},_updateCollisions:function(e){var t=!1,n=this._items.filter((function(e){var n=e.visible&&e._impl.isShown(),i=(n||e._impl.needsColliding)&&e!==this._userLocationAnnotation;return delete e._impl.needsColliding,i&&(e.displayPriority<h.DisplayPriority.Required||e.clusteringIdentifier)&&(t=!0),i&&n&&!e.memberAnnotations}),this);if(t){var i=this._map;this._clustersController.collideAnnotations(n,i.zoomLevel,i.rotation,this._annotationsDidChangeSinceLastCollision)}this._annotationsDidChangeSinceLastCollision=!1},addCluster:function(e){try{var t="function"==typeof this._map.annotationForCluster?this._map._annotationForCluster.call(this._map.public,e):e;t=this._clustersController.setRequiredClusterAnnotationProperties(t,e),this.addItem(t)}catch(n){console.warn("[MapKit] annotationForCluster: the following error occurred; reverting to default annotation: "+n),t=this.addItem(e)}return t._impl.customCluster=t!==e,t._impl.updateLayout(!0),t},willUpdateCollisions:function(){this._items.forEach((function(e){e._impl.wasOccluded=e._impl.occluded,e._impl.previousCluster=e._impl.cluster}))},didUpdateCollisions:function(){this._items.forEach((function(e){var t=e._impl;t.wasCollided||t.occluded||(t.wasCollided=!0),e.memberAnnotations&&e.memberAnnotations[0]._impl.cluster!==e&&(t.cluster=t.memberAnnotations[0]._impl.cluster),t.updateVisibility(t.occluded),t.occluded!==t.wasOccluded&&t.animateOcclusion(),delete t.wasOccluded,delete t.previousCluster,t.shouldHideLabels&&(t.occluded||t.labelRegion?t.occluded&&t.labelRegion&&this._removeLabelRegionForAnnotation(e):this._updateLabelRegionForAnnotation(e))}),this),this._updateVisibleAnnotations(this._items,!0)},deselectClusterAnnotation:function(){this._selectedItem&&this._selectedItem.memberAnnotations&&(this._selectedItem.selected=!1)},_updateAnnotation:function(e){e._impl.updatedPosition()&&this._updateVisibleAnnotations([e])},_updateSceneGraph:function(){var e=this._selectedItem,t=this._draggedAnnotation;this._sceneGraphNode.children=this._items.filter((function(n){return n._impl.isDrawn()&&n!==e&&n!==t})).map((function(e){return e._impl.sceneGraphNode})),e&&e._impl.isDrawn()&&this._sceneGraphNode.addChild(e._impl.sceneGraphNode),t&&t._impl.isDrawn()&&this._sceneGraphNode.addChild(t._impl.sceneGraphNode)},_checkCompletion:function(){this._annotationsDidChangeSinceLastCollision=!0,this._updateVisibleAnnotations(this._items),this._completionCallback&&(this._items.some((function(e){return e._impl.floating}))||"function"!=typeof this._completionCallback||(this._completionCallback(),delete this._completionCallback))}});var L=y.debounce((function(e,t,n){n._geocoderRequestId&&e.cancel(n._geocoderRequestId);var i=n._geocoderRequestId=e.reverseLookup(t._impl.coordinate,(function(e,o){i===n._geocoderRequestId&&(delete n._geocoderRequestId,e?(console.error("[MapKit] Error getting address for user location: "+e.message),t.subtitle=null):o.results.length>0?n._lastUserLocationAnnotationSubtitle=t.subtitle=o.results[0].formattedAddress:t.subtitle=null)}))}),1e3);t.exports=i},{"../../../lib/geo":2,"../layer-items-controller":180,"../services/geocoder":213,"../style-helper":220,"../utils":225,"./annotation":127,"./annotation-dragging-map-panning-controller":123,"./annotation-internal":124,"./annotations-controller-node":128,"./callout":130,"./clusters-controller":133,"./marker-annotation-internal":142,"./user-location-annotation":156,"@maps/geometry/point":69,"@maps/geometry/rect":70,"@maps/js-utils":84,"@maps/render-tree":102,"@maps/scheduler":106}],130:[function(e,t,n){function i(e,t){function n(t){var n=e.backgroundColorForElement(t);return t.style.background="transparent",n}function i(e,t){var n=d.htmlElement("div",{class:I.CALLOUT_ACCESSORY_CONTENT},e);return n.style.maxWidth=x/2+"px",t&&(n.style.padding="0"),d.htmlElement("div",{class:I.CALLOUT_ACCESSORY},n)}a.call(this),this._styleHelper=e,this._rtl=t.rtl;var o=d.htmlElement("div",{class:I.CALLOUT});this._node=new u.Node(o),t.customElement?(this._containerElement=this._customElement=o.appendChild(t.customElement),this.setSize(this._styleHelper.sizeForElement(this._customElement))):(this._ignoreCalloutCornerRadiusForLeftAccessory=t.ignoreCalloutCornerRadiusForLeftAccessory,this._tailSide=t.tailSide||f.Bottom,this._tailScale=t.tailScale||1,this._bubbleElement=d.svgElement("path"),this._svgElement=o.appendChild(d.svgElement("svg",{class:I.CALLOUT_BUBBLE},this._bubbleElement)),this._containerElement=o.appendChild(d.htmlElement("div")),t.leftAccessory&&(this._leftAccessoryBackgroundColor=n(t.leftAccessory),this._leftAccessory=i(t.leftAccessory,!this._rtl&&this._ignoreCalloutCornerRadiusForLeftAccessory),this._containerElement.appendChild(this._leftAccessory)),this._containerContentElement=this._containerElement.appendChild(d.htmlElement("div",{class:I.CALLOUT_CONTENT})),t.rightAccessory&&(this._rightAccessoryBackgroundColor=n(t.rightAccessory),this._rightAccessory=i(t.rightAccessory,this._rtl&&this._ignoreCalloutCornerRadiusForLeftAccessory),this._containerElement.appendChild(this._rightAccessory)),(this._leftAccessoryBackgroundColor||this._rightAccessoryBackgroundColor)&&(this._calloutId=r(),this._linearGradientElement=d.svgElement("linearGradient",{id:this._calloutId}),this._svgElement.appendChild(d.svgElement("defs",this._linearGradientElement))),t.contentElement?this._setContentElement(t.contentElement):(d.classList.add(this._containerElement,I.STANDARD_CONTENT),d.classList.toggle(this._containerContentElement,I.RTL,t.rtl))),t.position&&this.setPosition(t.position),this._node.wantsHardwareCompositing=!0}function o(e,t){t||(t={});var n=t.tailShift||0,i=t.side||f.Bottom,o=t.scale||1,r=b*o,a=_*o,s=e.height/2-r,l=e.width/2-r,c=w*o,u=C*o;return"M"+(i===f.Left?a:0)+","+g+"c0,"+(y-g)+" "+v+","+-g+" "+g+","+-g+"h"+e.width+"c"+(g-v)+",0 "+g+","+y+" "+g+","+g+(i===f.Right?"v"+(s+n)+"c0,"+c+" "+a+","+u+" "+a+","+r+"c0,"+(r-u)+" "+-a+","+(r-c)+" "+-a+","+r+"v"+(s-n):"v"+e.height)+"c0,"+(g-y)+" "+-v+","+g+" "+-g+","+g+(i===f.Bottom?"h"+(-n-l)+"c"+-c+",0 "+-u+","+a+" "+-r+","+a+"c"+(u-r)+",0 "+(c-r)+","+-a+" "+-r+","+-a+"h"+(n-l):"h"+-e.width)+"c"+(v-g)+",0 "+-g+","+-y+" "+-g+","+-g+(i===f.Left?"v"+(n-s)+"c0,"+-c+" "+-a+","+-u+" "+-a+","+-r+"c0,"+(u-r)+" "+a+","+(c-r)+" "+a+","+-r+"v"+(-n-s):"z")}function r(){var e=Math.random().toString(36).substr(2);return document.getElementById(e)?r():e}var a=e("./annotation-layer-item-internal"),s=e("@maps/geometry/point"),l=e("@maps/geometry/rect"),c=e("@maps/geometry/size"),u=e("@maps/render-tree"),h=e("@maps/css-transform"),d=e("../utils"),p=e("@maps/js-utils"),m=e("@maps/scheduler"),f=a.CalloutTailSide,g=10.5,_=13,v=3.5826363,y=3.58028186,b=17,w=10,C=12,E=91-b,S=3,x=373,k=50+_,L=55+_,T=1+2*g,O={left:10,right:10,content:{left:4,right:4}},M={left:7.5,right:10},A={left:7.5,right:7.5},P=5.5,R=0,I={CALLOUT:"mk-callout",CALLOUT_BUBBLE:"mk-bubble",TITLE:"mk-title",SUBTITLE:"mk-subtitle",NO_SUBTITLE:"mk-no-subtitle",NO_ACESSORIES:"mk-no-accessories",STANDARD_CONTENT:"mk-standard",CALLOUT_ACCESSORY:"mk-callout-accessory",CALLOUT_CONTENT:"mk-callout-content",CUSTOM_CONTENT:"mk-custom-content",CALLOUT_ACCESSORY_CONTENT:"mk-callout-accessory-content",RTL:"mk-rtl"};i.prototype=p.inheritPrototype(a,i,{_tailShift:0,get node(){return this._node},get boundingRect(){var e=this._node.position;return new l(e.x,e.y,this._node.size.width,this._node.size.height)},willMoveToMap:function(){this._node.transform=(new h).scale(0)},setAnchorOffset:function(e){this._anchorOffset=e?new window.DOMPoint(e.x,e.y):new window.DOMPoint},containsElement:function(e){return e!==this._svgElement&&this._containerElement.contains(e)},isCustomCallout:function(){return!(!this._customElement&&!this._contentElement)},updateInfo:function(e,t){if(this._customElement||this._contentElement)return!0;if(!e||!e.title)return!1;this._containerContentElement.innerHTML="",this._containerElement.style.width="",this._containerContentElement.appendChild(d.htmlElement("div",{class:I.TITLE},e.title)),e.subtitle?(this._containerContentElement.appendChild(d.htmlElement("div",{class:I.SUBTITLE},e.subtitle)),d.classList.remove(this._containerElement,I.NO_SUBTITLE)):(d.classList.add(this._containerElement,I.NO_SUBTITLE),this._containerElement.classList.toggle(I.NO_ACESSORIES,!this._leftAccessory&&!this._rightAccessory)),this._updateAccessoryViews();var n=this._styleHelper.sizeForElement(this._containerElement),i=e.map._impl.ensureVisibleFrame().size.width-2*t-this._extraWidth(this._ignoreCalloutCornerRadiusForLeftAccessory);return n.width=p.clamp(n.width,E,p.clamp(i,E,x)),this._updateSize(n,{annotation:e}),this.updatePosition(),!0},shiftTailBy:function(e){if(this._customElement)return 0;var t=this._tailSide===f.Bottom?new c(this._node.size.width-T,this._node.size.height-this._extraHeight):new c(this._node.size.width-this._extraHeight,this._node.size.height-T),n=this._tailSide===f.Bottom?t.width:t.height,i=Math.max(0,(n-E-g)/2);return this._tailShift=e<0?Math.min(i,-e):-Math.min(i,e),this._bubbleElement.setAttribute("d",o(t,{side:this._tailSide,scale:this._tailScale,tailShift:this._tailShift})),this._node.position=this._tailSide===f.Bottom?new s(this._node.position.x+this._tailShift,this._node.position.y):new s(this._node.position.x,this._node.position.y-this._tailShift),this._tailShift},animateIn:function(){if(!this.animates||this.animates&&this._customElement&&!this.appearanceAnimation)this._node.transform=new h;else{if(this._appearanceAnimationName)return this._node.transform=new h,this._containerElement.style.animation=this._containerElement.style.webkitAnimation=this._appearanceAnimation,this._svgElement&&(this._svgElement.style.animation=this._svgElement.style.webkitAnimation=this._appearanceAnimation),this._animationName=this._appearanceAnimationName,this._containerElement.addEventListener("animationend",this),void this._containerElement.addEventListener("webkitAnimationEnd",this);this._scaleXOffset=this._tailSide===f.Bottom?-this._tailShift:this._tailSide===f.Left?-this._node.size.width/2:this._node.size.width/2,this._scaleYOffset=this._tailSide===f.Bottom?this._node.size.height/2:0,this._scaleAnimationParameterIndex=0,this._scaleAnimationStartDate=Date.now(),m.scheduleOnNextFrame(this)}},animateOut:function(){this.visible?(this._scaleAnimationStartDate&&this._finishAnimatingScale(),this._node.element.style.webkitAnimation=this._node.element.style.animation="mk-fadeout 0.1s forwards",this._node.element.style.webkitAnimationName||this._node.element.style.animationName?(this._animationName="mk-fadeout",this._node.element.addEventListener("animationend",this),this._node.element.addEventListener("webkitAnimationEnd",this)):this._node.remove()):this._node.remove()},handleEvent:function(e){"animationend"!==e.type&&"webkitAnimationEnd"!==e.type||e.animationName!==this._animationName||(this._animationName===this._appearanceAnimationName?(this._containerElement.style.animation=this._containerElement.style.webkitAnimation="",this._containerElement.removeEventListener("animationend",this),this._containerElement.removeEventListener("webkitAnimationEnd",this)):this._node.remove(),delete this._animationName)},performScheduledUpdate:function(){this._scaleAnimationStartDate&&this._animateScale()},_updateSize:function(e,t){var n=this._ignoreCalloutCornerRadiusForLeftAccessory,i=this._tailSide===f.Left||this._tailSide===f.Right?Math.min(function(e){return(e-S)/(2*b)}(e.height),this._tailScale):this._tailScale,r=(this._tailSide===f.Bottom?e.width-this.node.size.width:e.height-this.node.size.height)-T;this._tailShift=Math.max(0,this._tailShift+Math.min(0,r)),this._bubbleElement.setAttribute("d",o(e,{side:this._tailSide,scale:i,tailShift:this._tailShift})),this._containerElement.style.width=e.width+"px";var a=e.height;this._extraHeight=T+_*i;var s=this._extraWidth(n);e.width+=this._tailSide===f.Bottom?s:this._extraHeight;var l=n?L:k;e.height+=this._tailSide===f.Bottom?this._extraHeight:T,e.height-=g,e.height=t.hasCustomContent?e.height:Math.max(e.height,l);var c=t.hasCustomContent?R:P,u=(e.height-a-_)/2;this._containerElement.style.top=a/2+Math.max(c,u)+"px",this._svgElement.style.width=e.width+"px",this._svgElement.style.height=e.height+"px",this._svgElement.setAttribute("viewBox","-0.5 -0.5 "+e.width+" "+e.height);var h,d=A.left+(this._tailSide===f.Left?_*i:0),p=A.right+(this._tailSide===f.Right?_*i:0);this._containerElement.style.left=d+"px",this.setSize(e,this._tailSide),this._leftAccessoryBackgroundColor&&(h=100*(this._leftAccessoryWidth+d)/e.width,this._updateAccessoryViewBackground(h,this._leftAccessoryBackgroundColor,"white")),this._rightAccessoryBackgroundColor&&(h=100-100*(this._rightAccessoryWidth+p)/e.width,this._updateAccessoryViewBackground(h,"white",this._rightAccessoryBackgroundColor))},_extraWidth:function(e){return e?M.left+M.right:O.left+O.right-O.content.left},_updateAccessoryViews:function(){this._leftAccessory&&(this._leftAccessoryWidth=(!this._rtl&&this._ignoreCalloutCornerRadiusForLeftAccessory?0:g)+this._styleHelper.sizeForElement(this._leftAccessory.children[0]).width,this._leftAccessory.style.width=this._leftAccessoryWidth+"px",this._ignoreCalloutCornerRadiusForLeftAccessory&&!this._rtl&&(this._leftAccessory.style.height=this._leftAccessoryWidth+"px",this._leftAccessory.style.overflow="visible"),this._containerContentElement.style.marginLeft=this._leftAccessoryWidth+"px"),this._rightAccessory&&(this._rightAccessoryWidth=(this._rtl&&this._ignoreCalloutCornerRadiusForLeftAccessory?0:g)+this._styleHelper.sizeForElement(this._rightAccessory.children[0]).width,this._rightAccessory.style.width=this._rightAccessoryWidth+"px",this._ignoreCalloutCornerRadiusForLeftAccessory&&this._rtl&&(this._rightAccessory.style.height=this._rightAccessoryWidth+"px",this._rightAccessory.style.overflow="visible"),this._containerContentElement.style.marginRight=this._rightAccessoryWidth+"px")},_updateAccessoryViewBackground:function(e,t,n){this._linearGradientElement.appendChild(d.svgElement("stop",{offset:e+"%","stop-color":""+t})),this._linearGradientElement.appendChild(d.svgElement("stop",{offset:e+"%","stop-color":""+n})),this._bubbleElement.style.fill="url(#"+this._calloutId+")"},_setContentElement:function(e){this._updateAccessoryViews(),this._contentElement=e,this._containerContentElement.appendChild(d.htmlElement("div",e)),d.classList.add(this._containerElement,I.CUSTOM_CONTENT);var t=this._styleHelper.sizeForElement(this._containerElement);this._updateSize(t,{hasCustomContent:!0})},_scaleAnimationParameters:[[8e3/60,30/249,277/249],[5e3/60,277/249,237/249],[5e3/60,237/249,1]],_animateScale:function(){var e=this._scaleAnimationParameters[this._scaleAnimationParameterIndex],t=e[0],n=e[1],i=e[2],o=Date.now(),r=Math.min((o-this._scaleAnimationStartDate)/t,1),a=n+(i-n)*r;if(this._node.transform=(new h).translate(this._scaleXOffset,this._scaleYOffset).scale(a).translate(-this._scaleXOffset,-this._scaleYOffset),1===r){if(!(++this._scaleAnimationParameterIndex<this._scaleAnimationParameters.length))return void this._finishAnimatingScale();this._scaleAnimationStartDate=o}m.scheduleOnNextFrame(this)},_finishAnimatingScale:function(){delete this._scaleXOffset,delete this._scaleYOffset,delete this._scaleAnimationStartDate,delete this._scaleAnimationParameterIndex}}),t.exports=i},{"../utils":225,"./annotation-layer-item-internal":125,"@maps/css-transform":60,"@maps/geometry/point":69,"@maps/geometry/rect":70,"@maps/geometry/size":71,"@maps/js-utils":84,"@maps/render-tree":102,"@maps/scheduler":106}],131:[function(e,t,n){function i(e,t,n,i){this._memberAnnotations=n,r.call(this,e,t,i)}var o=e("./annotation-internal"),r=e("./marker-annotation-internal"),a=e("@maps/js-utils"),s=e("../localizer").l10n;i.prototype=a.inheritPrototype(r,i,{get memberAnnotations(){return this._memberAnnotations},get n(){return this._memberAnnotations.length},get title(){return this.hasOwnProperty("_title")?this._title:this._topAnnotation.title},set title(e){Object.getOwnPropertyDescriptor(o.prototype,"title").set.call(this,e)},get subtitle(){var e=this.n-1;return this.hasOwnProperty("_subtitle")?this._subtitle:s.get("Annotation.Clustering.More"+(e>1?".Plural":""),{n:s.digits(e)})},set subtitle(e){Object.getOwnPropertyDescriptor(o.prototype,"subtitle").set.call(this,e)},get glyphText(){return this.hasOwnProperty("_glyphText")?this._glyphText:this.hasOwnProperty("_glyphImage")||this.hasOwnProperty("_selectedGlyphImage")?"":s.digits(this.n)},set glyphText(e){Object.getOwnPropertyDescriptor(r.prototype,"glyphText").set.call(this,e)},get draggable(){return!1},get displayPriority(){return this._topAnnotation.displayPriority},get clusteringIdentifier(){return this._topAnnotation.clusteringIdentifier},get _topAnnotation(){return this._memberAnnotations[0]},get _showDefaultAltText(){return this.hasOwnProperty("_glyphText")||this.hasOwnProperty("_glyphImage")||this.hasOwnProperty("_selectedGlyphImage")},altText:function(){return this._showDefaultAltText?o.prototype.altText.call(this):this.title?s.get("Annotation.Clustering.AccessibilityLabel",{n:this.glyphText,title:this.title,subtitle:this.subtitle}):s.get("Annotation.Clustering.NoTitle.AccessibilityLabel",{n:this.glyphText,subtitle:this.subtitle})}}),t.exports=i},{"../localizer":182,"./annotation-internal":124,"./marker-annotation-internal":142,"@maps/js-utils":84}],132:[function(e,t,n){function i(e,t,n){Object.defineProperty(this,"_impl",{value:new r(this,e,t,n)})}var o=e("./marker-annotation"),r=e("./cluster-annotation-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get memberAnnotations(){return this._impl.memberAnnotations}}),t.exports=i},{"./cluster-annotation-internal":131,"./marker-annotation":146,"@maps/js-utils":84}],133:[function(e,t,n){function i(e){this._annotationsController=e,this._clusters=[],this._previousClusters=[],this._previousOverlaps=[],this._previousAnnotations=[],this._frameCounter=0}function o(e,t){var n=d.DisplayPriority.Required,i=e.selected?n:e.displayPriority;return(t.selected?n:t.displayPriority)-i||t._impl.boundingBox.y2-e._impl.boundingBox.y2}function r(e,t){return t.displayPriority-e.displayPriority||e._impl.index-t._impl.index}function a(e,t){return e._impl.boundingBox.x1-t._impl.boundingBox.x1}function s(e){var t=e._impl.node,n=t.size,i=n.width,o=n.height,r={x1:t.position.x,x2:t.position.x+i,y1:t.position.y,y2:t.position.y+o};return e.collisionMode===d.CollisionMode.Circle&&(r.cx=(r.x1+r.x2)/2,r.cy=(r.y1+r.y2)/2,r.r=Math.min(i,o)/2),r}function l(e,t){var n={x1:e.x1-t,x2:e.x2+t,y1:e.y1-t,y2:e.y2+t};return e.hasOwnProperty("r")&&(n.r=e.r+t,n.cx=e.cx,n.cy=e.cy),n}function c(e,t){var n=e.cx-f.clamp(e.cx,t.x1,t.x2),i=e.cy-f.clamp(e.cy,t.y1,t.y2);return n*n+i*i<=e.r*e.r}function u(e,t,n){var i=e._impl.boundingBox,o=t._impl.boundingBox;return n&&(i=l(i,_),o=l(o,_)),function(e,t){if(!(t.x2>=e.x1&&t.x1<=e.x2&&t.y2>=e.y1&&t.y1<=e.y2))return!1;if(e.hasOwnProperty("r")){if(t.hasOwnProperty("r")){var n=e.cx-t.cx,i=e.cy-t.cy,o=Math.sqrt(n*n+i*i);return e.r+t.r>=o}return c(e,t)}return!t.hasOwnProperty("r")||c(t,e)}(i,o)}function h(e,t){e._impl.occluded=t,e._impl.updateVisibility(t)}var d=e("./annotation"),p=e("./cluster-annotation"),m=e("../../../lib/geo").Coordinate,f=e("@maps/js-utils"),g=e("@maps/scheduler"),_=5;i.prototype={collideAnnotations:function(e,t,n,i){this._locked||(this._annotations=e,this._zoomLevel=t,this._rotation=n,this._changesSinceLastCollision=i,g.scheduleOnNextFrame(this))},setRequiredClusterAnnotationProperties:function(e,t){return e!==t&&(e||(e=t),e.coordinate=t.coordinate,e.draggable=!1,e.displayPriority=t.memberAnnotations[0].displayPriority,e.clusteringIdentifier=t.memberAnnotations[0].clusteringIdentifier,e.selected=!1,Object.defineProperty(e,"memberAnnotations",{enumerable:!0,get:function(){return this._impl.memberAnnotations}}),Object.defineProperty(e._impl,"memberAnnotations",{enumerable:!0,value:t.memberAnnotations})),e.animates=t.memberAnnotations.some((function(e){return!e._impl.wasCollided})),e},removedAnnotation:function(e){e.memberAnnotations||(this._previousClusters=this._previousClusters.filter((function(t){if(t.memberAnnotations.indexOf(e)<0)return!0;this._annotationsController.removeItem(t)}),this))},performScheduledUpdate:function(){if(this._frameCounter=(this._frameCounter+1)%10,1===this._frameCounter){var e=this._needsUpdate();if(e){this._changesSinceLastCollision=!1,this._previousZoomLevel=this._zoomLevel,this._previousRotation=this._rotation,this._previousAnnotations=this._annotations.slice(),this._locked=!0,this._annotationsController.willUpdateCollisions(),"region"===e&&this._annotationsController.deselectClusterAnnotation(),this._overlaps=[];for(var t=0,n=0,i=this._annotations.length;n<i;++n){var o=this._annotations[n];if(o._impl.needsLayout)return this._frameCounter=0,this._locked=!1,void g.scheduleOnNextFrame(this);o._impl.index=n,o._impl.occluded=!1,o._impl.previousCluster=o._impl.cluster,delete o._impl.cluster,o._impl.boundingBox=s(o),t=Math.max(t,o._impl.boundingBox.x2-o._impl.boundingBox.x1)}var r=this._annotations.sort(a),l={};r.forEach((function(e){if(!e.selected){var t=e.clusteringIdentifier;t&&(l[t]?l[t].push(e):l[t]=[e])}}));var c=this._clusters;for(var u in this._clusters=[],l)l[u].length>1&&(t=this._clusterAnnotationsWithMaxWidth(l[u],t));c.forEach((function(e){this._clusters.indexOf(e)<0&&(h(e,!0),e.selected&&(e.selected=!1))}),this),this._collideAnnotationsAndClusters(r,t),this._previousOverlaps=this._overlaps,this._annotationsController.didUpdateCollisions(),this._locked=!1}}else g.scheduleOnNextFrame(this)},_clusterAnnotationsWithMaxWidth:function(e,t){for(var n=0;n<e.length;){var i=e[n];if(i._impl.cluster)++n;else{var o=i._impl.boundingBox.x2,a=[i],l=n+1;if(i.memberAnnotations&&n>0){var c=i._impl.boundingBox.x1-t;for(l=n-1;l>0&&e[l]._impl.boundingBox.x1>=c;--l);}for(;l<e.length&&e[l]._impl.boundingBox.x1<=o;++l){var u=e[l];!u._impl.cluster&&l!==n&&this._annotationsOverlapExcludingSelected(i,u)&&a.push(u)}if(a.length>1){a=a.reduce((function(e,t){return t.memberAnnotations?(e=e.concat(t.memberAnnotations),t._impl.cluster=!0,h(t,!0)):e.push(t),e}),[]).sort(r);var d=this._clusterAnnotationForMemberAnnotations(a);for(d._impl.occluded=!1,d._impl.boundingBox=s(d),t=Math.max(t,d._impl.boundingBox.x2-d._impl.boundingBox.x1),delete d._impl.cluster,l=0;l<a.length;++l)a[l]._impl.occluded=!0,a[l]._impl.cluster=d;for(l=0;l<e.length&&e[l]._impl.boundingBox.x1<d._impl.boundingBox.x1;++l);e.splice(l,0,d),n=Math.min(n+1,l)}else++n}}return e.forEach((function(e){e.memberAnnotations&&!e._impl.cluster&&(this._clusters.push(e),e.map||this._annotationsController.addItem(e))}),this),t},_collideAnnotationsAndClusters:function(e,t){for(var n=!1,i=[],o=0,r=0,a=e.length,s=this._clusters.length;o<a||r<s;){var l=e[o],c=this._clusters[r];l?l._impl.cluster?++o:c&&c._impl.boundingBox.x1<l._impl.boundingBox.x1?(c._impl.isRequired()||(n=!0),i.push(c),++r):(l._impl.isRequired()||(n=!0),i.push(l),++o):(c._impl.isRequired()||(n=!0),i.push(c),++r)}n&&this._collideAnnotationsWithMaxWidth(i,t)},_collideAnnotationsWithMaxWidth:function(e,t){for(var n=[],i=0,r=e.length;i<r;++i)for(var a=e[i],s=a._impl.boundingBox.x2,l=i+1;l<r;++l){var c=e[l];if(c._impl.boundingBox.x1>s)break;a._impl.isRequired()&&c._impl.isRequired()||this._annotationsOverlap(a,c)&&n.push(o(a,c)<=0?[a,c]:[c,a])}n.sort((function(e,t){return o(e[0],t[0])})).forEach((function(e){e[0]._impl.occluded||(e[1]._impl.occluded=!0)}))},_annotationsOverlapExcludingSelected:function(e,t){return!e.selected&&!t.selected&&this._annotationsOverlap(e,t)},_annotationsOverlap:function(e,t){if(e._impl.isLifted()||t._impl.isLifted())return!1;var n=r(e,t)<=0?[e,t]:[t,e],i=u(e,t,this._previousOverlaps.find((function(e){return e[0]===n[0]&&e[1]===n[1]})));return i&&this._overlaps.push(n),i},_clusterAnnotationForMemberAnnotations:function(e){var t,n=function(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n],r=t.length;if(o.memberAnnotations.length===r){for(var a=0;a<r&&t[a]===o.memberAnnotations[a];++a);if(a===r)return n}}return-1}(this._previousClusters,e);if(n>=0)t=this._previousClusters[n];else{var i=function(e){var t=[0,0];e.forEach((function(e){t[0]+=e.coordinate.latitude,t[1]+=e.coordinate.longitude}));var n=e.length;return new m(t[0]/n,t[1]/n)}(e);t=this._annotationsController.addCluster(new p(i,e)),this._previousClusters.push(t)}return t},_needsUpdate:function(){if(this._zoomLevel!==this._previousZoomLevel||this._rotation!==this._previousRotation)return"region";if(this._changesSinceLastCollision)return"annotations";var e=this._annotations.length;if(this._previousAnnotations.length!==e)return"annotations";for(var t=0;t<e;++t)if(this._annotations[t]!==this._previousAnnotations[t])return"annotations";return""}},t.exports=i},{"../../../lib/geo":2,"./annotation":127,"./cluster-annotation":132,"@maps/js-utils":84,"@maps/scheduler":106}],134:[function(e,t,n){function i(e,t,n){if(this._sceneGraphNode=new r(this),o.call(this,e,t,o.div,n),!n||!("url"in n))throw new Error("[MapKit] No URL for image of ImageAnnotation");this._waitingForImage=!this._userSetSize,this.url=n.url}var o=e("./annotation-internal"),r=e("./image-annotation-node"),a=e("./pin-annotation-internal"),s=e("../urls"),l=e("../utils"),c=e("@maps/js-utils"),u=e("@maps/geometry/size"),h=e("@maps/geometry/point"),d=e("@maps/css-matrix"),p=Math.min(l.devicePixelRatio,3),m=s.createImageUrl("pins/pin-red")+(p>1?"_"+p+"x":"")+".png",f=new u(32,39);i.prototype=c.inheritPrototype(o,i,{get url(){return this._url},set url(e){if(this._ratio=i.bestRatio(e),!this._ratio)throw new Error("[MapKit] No URL for image of ImageAnnotation");this._url=e;var t=this._sceneGraphNode.image=l.htmlElement("img",{src:this._url[this._ratio]});t.complete?this.updateSize():(this._userSetSize||(this._waitingForImage=!0),t.addEventListener("load",this),t.addEventListener("error",this))},handleEvent:function(e){switch(e.type){case"load":this._handleImageLoaded();break;case"error":this._handleImageError();break;default:return void o.prototype.handleEvent.call(this,e)}this._sceneGraphNode.image.removeEventListener("load",this),this._sceneGraphNode.image.removeEventListener("error",this)},resetNodeTransform:function(){this.sceneGraphNode.transform=new d},updateLocalizedText:function(){this._element.setAttribute("aria-label",this.altText())},updateSize:function(){if(delete this._waitingForImage,!this._useFallbackImage){var e;if(this._userSetSize)e=this._node.size;else{var t=this._sceneGraphNode.image;e=new u(t.naturalWidth/this._ratio,t.naturalHeight/this._ratio),this.setSize(e)}this._useFallbackImage||this._setElementSize(e),o.prototype.updateSize.call(this)}},isAKnownOption:function(e){return"url"===e||o.prototype.isAKnownOption.call(this,e)},willMoveToMap:function(){this._isMoving=this.doesAnimate()},canShowCallout:function(){return!this._waitingForImage&&o.prototype.canShowCallout.call(this)},_handleImageLoaded:function(){this._useFallbackImage&&(delete this.updatePosition,delete this._useFallbackImage,delete this.positionForCallout),this.updateSize()},_handleImageError:function(){console.error("[MapKit] Could not load image for ImageAnnotation at URL "+this._sceneGraphNode.image.src),this._useFallbackImage=!0,this.updatePosition=function(){this._node.position=new h(this._position.x-a.prototype._anchorPoint.x,this._position.y-a.prototype._anchorPoint.y)},this.updatePosition(),this.positionForCallout=function(){return new h(this._node.position.x-a.prototype._calloutAnchorPoint.x,this._node.position.y-a.prototype._calloutAnchorPoint.y)},this._sceneGraphNode.image=l.htmlElement("img",{src:m}),this._setElementSize(f)},_setElementSize:function(e){this._element.style.width=e.width+"px",this._element.style.height=e.height+"px",this._sceneGraphNode.size=e}}),i.bestRatio=function(e){if(e&&"object"==typeof e){for(var t,n=Object.keys(e).filter((function(t){return!!e[t]})).map(parseFloat).filter((function(e){return!isNaN(e)})).sort(),i=l.devicePixelRatio,o=n.length-1;o>=0&&((!t||n[o]>=i)&&(t=n[o]),!(n[o]<=i));--o);return t}},t.exports=i},{"../urls":222,"../utils":225,"./annotation-internal":124,"./image-annotation-node":135,"./pin-annotation-internal":148,"@maps/css-matrix":58,"@maps/geometry/point":69,"@maps/geometry/size":71,"@maps/js-utils":84}],135:[function(e,t,n){function i(e){o.ImageNode.call(this),this._annotation=e}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o.ImageNode,i,{get position(){return this._annotation.node.position}}),t.exports=i},{"../../../lib/scene-graph":47,"@maps/js-utils":84}],136:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new r(this,e,t)})}var o=e("./annotation"),r=e("./image-annotation-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get url(){return this._impl._url},set url(e){this._impl.url=e}}),t.exports=i},{"./annotation":127,"./image-annotation-internal":134,"@maps/js-utils":84}],137:[function(e,t,n){function i(e,t){o.BaseNode.call(this),this._renderer=new a(this),this.annotation=e,t&&(this._state=t)}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils"),a=e("./marker-annotation-balloon-renderer");i.prototype=r.inheritPrototype(o.BaseNode,i,{stringInfo:function(){var e=this._renderer,t=this.hasOwnProperty("_state")?"<"+this.state+">":"",n=e.hasOwnProperty("glyphFontSize")?' "'+this.annotation.glyphText+'"@'+e.glyphFontSize:"",i=e.glyphImageSrc?" \ud83d\uddbc "+e.glyphImageSrc:"";return"MarkerAnnotationBalloonNode"+t+"<color: "+this.annotation.color+">"+n+i},get state(){return this.hasOwnProperty("_state")?this._state:this.parent.state},get params(){return this.parent.params[this.state]},glyphImageError:function(e){"selected"===e&&this.selectedGlyphImage?delete this.selectedGlyphImage:delete this.glyphImage,this.needsDisplay=!0}}),t.exports=i},{"../../../lib/scene-graph":47,"./marker-annotation-balloon-renderer":138,"@maps/js-utils":84}],138:[function(e,t,n){function i(e){l.RenderItem.call(this,e)}function o(e,t,n,i){null==i&&(i=t.glyphText),e.save(),e.textAlign="center",e.textBaseline="bottom",e.fillStyle=t.glyphColor;var o,r=n.glyphFontSize;do{e.font=r--+"px "+s.MarkerAnnotationFontFamily,o=e.measureText(i).width}while(o>n.glyphImageSize&&r>0);var a=r+n.balloonRadius-r/2+1;return e.fillText(i,n.balloonRadius,a,n.glyphImageSize),e.restore(),r+1}function r(e,t,n,i){var r,s=i.glyphImageSize,l=p.roundToDevicePixel((t.size.width-s)/2),c=!1;if(!(r="default"===n||"lifted"===n?t.glyphImage:t.selectedGlyphImage||t.glyphImage)){if(y)return o(e,t.annotation,i,"?"),null;r=a[t.bubble?"bubble":n],c=!0}try{return e.drawImage(function(e,t,n){e._tinted||(e._tinted={}),e._tinted[t]||(e._tinted[t]=[]);var i=n*p();if(!e._tinted[t][i]){var o=document.createElement("canvas");o.width=i,o.height=i;var r=o.getContext("2d");r.fillStyle=t,r.fillRect(0,0,i,i),r.globalCompositeOperation="destination-in",r.drawImage(e,0,0,i,i),e._tinted[t][i]=o}return e._tinted[t][i]}(r,t.annotation.glyphColor,s),l,l,s,s),c?null:r.src}catch(e){t.glyphImageError()}}var a,s=e("../constants"),l=e("../../../lib/scene-graph"),c=e("@maps/js-utils"),u=e("@maps/loaders"),h=e("../utils"),d=e("../urls"),p=e("@maps/device-pixel-ratio"),m=Math.min(h.devicePixelRatio,3),f=d.createImageUrl("pins/marker"),g=(m>1?"_"+m+"x":"")+".png",_=["default","selected","bubble"],v=[],y=!1;i.prototype=c.inheritPrototype(l.RenderItem,i,{draw:function(e){if(a){var t=this._node,n=t.state,i=t.annotation,s=t.params;delete this.glyphImageSrc,delete this.renderType,e.save(),e.fillStyle=i.color,t.bubble||(e.shadowOffsetY=s.shadowOffsetY,e.shadowBlur=s.shadowBlur,e.shadowColor=s.shadowColor),e.beginPath(),"callout"===n?e.arc(s.radius,s.radius,s.radius,0,2*Math.PI):t.bubble?e.arc(s.balloonRadius,s.balloonRadius,s.balloonRadius,0,2*Math.PI):function(e,t,n){var i=n/6,o=n/3,r=2*t,a=.448*t,s=.385*t;e.moveTo(r,t),e.bezierCurveTo(r,1.5*t,r-s,r-n/3,t+n/2+o,r),e.bezierCurveTo(t+n/3,r+n/3,t+i,r+n,t,r+n),e.bezierCurveTo(t-i,r+n,t-n/3,r+n/3,t-(n/2+o),r),e.bezierCurveTo(s,r-n/3,0,1.5*t,0,t),e.bezierCurveTo(0,a,a,0,t,0),e.bezierCurveTo(r-a,0,r,a,r,t),e.closePath()}(e,s.balloonRadius,s.tailLength),e.fill(),e.restore(),"callout"!==n&&(delete this.glyphFontSize,delete this.glyphImageSrc,i.glyphText?(this.glyphFontSize=o(e,i,s),this.renderType="glyphText"):(this.glyphImageSrc=r(e,t,n,s),this.renderType=this.glyphImageSrc?"glyphImage":"default"))}else v.indexOf(this._node)<0&&v.push(this._node)}}),function(){function e(){0===--i&&((a=n).lifted=a.default,v.forEach((function(e){e.needsDisplay=!0})))}function t(t){new u.ImageLoader(u.Priority.Highest,{urlForImageLoader:f+(t?"-":"")+t+g,loaderDidSucceed:function(i){n[t]=i.image,e()},loaderDidFail:function(t){console.warn("[MapKit] Error loading marker annotation image "+t.url+"; marker annotations may not display correctly."),y=!0,e()}}).schedule()}var n={},i=_.length;_.forEach((function(e){n[e]={},t(e)}))}(),t.exports=i},{"../../../lib/scene-graph":47,"../constants":161,"../urls":222,"../utils":225,"@maps/device-pixel-ratio":61,"@maps/js-utils":84,"@maps/loaders":85}],139:[function(e,t,n){function i(e,t){this._renderer=new r(this),this.frozen=!0,this.annotation=e,this.state="default",this.params=t,this.bubble=!0;var n=2*t.balloonRadius;this.size=new o.Size(n,n),this.layerBounds=new o.Rect(0,0,this.size.width,this.size.height)}var o=e("@maps/geometry"),r=e("./marker-annotation-balloon-renderer");i.prototype.glyphImageError=function(e){delete this.glyphImage},t.exports=i},{"./marker-annotation-balloon-renderer":138,"@maps/geometry":68}],140:[function(e,t,n){function i(e,t){o.BaseNode.call(this),this.annotation=e,this.radius=t,this._renderer=new a(this)}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils"),a=e("./marker-annotation-dot-renderer");i.prototype=r.inheritPrototype(o.BaseNode,i,{stringInfo:function(){return"MarkerAnnotationDotNode<color: "+this.annotation.color+">"}}),t.exports=i},{"../../../lib/scene-graph":47,"./marker-annotation-dot-renderer":141,"@maps/js-utils":84}],141:[function(e,t,n){function i(e){o.RenderItem.call(this,e)}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o.RenderItem,i,{draw:function(e){var t=this._node,n=t.size.width,i=t.size.height;e.save(),e.fillStyle=t.annotation.color,e.beginPath(),e.arc(n/2,i/2,t.radius,0,2*Math.PI),e.fill(),e.restore()}}),t.exports=i},{"../../../lib/scene-graph":47,"@maps/js-utils":84}],142:[function(e,t,n){function i(e,t,n){this._sceneGraphNode=new a(this),o.call(this,e,t,o.div,n),this._public=e,n&&m.forEach((function(e){e in n&&(this[e]=n[e])}),this),this._sceneGraphNode.updateState()}var o=e("./annotation-internal"),r=e("./image-annotation-internal"),a=e("./marker-annotation-node"),s=e("./marker-annotation-callout-bubble-node"),l=e("@maps/css-matrix"),c=e("@maps/js-utils"),u=e("@maps/loaders"),h=e("../localizer").l10n,d=e("@maps/geometry/point"),p=e("@maps/device-pixel-ratio"),m=["color","glyphColor","glyphImage","selectedGlyphImage","glyphText","titleVisibility","subtitleVisibility"];i.prototype=c.inheritPrototype(o,i,{_animates:!0,_calloutAnchorPoint:new window.DOMPoint(-a.prototype.params.callout.radius,1),_color:"#ff5b40",_glyphColor:"white",_glyphImage:null,_selectedGlyphImage:null,_glyphText:"",_titleVisibility:a.FeatureVisibility.Adaptive,_subtitleVisibility:a.FeatureVisibility.Adaptive,shouldHideLabels:!0,darkColorScheme:!1,get size(){return this._sceneGraphNode.size.copy()},set size(e){console.warn("[MapKit] The `size` property of a pin annotation cannot be set.")},get color(){return this._color},set color(e){c.checkType(e,"string","[MapKit] Expected a string value for MarkerAnnotation.color, but got `"+e+"` instead"),e!==this._color&&(this._color=e,this._sceneGraphNode.needsDisplay=!0,this._drawCalloutAccessory())},get glyphColor(){return this._glyphColor},set glyphColor(e){c.checkType(e,"string","[MapKit] Expected a string value for MarkerAnnotation.glyphColor, but got `"+e+"` instead"),e!==this._glyphColor&&(this._glyphColor=e,this._sceneGraphNode.needsDisplay=!0,this._drawCalloutAccessory())},get glyphImage(){return this._glyphImage},set glyphImage(e){this._setGlyphImage("_glyphImage","updateGlyphImage",e)},get selectedGlyphImage(){return this._selectedGlyphImage},set selectedGlyphImage(e){this._setGlyphImage("_selectedGlyphImage","updateSelectedGlyphImage",e)},updateGlyphImages:function(){this._setGlyphImage("_glyphImage","updateGlyphImage",this._glyphImage),this._setGlyphImage("_selectedGlyphImage","updateSelectedGlyphImage",this._selectedGlyphImage)},get glyphText(){return this._glyphText},set glyphText(e){c.checkType(e,"string","[MapKit] Expected a string value for MarkerAnnotation.glyphText, but got `"+e+"` instead"),e!==this._glyphText&&(this._glyphText=e,this.updateLocalizedText(),this._sceneGraphNode.needsDisplay=!0,this._drawCalloutAccessory())},get titleVisibility(){return this._titleVisibility},set titleVisibility(e){if(!c.checkValueIsInEnum(e,a.FeatureVisibility))throw new Error("[MapKit] Expected one of Hidden, Visible or Adaptive for MarkerAnnotation.titleVisibility");e!==this._titleVisibility&&(this._titleVisibility=e,this._sceneGraphNode.needsLayout=!0)},get subtitleVisibility(){return this._subtitleVisibility},set subtitleVisibility(e){if(!c.checkValueIsInEnum(e,a.FeatureVisibility))throw new Error("[MapKit] Expected one of Hidden, Visible or Adaptive for MarkerAnnotation.subtitleVisibility");e!==this._subtitleVisibility&&(this._subtitleVisibility=e,this._sceneGraphNode.needsLayout=!0)},labelsCanBeShown:function(){return this.delegate&&this.delegate.supportsLabelRegions()},titleCanBeShown:function(){return this.title&&this._titleVisibility!==a.FeatureVisibility.Hidden},subtitleCanBeShown:function(e){return this.subtitle&&(this._subtitleVisibility===a.FeatureVisibility.Visible||this._subtitleVisibility===a.FeatureVisibility.Adaptive&&(this._public.memberAnnotations||this.selected&&e))},updateLayout:function(e){e?this._sceneGraphNode.updateLayout():this._sceneGraphNode.needsLayout=!0},updatedLayout:function(){this._updatedProperty("")},updatePosition:function(){this._node.position=new d(p.roundToDevicePixel(this._position.x-this._anchorPoint.x-this._anchorOffset.x),this._position.y-this._anchorPoint.y-this._anchorOffset.y)},setDelegate:function(e){o.prototype.setDelegate.call(this,e),this.labelsCanBeShown()&&this._updatedProperty("title")},doesAnimate:function(){return this._animates},willMoveToMap:function(e){this._isMoving=e&&this.animates},didMoveToMap:function(){var e=this._isMoving;o.prototype.didMoveToMap.call(this),this.delegate&&e&&this.visible&&!this._appearanceAnimation&&this._shown&&(this._isAnimating=!0,this._sceneGraphNode.animateAppearance((function(e){e.node.annotation.finishedAnimating()})))},lift:function(e){this._sceneGraphNode.updateState("lifted"),o.prototype.lift.call(this,e)},droppedAfterLift:function(){this._sceneGraphNode.updateState(),o.prototype.droppedAfterLift.call(this)},canShowCallout:function(){return(!!this.callout||this.delegate&&!this.delegate.supportsLabelRegions())&&o.prototype.canShowCallout.call(this)},calloutWillAppear:function(){this._sceneGraphNode.updateState("callout")},calloutWillDisappear:function(){delete this._calloutAccessoryNode,this._sceneGraphNode.updateState()},canvasForCalloutAccessory:function(){if(!this.callout||!(this.callout.calloutElementForAnnotation||this.callout.calloutContentForAnnotation||this.callout.calloutLeftAccessoryForAnnotation||this.callout.calloutRightAccessoryForAnnotation))return this._calloutAccessoryNode||(this._calloutAccessoryNode=new s(this,a.prototype.params.bubble),this._calloutAccessoryNode.glyphImage=this._sceneGraphNode._balloon.glyphImage,this._calloutAccessoryNode.glyphText=this._glyphText,this._drawCalloutAccessory()),this._calloutAccessoryNode._renderer.layer;delete this._calloutAccessoryNode},get ignoreCalloutCornerRadiusForLeftAccessory(){return!0},altText:function(){return o.prototype.altText.call(this)||h.get("Annotation.Marker.AccessibilityLabel")},isAKnownOption:function(e){return m.indexOf(e)>=0||o.prototype.isAKnownOption.call(this,e)},resetNodeTransform:function(){this.sceneGraphNode.transform=new l},_setGlyphImage:function(e,t,n){null!=n&&c.checkType(n,"object","[MapKit] Expected a hash value for MarkerAnnotation."+e.replace(/^_/,"")+", but got `"+n+"` instead"),this[e]=n;var i=e+"Element";if(!n)return delete this[i],void this._sceneGraphNode[t](null);var o=r.bestRatio(n);o?function(e,t,n,i){new u.ImageLoader(u.Priority.Highest,{urlForImageLoader:t,loaderDidSucceed:function(t){e[n]=t.image,e._sceneGraphNode[i](t.image)},loaderDidFail:function(){delete e[n],e._sceneGraphNode[i]()}}).schedule()}(this,n[o],i,t):(delete this[i],this._sceneGraphNode.glyphImageError())},_updatedProperty:function(e){"selected"===e?this._sceneGraphNode.updateState():"title"!==e&&"subtitle"!==e||(this._sceneGraphNode.needsLayout=!0),o.prototype._updatedProperty.call(this,e)},_drawCalloutAccessory:function(){if(this._calloutAccessoryNode){var e=this._calloutAccessoryNode._renderer.layer;e.style.width=e.style.height=this._calloutAccessoryNode.size.width+"px",this._calloutAccessoryNode._renderer.draw(e.getContext("2d"))}}}),t.exports=i},{"../localizer":182,"./annotation-internal":124,"./image-annotation-internal":134,"./marker-annotation-callout-bubble-node":139,"./marker-annotation-node":145,"@maps/css-matrix":58,"@maps/device-pixel-ratio":61,"@maps/geometry/point":69,"@maps/js-utils":84,"@maps/loaders":85}],143:[function(e,t,n){function i(e,t){o.BaseNode.call(this),this.text=e,this.kind=t,this._renderer=new a(this)}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils"),a=e("./marker-annotation-label-renderer");i.prototype=r.inheritPrototype(o.BaseNode,i,{stringInfo:function(){return"MarkerAnnotationLabelNode<"+this.kind+(this.parent.annotation.darkColorScheme?", dark":"")+'> "'+this.text+'"'},get lineHeight(){return this._renderer.params[this.kind].lineHeight}}),i.Font={title:a.prototype.params.title.font,subtitle:a.prototype.params.subtitle.font},t.exports=i},{"../../../lib/scene-graph":47,"./marker-annotation-label-renderer":144,"@maps/js-utils":84}],144:[function(e,t,n){function i(e){r.RenderItem.call(this,e)}var o=e("../constants"),r=e("../../../lib/scene-graph"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(r.RenderItem,i,{params:{haloColor:{light:"rgba(255, 255, 255, .8)",dark:"black"},haloSize:2,miterLimit:2,textAlign:"center",title:{font:"600 11px "+o.MarkerAnnotationFontFamily,lineHeight:12,color:{light:"#2b2b2b",dark:"white"},yPadding:1},subtitle:{font:"500 10px "+o.MarkerAnnotationFontFamily,lineHeight:12,color:{light:"#4c4c4c",dark:"white"},yPadding:0}},draw:function(e){var t=this._node,n=t.parent.annotation.darkColorScheme?"dark":"light",i=this.params[t.kind];e.font=i.font,e.textAlign=this.params.textAlign,e.fillStyle=i.color[n],e.strokeStyle=this.params.haloColor[n],e.lineWidth=this.params.haloSize,e.miterLimit=this.params.miterLimit;var o=t.size.width/2,r=t.size.height+i.yPadding;e.strokeText(t.text,o,r),e.fillText(t.text,o,r)}}),t.exports=i},{"../../../lib/scene-graph":47,"../constants":161,"@maps/js-utils":84}],145:[function(e,t,n){function i(e){c.GroupNode.call(this),this.annotation=e,this._balloon=this.addChild(new w(e))}function o(e,t,n){S.font=t;for(var i=e.trim().split(/\s+/),o=[];i.length>0;){for(var r=[i.shift()],a=S.measureText(r.join(" ")).width,s=0;i.length>0&&a<n;)r.push(i.shift()),s=a,a=S.measureText(r.join(" ")).width;a>n&&r.length>1&&(i.unshift(r.pop()),a=s),o.push([r.join(" "),a])}return o}function r(e,t){var n=Object.create(e);for(var i in t)n[i]=t[i];return n}function a(e,t){new c.NodeAnimator.Opacity({node:e,duration:t.transitionDuration}).begin()}function s(e,t,n){e.fadingOut=!0,new c.NodeAnimator.Opacity({node:e,duration:t.transitionDuration,from:1,to:0,done:function(){delete e.fadingOut,e.remove()}}).begin()}function l(e,t,n,i,o,r){new c.NodeAnimator.Scale({node:e,duration:t.transitionDuration,from:n,to:i,center:new d(e.size.width/2,e.size.height),done:r,mass:o,stiffness:t.springStiffness,damping:t.springDamping,initialVelocity:t.initialSpringVelocity}).begin()}var c=e("../../../lib/scene-graph"),u=e("@maps/js-utils"),h=e("@maps/scheduler"),d=e("@maps/geometry/point"),p=e("@maps/device-pixel-ratio"),m=e("@maps/geometry/size"),f=e("@maps/css-matrix"),g=e("../constants").FeatureVisibility,_={labelWidth:64,shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.15)",shadowOffsetY:1.5,transitionDuration:300,dotAnimationDuration:100,dotScale:1.5,springMass:1,springStiffness:100,springDamping:10,initialSpringVelocity:0},v=r(_,{balloonRadius:13.5,dotRadius:0,glyphFontSize:15,glyphImageSize:20,offset:0,tailLength:5}),y=r(_,{balloonRadius:30,dotRadius:3,glyphFontSize:32,glyphImageSize:40,offset:8,tailLength:6}),b=r(_,{balloonRadius:20,dotRadius:3,glyphFontSize:28,glyphImageSize:30,offset:0,tailLength:0}),w=e("./marker-annotation-balloon-node"),C=e("./marker-annotation-dot-node"),E=e("./marker-annotation-label-node");i.prototype=u.inheritPrototype(c.BaseNode,i,{params:{default:v,lifted:v,selected:y,bubble:b,callout:r(_,{radius:4.5,shadowOffsetY:0,shadowBlur:0,shadowColor:"transparent"})},get position(){return this.annotation?this.annotation.node.position:new d},stringInfo:function(){return"MarkerAnnotationNode"+("default"!==this.state?"<"+this.state+">":"")},set needsLayout(e){e&&!this._needsLayout&&h.scheduleASAP(this),this._needsLayout=e},get needsLayout(){return this._needsLayout},balloonNodeSize:function(e){e||(e=this.state);var t=this.params[e];if("callout"===e)return new m(2*t.radius,2*t.radius);var n=2*t.balloonRadius;return new m(n,n+t.tailLength+t.offset)},updateState:function(e){var t=this.annotation;e=e||(t.selected&&!t.callout?"selected":"default"),this.state!==e&&((t.selected||"selected"===this.state||"callout"===this.state)&&(this._animateFromState=this._animateFromState||this.state),this.state=e,t._node.size=this._size=this._balloon.size=this.balloonNodeSize(),this.needsLayout=!0)},performScheduledUpdate:function(){this.updateLayout(!1)},updateLayout:function(e){this._needsLayout&&(this._layoutSubNodes(e),this._needsLayout=!1)},updateGlyphImage:function(e){this._balloon.glyphImage=e,this._balloon.needsDisplay=!0},updateSelectedGlyphImage:function(e){this._balloon.selectedGlyphImage=e,this._balloon.needsDisplay=!0},glyphImageError:function(){this._balloon.glyphImageError(this.state)},animateAppearance:function(e){var t=this.params[this.state];this.children.forEach((function(e){a(e,t)})),l(this._balloon,t,1e-12,1,t.springMass,e)},_layoutSubNodes:function(e){function t(e,t){i.forEach((function(t){t.kind===e&&(this.addChild(t),s(t,g,this.annotation))}),this),delete this[t]}function n(e,t){var n=E.Font[e],i=g.labelWidth,r=u[e],s=!(!this.parent||r===t||r&&t);return o(r,n,i).forEach((function(t){var n=new E(t[0],e);n.size=new m(t[1],n.lineHeight),c=Math.max(c,t[1]),S=n.lineHeight/2,this.addChild(n),s&&a(n,g)}),this),r}if(this.annotation){var i=this.children.slice();this.children=[this._balloon],this._dot&&this.addChild(this._dot);var c=this._balloon.size.width,u=this.annotation,h=this.state,g=this.params[this.state],_="callout"!==h&&"lifted"!==h&&!("default"===h&&u.selected)&&u.labelsCanBeShown(),v=_&&u.titleCanBeShown();v?this._prevTitle=n.call(this,"title",this._prevTitle):t.call(this,"title","_prevTitle"),_&&u.subtitleCanBeShown(v)?this._prevSubtitle=n.call(this,"subtitle",this._prevSubtitle):t.call(this,"subtitle","_prevSubtitle");var y=this._balloon.size.height,b=y,S=0;this.children.forEach((function(e){e.position=new d((c-e.size.width)/2,e.lineHeight?b:0),e.lineHeight&&(b+=e.lineHeight,e.fadingOut||(y+=e.lineHeight,S=e.lineHeight/2))})),u._anchorPoint=new d(c/2,this._balloon.size.height),u._node.size=this.size=new m(c,y+S),u.updatePosition();var x=u._position.x-u._anchorPoint.x-u._anchorOffset.x,k=this.position.x;if(this.children.forEach((function(e){e.position=new d(p.roundToDevicePixel(x+e.position.x)-k,e.position.y)})),"selected"===h?(this._dot||(this._dot=this.addChild(new C(this.annotation,g.dotRadius*g.dotScale))),this._dot.size=new m(2*g.dotRadius*g.dotScale,2*g.dotRadius*g.dotScale),this._dot.position=new d(this._balloon.position.x+g.balloonRadius-g.dotRadius,this._balloon.size.height-2*g.dotRadius),this._dot.transform=(new f).scale(1/g.dotScale),this._dot.wantsLayerBacking=!0):this._dot&&(this._dot.remove(),delete this._dot),this.hasOwnProperty("_animateFromState")){if("callout"===h||"callout"===this._animateFromState){var L=r(g);L.transitionDuration/=2;var T=this.addChild(new w(this.annotation,this._animateFromState));T.glyphImage=this._balloon.glyphImage,T.selectedGlyphImage=this._balloon.selectedGlyphImage,T.size=this.balloonNodeSize(T.state),T.position=new d((this.size.width-T.size.width)/2,this._balloon.size.height-T.size.height),this._balloon.transform=(new f).scale(1e-12),l(T,L,1,1e-12,0,function(){T.remove(),l(this._balloon,g,1e-12,1,g.springMass)}.bind(this))}else{var O=this.balloonNodeSize(this._animateFromState).height/this.balloonNodeSize().height;1!==O&&l(this._balloon,g,O,1,g.springMass);var M=this._dot;M&&a(M,{transitionDuration:g.dotAnimationDuration})}delete this._animateFromState}e||u.updatedLayout()}}}),i.FeatureVisibility=g;var S=document.createElement("canvas").getContext("2d");t.exports=i},{"../../../lib/scene-graph":47,"../constants":161,"./marker-annotation-balloon-node":137,"./marker-annotation-dot-node":140,"./marker-annotation-label-node":143,"@maps/css-matrix":58,"@maps/device-pixel-ratio":61,"@maps/geometry/point":69,"@maps/geometry/size":71,"@maps/js-utils":84,"@maps/scheduler":106}],146:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new r(this,e,t)})}var o=e("./annotation"),r=e("./marker-annotation-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get size(){return this._impl.size},set size(e){this._impl.size=e},get color(){return this._impl.color},set color(e){this._impl.color=e},get glyphColor(){return this._impl.glyphColor},set glyphColor(e){this._impl.glyphColor=e},get glyphImage(){return this._impl.glyphImage},set glyphImage(e){this._impl.glyphImage=e},get selectedGlyphImage(){return this._impl.selectedGlyphImage},set selectedGlyphImage(e){this._impl.selectedGlyphImage=e},get glyphText(){return this._impl.glyphText},set glyphText(e){this._impl.glyphText=e},get titleVisibility(){return this._impl.titleVisibility},set titleVisibility(e){this._impl.titleVisibility=e},get subtitleVisibility(){return this._impl.subtitleVisibility},set subtitleVisibility(e){this._impl.subtitleVisibility=e}}),t.exports=i},{"./annotation":127,"./marker-annotation-internal":142,"@maps/js-utils":84}],147:[function(e,t,n){function i(e){o.call(this,e)}var o=e("./annotation-drag-controller"),r=e("@maps/css-matrix"),a=e("@maps/scheduler"),s=e("@maps/js-utils"),l=[1,2,3,2,1],c=Math.tan(.820304748437335);i.prototype=s.inheritPrototype(o,i,{get isBouncing(){return this._bounceAnimationFrameIndex>=0},animateDropAfterLift:function(){var e=Math.max(this._dropAnimationStartP-Math.min((Date.now()-this._dropAfterLiftAnimationStartDate)/this.liftDurationMs,1),0),t=this.liftAmount*e;this._annotation.sceneGraphNode.transform=(new r).translate(0,-t),this._dropAnimationRevert||(t*=1.25),this._annotation.sceneGraphNode.shadowTransform=(new r).translate(c*t,-t),0===e&&(delete this._annotation.floating,this._annotation.sceneGraphNode.updateState(),delete this._dropAfterLiftAnimationStartDate,delete this._dropAnimationStartP,delete this._dropAnimationRevert,this._dequeueNextAnimation()),a.scheduleOnNextFrame(this)},animateLift:function(){var e=Math.min((Date.now()-this._liftAnimationStartDate)/this.liftDurationMs,1),t=this.liftAmount*e;this._annotation.sceneGraphNode.transform=(new r).translate(this.translation.x,this.translation.y-t),this._shadowLiftDamping&&(t=this.liftAmount*(1+.25*e)),this._annotation.sceneGraphNode.shadowTransform=(new r).translate(c*t,-t),e<1?(a.scheduleOnNextFrame(this),this._liftAnimationProgress=e):(delete this._liftAnimationStartDate,delete this._liftAnimationProgress,delete this._shadowLiftDamping,this._dequeueNextAnimation())},drop:function(){var e=this._annotation.position().y;this._pinVerticalTranslation=-e-4,this._shadowHorizontalTranslation=c*-this._pinVerticalTranslation,this._shadowVerticalTranslation=this._pinVerticalTranslation;var t=e/this._annotation.delegate.mapForAnnotation(this._annotation._public)._impl.ensureRenderingFrame().size.height;this._dropDurationMs=1e3*Math.min(.35*(t+(1-t)/2),3),this._dropAnimationStartDate=Date.now(),this._annotation.floating=!0,this._annotation.sceneGraphNode.updateState(),this._animateDrop(),this._animationQueue=[this._bounce,this._annotation.finishedAnimating.bind(this._annotation)],a.scheduleOnNextFrame(this)},dropAnnotationAfterDraggingAndRevertPosition:function(e){var t=this._annotation.droppedAfterLift.bind(this._annotation);this._bounceAnimationFrameIndex>=0?this._animationQueue=[t]:(this._liftAnimationStartDate?(this._dropAnimationStartP=this._liftAnimationProgress,delete this._liftAnimationStartDate,delete this._liftAnimationProgress):this._dropAnimationStartP=1,e?(this._dropAfterLift(),this._animationQueue=[this._bounce,t]):(this._annotation.draggingDidEnd(),this._shadowLiftDamping=!0,this._animationQueue=[this._dropAfterLift,this._bounce,t],o.prototype.lift.call(this,this.nominalLiftAmount)),this._dropAnimationRevert=e,a.scheduleOnNextFrame(this))},lift:function(e){this.nominalLiftAmount=e,this._animationQueue=[this._liftAfterBounce],this._bounce(),a.scheduleOnNextFrame(this)},setTranslation:function(e){this.translation=e,this._bounceAnimationFrameIndex>=0||this._liftAnimationStartDate||(this._annotation.sceneGraphNode.transform=(new r).translate(e.x,e.y-this.liftAmount),this._annotation.sceneGraphNode.shadowTransform=(new r).translate(c*this.liftAmount,-this.liftAmount))},performScheduledUpdate:function(){this._dropAnimationStartDate?this._animateDrop():this._bounceAnimationFrameIndex>=0?this._animateBounce():o.prototype.performScheduledUpdate.call(this)},_animateBounce:function(){this._bounceAnimationFrameIndex<l.length?(this._annotation.sceneGraphNode.updateState("down"+l[this._bounceAnimationFrameIndex]),++this._bounceAnimationFrameIndex):(delete this._bounceAnimationFrameIndex,this._dequeueNextAnimation()),a.scheduleOnNextFrame(this)},_animateDrop:function(){var e=Math.min((Date.now()-this._dropAnimationStartDate)/this._dropDurationMs,1),t=1-e;this._annotation.sceneGraphNode.transform=(new r).translate(0,t*this._pinVerticalTranslation),this._annotation.sceneGraphNode.shadowTransform=(new r).translate(t*this._shadowHorizontalTranslation,t*this._shadowVerticalTranslation),1===e&&(delete this._pinVerticalTranslation,delete this._shadowHorizontalTranslation,delete this._shadowVerticalTranslation,delete this._dropAnimationStartDate,delete this._dropDurationMs,this._annotation.floating=!1,this._annotation.sceneGraphNode.updateState(),this._dequeueNextAnimation()),a.scheduleOnNextFrame(this)},_bounce:function(){this._bounceAnimationFrameIndex=0},_dequeueNextAnimation:function(){this._animationQueue.length>0&&this._animationQueue.shift().call(this)},_dropAfterLift:function(){delete this.translation,this._dropAfterLiftAnimationStartDate=Date.now(),a.scheduleOnNextFrame(this)},_liftAfterBounce:function(){o.prototype.lift.call(this,this.nominalLiftAmount),this._annotation.floating=!0,this._annotation.sceneGraphNode.updateState()}}),t.exports=i},{"./annotation-drag-controller":122,"@maps/css-matrix":58,"@maps/js-utils":84,"@maps/scheduler":106}],148:[function(e,t,n){function i(e,t,n){this._animationController=new a(this),this._dragController=this._animationController,this._sceneGraphNode=new r(this),o.call(this,e,t,o.div,n),this._public=e,this.setSize(d),n&&"color"in n&&(this.color=n.color)}var o=e("./annotation-internal"),r=e("./pin-annotation-node"),a=e("./pin-annotation-animation-controller"),s=e("@maps/geometry/size"),l=e("@maps/geometry/point"),c=e("@maps/css-matrix"),u=e("@maps/js-utils"),h=e("../localizer").l10n,d=new s(15,36);i.Colors={Red:"#ff3d38",Green:"#54d669",Purple:"#c969e0"},i.prototype=u.inheritPrototype(o,i,{_animates:!0,_color:i.Colors.Red,_anchorPoint:new window.DOMPoint(8,35),_calloutAnchorPoint:new window.DOMPoint(-8,0),get size(){return d.copy()},set size(e){console.warn("[MapKit] The `size` property of a pin annotation cannot be set.")},get color(){return this._color},set color(e){u.checkType(e,"string","[MapKit] Expected a string value for PinAnnotation.color, but got `"+e+"` instead"),e!==this._color&&(this._color=e,this.updateLocalizedText(),this._sceneGraphNode.needsDisplay=!0)},get shouldPreventDrag(){return this._animationController.isBouncing},doesAnimate:function(){return this._animates},willMoveToMap:function(e){this._isMoving=e&&this.animates},didMoveToMap:function(){var e=this._isMoving;o.prototype.didMoveToMap.call(this),this.delegate&&e&&this.visible&&!this._appearanceAnimation&&this._shown&&(this._isAnimating=!0,this._animationController.drop())},droppedAfterLift:function(){this.resetNodeTransform(),this._sceneGraphNode.updateState(),o.prototype.droppedAfterLift.call(this)},finishedAnimating:function(){this._sceneGraphNode.updateState(),o.prototype.finishedAnimating.call(this)},altText:function(){return o.prototype.altText.call(this)||(this._color===i.Colors.Green?h.get("Annotation.Pin.Green.AccessibilityLabel"):this._color===i.Colors.Purple?h.get("Annotation.Pin.Purple.AccessibilityLabel"):this._color===i.Colors.Red?h.get("Annotation.Pin.Red.AccessibilityLabel"):h.get("Annotation.Pin.AccessibilityLabel"))},draggingDidEnd:function(){o.prototype.draggingDidEnd.call(this),o.prototype.updatePosition.call(this)},dragOffset:new l(0,2),isAKnownOption:function(e){return"color"===e||o.prototype.isAKnownOption.call(this,e)},resetNodeTransform:function(){this.sceneGraphNode.transform=new c}}),t.exports=i},{"../localizer":182,"./annotation-internal":124,"./pin-annotation-animation-controller":147,"./pin-annotation-node":149,"@maps/css-matrix":58,"@maps/geometry/point":69,"@maps/geometry/size":71,"@maps/js-utils":84}],149:[function(e,t,n){function i(e){o.BaseNode.call(this),this.size=new r(32,39),this._annotation=e,this._renderer=new s(this),this.updateState()}var o=e("../../../lib/scene-graph"),r=e("@maps/geometry/size"),a=e("@maps/js-utils"),s=e("./pin-annotation-renderer");i.prototype=a.inheritPrototype(o.BaseNode,i,{get position(){return this._annotation.node.position},stringInfo:function(){return"PinAnnotationNode"+(this._state?"<"+this._state+">":"")},updateState:function(e){e=this._annotation.floating?"floating":e||"",this._state!==e&&(this._state=e,this.needsDisplay=!0)}}),t.exports=i},{"../../../lib/scene-graph":47,"./pin-annotation-renderer":150,"@maps/geometry/size":71,"@maps/js-utils":84}],150:[function(e,t,n){function i(e){r.RenderItem.call(this,e)}var o,r=e("../../../lib/scene-graph"),a=e("@maps/js-utils"),s=e("../utils"),l=e("../urls"),c=Math.min(s.devicePixelRatio,3),u=l.createImageUrl("pins/pin"),h=(c>1?"_"+c+"x":"")+".png",d={},p=[],m=!1;i.prototype=a.inheritPrototype(r.RenderItem,i,{draw:function(e){if(o){var t=this._node,n=t.size.width,i=t.size.height;if(m)!function(e,t,n,i){e.strokeStyle="#ff4040",e.lineWidth=2,e.strokeRect(0,t,n,i-t),e.beginPath(),e.moveTo(0,t),e.lineTo(n,i),e.moveTo(0,i),e.lineTo(n,t),e.stroke()}(e,i-t._annotation.size.height,t._annotation.size.width,i);else{var r=t._state,a=t._annotation.color;if(d[a]||(d[a]={}),!d[a][r]){var s=document.createElement("canvas");s.width=n*c,s.height=i*c;var l=s.getContext("2d");l.fillStyle=a,l.fillRect(0,0,s.width,s.height),l.save(),l.globalCompositeOperation="destination-in",l.drawImage(o[r].head,0,0),l.restore(),l.drawImage(o[r].base,0,0),d[a][r]=s}t.shadowTransform&&e.drawImage(o[""].shadow,t.shadowTransform.e,t.shadowTransform.f,n,i),e.drawImage(d[a][r],0,0,n,i)}}else p.indexOf(this._node)<0&&p.push(this._node)}}),function(){function e(){0===--r&&(o=i,p.forEach((function(e){e.needsDisplay=!0})))}function t(t){console.warn("[MapKit] Error loading pin annotation image "+t.target.src+"; pin annotations may not display correctly."),m=!0,e()}function n(n,o){var r=u+(n?"-":"")+n+"-"+o+h,a=s.htmlElement("img",{src:r});a.addEventListener("load",(function(){i[n][o]=a,e()})),a.addEventListener("error",t)}var i={},r=["","floating","down1","down2","down3"].reduce((function(e,t){return i[t]={},n(t,"base"),n(t,"head"),e+2}),1);n("","shadow")}(),t.exports=i},{"../../../lib/scene-graph":47,"../urls":222,"../utils":225,"@maps/js-utils":84}],151:[function(e,t,n){function i(e,t){console.warn("[MapKit] mapkit.PinAnnotation is deprecated and will be removed in a future release. Please use the newer mapkit.MarkerAnnotation class instead."),Object.defineProperty(this,"_impl",{value:new r(this,e,t)})}var o=e("./annotation"),r=e("./pin-annotation-internal"),a=e("@maps/js-utils");i.Colors=r.Colors,i.prototype=a.inheritPrototype(o,i,{get size(){return this._impl.size},set size(e){this._impl.size=e},get color(){return this._impl._color},set color(e){this._impl.color=e}}),t.exports=i},{"./annotation":127,"./pin-annotation-internal":148,"@maps/js-utils":84}],152:[function(e,t,n){function i(e,t){console.assert(t&&t.location&&"number"==typeof t.location.latitude&&"number"==typeof t.location.longitude),o.call(this,e,t.coordinate,o.div),this._element.style.width=this._element.style.height=2*l.TOTAL_RADIUS+"px",this._updateTitleAndSubtitleForLocale(),this._sceneGraphNode=new r(this),this.shownPropertyWasUpdated(!0)}var o=e("./annotation-internal"),r=e("./user-location-annotation-node"),a=e("../localizer").l10n,s=e("@maps/js-utils"),l=e("./user-location-annotation-style");i.prototype=s.inheritPrototype(o,i,{_anchorOffset:new window.DOMPoint(0,-l.TOTAL_RADIUS),_calloutAnchorPoint:new window.DOMPoint(-l.TOTAL_RADIUS,-l.SHADOW_BLUR),get coordinate(){return this._coordinate},set coordinate(e){this.hasOwnProperty("_coordinate")?console.warn("[MapKit] The `coordinate` property of the user location annotation cannot be set."):this._coordinate=e.copy()},get draggable(){return!1},set draggable(e){console.warn("[MapKit] The `draggable` property of the user location annotation cannot be set.")},get size(){return this._node.size.copy()},set size(e){console.warn("[MapKit] The `size` property of the user location annotation cannot be set.")},get node(){return this._node},handleEvent:function(e){switch(e.type){case a.Events.LocaleChanged:this._updateTitleAndSubtitleForLocale();break;case"blur":this._sceneGraphNode.pauseAnimation();break;case"focus":this._sceneGraphNode.resumeAnimation()}},shownPropertyWasUpdated:function(e){e?(this._sceneGraphNode.startAnimation(),this._startMonitoringFocus()):(this._sceneGraphNode.stopAnimation(),this._stopMonitoringFocus())},removedFromMap:function(){this._sceneGraphNode.stopAnimation(),a.removeEventListener(a.Events.LocaleChanged,this),this._stopMonitoringFocus()},stale:!1,setCoordinate:function(e){Object.getOwnPropertyDescriptor(o.prototype,"coordinate").set.call(this,e)},_startMonitoringFocus:function(){try{window.top.addEventListener("blur",this),window.top.addEventListener("focus",this)}catch(e){}},_stopMonitoringFocus:function(){try{window.top.removeEventListener("blur",this),window.top.removeEventListener("focus",this)}catch(e){}},_updateTitleAndSubtitleForLocale:function(){this.title=a.get("Location.Title"),this.subtitle=a.get("Location.Subtitle")}}),t.exports=i},{"../localizer":182,"./annotation-internal":124,"./user-location-annotation-node":153,"./user-location-annotation-style":155,"@maps/js-utils":84}],153:[function(e,t,n){function i(e){r.BaseNode.call(this),this._annotation=e,this._renderer=new s(this)}var o=e("@maps/scheduler"),r=e("../../../lib/scene-graph"),a=e("@maps/js-utils"),s=e("./user-location-annotation-renderer");i.prototype=a.inheritPrototype(r.BaseNode,i,{stringInfo:function(){var e=[];return this.stale&&e.push("stale"),null!=this._pausedTime&&e.push("paused@"+this._pausedTime),"UserLocationAnnotationNode"+(e.length>0?"<"+e.join(", ")+">":"")},get startTime(){return this._startTime},get size(){return this._annotation.node.size},get position(){return this._annotation.node.position},startAnimation:function(){this._startTime=Date.now(),this._pausedTime=null,o.scheduleASAP(this)},stopAnimation:function(){this._startTime=null,this._pausedTime=null},pauseAnimation:function(){this._pausedTime=Date.now()},resumeAnimation:function(){null!=this._pausedTime&&(this._startTime+=Date.now()-this._pausedTime,this._pausedTime=null,o.scheduleASAP(this))},performScheduledUpdate:function(){null!=this._startTime&&(this.needsDisplay=!0,null==this._pausedTime&&o.scheduleOnNextFrame(this))}}),t.exports=i},{"../../../lib/scene-graph":47,"./user-location-annotation-renderer":154,"@maps/js-utils":84,"@maps/scheduler":106}],154:[function(e,t,n){function i(e){o.RenderItem.call(this,e)}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils"),a=e("./user-location-annotation-style"),s=e("../utils");i.prototype=r.inheritPrototype(o.RenderItem,i,{draw:function(e){var t=(Date.now()-this._node.startTime)%a.ANIMATION_DURATION_MS,n=s.easeInOut(t<a.ANIMATION_HALF_DURATION_MS?1-t/a.ANIMATION_HALF_DURATION_MS:(t-a.ANIMATION_HALF_DURATION_MS)/a.ANIMATION_HALF_DURATION_MS),i=a.ANIMATION_SCALE_TO+(a.ANIMATION_SCALE_FROM-a.ANIMATION_SCALE_TO)*n;e.save(),e.beginPath(),e.arc(a.TOTAL_RADIUS,a.TOTAL_RADIUS,a.OUTER_RADIUS,0,2*Math.PI),e.fillStyle=a.OUTER_FILL,e.shadowColor=a.SHADOW_COLOR,e.shadowBlur=a.SHADOW_BLUR,e.fill(),e.restore(),e.beginPath(),e.arc(a.TOTAL_RADIUS,a.TOTAL_RADIUS,a.INNER_RADIUS*i,0,2*Math.PI),e.fillStyle=this.node.stale?a.STALE_FILL:function(e,t,n){return"rgb("+e.map((function(e,i){return Math.round(e+(t[i]-e)*n)})).join(", ")+")"}(a.ANIMATION_FILL_FROM,a.ANIMATION_FILL_TO,n),e.fill()}}),t.exports=i},{"../../../lib/scene-graph":47,"../utils":225,"./user-location-annotation-style":155,"@maps/js-utils":84}],155:[function(e,t,n){t.exports={INNER_RADIUS:8,OUTER_RADIUS:11,SHADOW_BLUR:10,TOTAL_RADIUS:21,OUTER_FILL:"white",STALE_FILL:"rgb(180, 180, 180)",SHADOW_COLOR:"rgba(0, 0, 0, 0.3)",ANIMATION_DURATION_MS:3e3,ANIMATION_HALF_DURATION_MS:1500,ANIMATION_SCALE_FROM:1,ANIMATION_SCALE_TO:.75,ANIMATION_FILL_FROM:[68,152,252],ANIMATION_FILL_TO:[26,129,251]}},{}],156:[function(e,t,n){function i(e){Object.defineProperty(this,"_impl",{value:new r(this,e)})}var o=e("./annotation"),r=e("./user-location-annotation-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{set coordinate(e){this._impl.coordinate=e},get coordinate(){return this._impl.coordinate},get draggable(){return this._impl.draggable},set draggable(e){this._impl.draggable=e},get size(){return this._impl.size},set size(e){this._impl.size=e}}),t.exports=i},{"./annotation":127,"./user-location-annotation-internal":152,"@maps/js-utils":84}],157:[function(e,t,n){"use strict";function i(e,t){this.items=e,this.data=t}i.prototype={constructor:i,get data(){return this._data},set data(e){this._data=e},get items(){return this._items},set items(e){this._items=e instanceof Array?e:[e]},getFlattenedItemList:function(){var e=[];return this.items.forEach((function(t){"function"==typeof t.getFlattenedItemList?e=e.concat(t.getFlattenedItemList(t)):e.push(t)}),this),e}},t.exports=i},{}],158:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new o(e,t)})}var o=e("./item-collection-internal");i.prototype={get data(){return this._impl.data},set data(e){this._impl.data=e},get items(){return this._impl._items},set items(e){this._impl.items=e},getFlattenedItemList:function(){return this._impl.getFlattenedItemList()}},t.exports=i},{"./item-collection-internal":157}],159:[function(e,t,n){var i=e("../build.json"),o=e("./localizer"),r=e("../../lib/bootstrap"),a={_instrumented:!1,get instrumented(){return this._instrumented},get previewLoCSR(){return!!this._previewLoCSR},get didFallback(){return this._syrupRequestedFallback},init:function(e){return e&&"object"==typeof e&&("instrumented"in e&&(this._instrumented=!!e.instrumented,delete e.instrumented),"_previewLoCSR"in e&&(this._previewLoCSR=!!e._previewLoCSR,delete e._previewLoCSR)),r.init.call(this,e,"[MapKit] mapkit.init(): ")},Events:{Changed:"configuration-change",Error:"error"},StorageKeys:{BootstrapData:"mapkit.bootstrapData",BootstrapRequestParams:"mapkit.bootstrapRequestParams",BootstrapDataExpirationTimeMS:"mapkit.bootstrapData.expirationTimeMS"}},s=Object.create(r).withParameters({mkjsVersion:i.version,poi:"1",languageSupport:o.languageSupport,l10n:o.l10n});Object.keys(a).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(a,e))})),t.exports=s},{"../../lib/bootstrap":1,"../build.json":111,"./localizer":182}],160:[function(e,t,n){var i=e("@maps/js-utils").noop;t.exports={log:i,warn:i,error:i,assert:i}},{"@maps/js-utils":84}],161:[function(e,t,n){t.exports={MapTypes:{Satellite:"satellite",Hybrid:"hybrid",Standard:"standard"},FeatureVisibility:{Adaptive:"adaptive",Hidden:"hidden",Visible:"visible"},MarkerAnnotationFontFamily:'"-apple-system", "BlinkMacSystemFont", "Helvetica Neue", Helvetica, Arial, sans-serif',MapTiledLayerMinZoomLevel:2,MapTiledLayerMaxZoomLevel:20}},{}],162:[function(e,t,n){function i(e){c.call(this,e),s.classList.add(e,h.CONTROL)}function o(e){this._control=e}function r(e){this._control=e}function a(e){this._control=e}var s=e("../utils"),l=e("@maps/js-utils"),c=e("@maps/render-tree").Node,u=e("../localizer").l10n,h={CONTROL:"mk-control",DISABLED:"mk-disabled",FOCUS:"mk-focus"};i.prototype=l.inheritPrototype(c,i,{constructor:i,_enabled:!1,hasFocus:!1,pageHasFocus:!1,get enabled(){return this._enabled},set enabled(e){var t=!!e;this._enabled!==t&&(t?(s.classList.remove(this.element,h.DISABLED),this._createListeners(),this.element.addEventListener(s.touchstartOrMousedown,this._eventListener),this._addFocusAndBlurListeners(),this._addKeyboardListeners()):(s.classList.add(this.element,h.DISABLED),this.element.removeEventListener(s.touchstartOrMousedown,this._eventListener),this._removeFocusAndBlurListeners(),this._removeKeyboardListeners()),this._enabled=t,this.reset())},set canShowTooltips(e){e?this._updateLabels():this._clearLabels()},willMoveToParent:function(e){e?this.parent||(this._createListeners(),u.addEventListener(u.Events.LocaleChanged,this._eventListener),this._addFocusAndBlurListeners(),this._addKeyboardListeners(),this.addEventListeners()):(u.removeEventListener(u.Events.LocaleChanged,this._eventListener),this.removeEventListeners(),this._removeFocusAndBlurListeners(),this._removeKeyboardListeners(),this._destroyListeners())},blurFocusedElement:function(e){try{this.element.contains(document.activeElement)&&document.activeElement.blur()}catch(e){}},reset:function(){},touchesBegan:function(e){},touchesMoved:function(e){},touchesEnded:function(e){},touchesCanceled:function(e){},spaceBarKeyDown:function(e){},spaceBarKeyUp:function(e){},escapeKeyDown:function(e){},escapeKeyUp:function(e){},downArrowKeyUp:function(e){},downArrowKeyDown:function(e){},upArrowKeyUp:function(e){},upArrowKeyDown:function(e){},rightArrowKeyUp:function(e){},leftArrowKeyUp:function(e){},rightArrowKeyDown:function(e){},leftArrowKeyDown:function(e){},focused:function(e){},blurred:function(e){},pageDidFocus:function(e){},pageDidBlur:function(e){},updateTintColor:function(e){},removeEventListeners:function(){},addEventListeners:function(){},localeChanged:function(){},_clearLabels:function(){s.updateLabel(this.element,"")},_createListeners:function(){this._eventListener||(this._eventListener=new o(this)),this._windowEventListener||(this._windowEventListener=new a(this)),this._cancelFocusEventListener||(this._cancelFocusEventListener=new r(this))},_destroyListeners:function(){this._eventListener&&(this.element.removeEventListener(s.touchstartOrMousedown,this._eventListener),this._eventListener.destroy(),delete this._eventListener),this._windowEventListener&&(this._windowEventListener.destroy(),delete this._windowEventListener),this._cancelFocusEventListener&&(this._cancelFocusEventListener.destroy(),delete this._cancelFocusEventListener)},_addFocusAndBlurListeners:function(){this.element.addEventListener("focus",this._eventListener,!0),this.element.addEventListener("blur",this._eventListener,!0),window.addEventListener("focus",this._windowEventListener),window.addEventListener("blur",this._windowEventListener)},_removeFocusAndBlurListeners:function(){this.element.removeEventListener("focus",this._eventListener,!0),this.element.removeEventListener("blur",this._eventListener,!0),window.removeEventListener("focus",this._windowEventListener),window.removeEventListener("blur",this._windowEventListener)},_addKeyboardListeners:function(){this.element.addEventListener("keydown",this._eventListener),this.element.addEventListener("keyup",this._eventListener)},_removeKeyboardListeners:function(){this.element.removeEventListener("keydown",this._eventListener),this.element.removeEventListener("keyup",this._eventListener)}}),o.prototype={destroy:function(){this._removeEventListeners(),delete this._control},handleEvent:function(e){switch(e.type){case"mousedown":case"touchstart":this._touchesBegan(e);break;case"touchmove":case"mousemove":this._control.touchesMoved(e);break;case"touchend":case"mouseup":this._removeEventListeners(),this._control.touchesEnded(e);break;case"touchcancel":this._removeEventListeners(),this._control.touchesCanceled(e);break;case"keydown":this._keyDown(e);break;case"keyup":this._keyUp(e);break;case"focus":this._focus(e);break;case"blur":this._blur(e);break;case u.Events.LocaleChanged:this._control.localeChanged(e)}},_touchesBegan:function(e){e.preventDefault(),e.stopPropagation(),("mousedown"!==e.type||0===e.button&&!e.ctrlKey)&&(s.supportsTouches?(window.addEventListener("touchmove",this,!0),window.addEventListener("touchend",this,!0),window.addEventListener("touchcancel",this,!0)):(window.addEventListener("mousemove",this,!0),window.addEventListener("mouseup",this,!0)),this._control.touchesBegan(e))},_keyDown:function(e){switch(e.keyCode){case l.KeyCodes.Escape:this._control.escapeKeyDown(e);break;case l.KeyCodes.SpaceBar:e.preventDefault(),this._control.spaceBarKeyDown(e);break;case l.KeyCodes.DownArrow:e.preventDefault(),this._control.downArrowKeyDown(e);break;case l.KeyCodes.UpArrow:e.preventDefault(),this._control.upArrowKeyDown(e);break;case l.KeyCodes.RightArrow:e.preventDefault(),this._control.rightArrowKeyDown(e);break;case l.KeyCodes.LeftArrow:e.preventDefault(),this._control.leftArrowKeyDown(e)}},_keyUp:function(e){switch(e.keyCode){case l.KeyCodes.Escape:this._control.escapeKeyUp(e);break;case l.KeyCodes.DownArrow:e.preventDefault(),this._control.downArrowKeyUp(e);break;case l.KeyCodes.UpArrow:e.preventDefault(),this._control.upArrowKeyUp(e);break;case l.KeyCodes.RightArrow:e.preventDefault(),this._control.rightArrowKeyUp(e);break;case l.KeyCodes.LeftArrow:e.preventDefault(),this._control.leftArrowKeyUp(e);break;case l.KeyCodes.SpaceBar:e.preventDefault(),this._control.spaceBarKeyUp(e)}},_focus:function(e){this._control.hasFocus||(this._control.hasFocus=!0,s.classList.add(this._control.element,h.FOCUS),window.addEventListener(s.touchstartOrMousedown,this._control._cancelFocusEventListener,!0),this._control.focused(e))},_blur:function(e){this._control.hasFocus&&(this._control.hasFocus=!1,window.removeEventListener(s.touchstartOrMousedown,this._control._cancelFocusEventListener,!0),s.classList.remove(this._control.element,h.FOCUS),this._control.blurred(e))},_removeEventListeners:function(){s.supportsTouches?(window.removeEventListener("touchmove",this,!0),window.removeEventListener("touchend",this,!0),window.removeEventListener("touchcancel",this,!0)):(window.removeEventListener("mousemove",this,!0),window.removeEventListener("mouseup",this,!0))}},r.prototype={destroy:function(){delete this._control},handleEvent:function(e){this._control.blurFocusedElement(e)}},a.prototype={destroy:function(){delete this._control},handleEvent:function(e){switch(e.type){case"focus":this._control.pageHasFocus||(this._control.pageHasFocus=!0,this._control.pageDidFocus(e));break;case"blur":this._control.pageHasFocus=!1,this._control.pageDidBlur(e)}}},t.exports=i},{"../localizer":182,"../utils":225,"@maps/js-utils":84,"@maps/render-tree":102}],163:[function(e,t,n){function i(e){g.call(this,o.htmlElement("div",{class:C})),this._map=e,this._logo=this.addChild(new a),this._topLeftControlsNode=this.addChild(new g(o.htmlElement("div",{class:E}))),this._topRightControlsNode=this.addChild(new g(o.htmlElement("div",{class:x}))),this._bottomRightControlsNode=this.addChild(new g(o.htmlElement("div",{class:S}))),this._legalControl=this._topRightControlsNode.addChild(new s),this._controlsPending=!1,v.activeLocale&&(this._rtl=v.activeLocale.rtl),v.addEventListener(v.Events.LocaleChanged,this)}var o=e("../utils"),r=e("@maps/js-utils"),a=e("./logo"),s=e("./legal-control"),l=e("./map-type-control"),c=e("./scale"),u=e("./zoom-control"),h=e("./user-location-control"),d=e("./rotation-control"),p=e("@maps/geometry/point"),m=e("@maps/geometry/size"),f=e("@maps/render-tree"),g=e("@maps/render-tree").Node,_=e("../user-location/user-location"),v=e("../localizer").l10n,y=e("@maps/geometry/rect"),b=e("../constants").FeatureVisibility,w=new m(262,222),C="mk-controls-container",E="mk-top-left-controls-container",S="mk-bottom-right-controls-container",x="mk-top-right-controls-container",k=new p(7,11);i.prototype=r.inheritPrototype(g,i,{_rtl:!1,get controlsPending(){return this._controlsPending},set canShowTooltips(e){this._userLocationControl&&(this._userLocationControl.canShowTooltips=e),this._zoomControl&&(this._zoomControl.canShowTooltips=e),this._mapTypeControl&&(this._mapTypeControl.canShowTooltips=e),this._rotationControl&&(this._rotationControl.canShowTooltips=e)},get legalControlExpandedSize(){return this._legalControl.expandedSize},mapPaddingDidChange:function(e){var t=this.element.style;t.top=e.top+"px",t.left=e.left+"px",t.bottom=e.bottom+"px",t.right=e.right+"px",this.sizeDidChange()},sizeDidChange:function(){var e=this._shouldHideControls();this._toggleControl(this._map.showsZoomControl&&!e,this._zoomControl,this.updateZoomControl),this._toggleControl(this._map.showsMapTypeControl&&!e,this._mapTypeControl,this.updateMapTypeControl),this._toggleControl(this._map.showsUserLocationControl&&!e,this._userLocationControl,this.updateUserLocationControl),this.updateRotationControl(),this.updateScale(),this.zoomLevelDidChange()},zoomLevelDidChange:function(){this._zoomControl&&(this._zoomControl.zoomOutEnabled=this._map.zoomLevel!==this._map.minZoomLevel,this._zoomControl.zoomInEnabled=this._map.zoomLevel!==this._map.maxZoomLevel)},update:function(){this._map&&(this._setPendingControls(),this._shouldHideControls()?(this._removeZoomControl(),this._removeMapTypeControl(),this._removeUserLocationControl(),this._removeRotationControl(),this._removeScale()):(this.updateZoomControl(),this.updateMapTypeControl(),this.updateUserLocationControl(),this.updateRotationControl(),this.updateScale()),this._logo.updateWithMapType(this._map.mapType),this.updateLegalControl())},scaleDidChange:function(){this._scale&&(this._scale.update(),this._scale.hideIfNeeded())},updateScale:function(){this._map.showsScale===b.Hidden||this._shouldHideControls()?this._removeScale():(this._addScale(),this._scale.node.mapWidth=this._map._mapNode.size.width,this._scale.updateThemeForMap(this._map),this._positionScale(),this._scale.update())},updateZoomControl:function(){this._map.showsZoomControl&&!this._shouldHideControls()?(this._addZoomControl(),this._zoomControl.enabled=this._map.isZoomEnabled,this._zoomControl.zoomOutEnabled=this._map.zoomLevel!==this._map.minZoomLevel,this._zoomControl.zoomInEnabled=this._map.zoomLevel!==this._map.maxZoomLevel,this._zoomControl.updateTintColor(this._map.tintColor)):this._removeZoomControl()},updateMapTypeControl:function(){this._map.showsMapTypeControl&&!this._shouldHideControls()?(this._addMapTypeControl(),this._mapTypeControl.mapType=this._map.mapType,this._mapTypeControl.enabled=!0,this._mapTypeControl.updateTintColor(this._map.tintColor)):this._removeMapTypeControl()},updateUserLocationControl:function(){if(this._map.showsUserLocationControl&&!this._shouldHideControls()){switch(this._addUserLocationControl(),this._userLocationControl.enabled=!0,this._userLocationControl.state){case h.States.Default:this._map.tracksUserLocation&&_&&_.location?this._userLocationControl.toTrackingState():(this._map.tracksUserLocation||this._map.showsUserLocation&&!this._map.userLocationAnnotation)&&this._userLocationControl.toWaitingState();break;case h.States.Waiting:_&&_.location&&this.userLocationDidChange(_),this._map.showsUserLocation||this._userLocationControl.toDefaultState();break;case h.States.Tracking:this._map.tracksUserLocation||this._userLocationControl.toDefaultState()}this._userLocationControl.updateTintColor(this._map.tintColor)}else this._removeUserLocationControl()},updateRotationControl:function(){this._shouldHideControls()||this._map.isCompassHidden?this._removeRotationControl():(this._addRotationControl(),this._rotationControl.rotation=this._map.rotation,this._rotationControl.updateTintColor(this._map.tintColor))},updateLegalControl:function(){this._legalControl.updateWithMapType(this._map.mapType),this._legalControl.updateTintColor(this._map.tintColor)},devicePixelRatioDidChange:function(e){this._userLocationControl&&this._userLocationControl.updateIcons(e.value),this._rotationControl&&this._rotationControl.updateImage(e.value)},handleEvent:function(e){if(this._map)switch(e.type){case l.EVENTS.MAPTYPE_CHANGE:this._mapTypeControl&&(this._map.mapType=this._mapTypeControl.mapType);break;case h.EVENTS.PRESSED:this._userLocationControl.state===h.States.Waiting?this._map.tracksUserLocation=!0:this._userLocationControl.state!==h.States.Tracking&&(this._map.tracksUserLocation=!1);break;case v.Events.LocaleChanged:this._handleLocaleChanged(e);break;case"update":this._unsetPendingControls(),this._map.addWaitingAnnotations()}},mapWasDestroyed:function(){this._unsetPendingControls(),v.removeEventListener(v.Events.LocaleChanged,this),this._destroyZoomControl(),this._destroyMapTypeControl(),this._destroyUserLocationControl(),this._destroyRotationControl(!0),this._legalControl.remove(),delete this._legalControl,this._logo.mapWasDestroyed(),this._logo.remove(),delete this._logo,this._removeScale(),this.remove(),delete this._map},userLocationDidChange:function(e){this._userLocationControl&&(this._map.tracksUserLocation?this._userLocationControl.toTrackingState():this._userLocationControl.toDefaultState())},userLocationDidError:function(e){this._userLocationControl&&this._userLocationControl.toDisabledState(),this._map.userLocationAnnotation||3===e.errorCode||(this._map.showsUserLocation=!1)},mapTypeControlWasOpened:function(){},mapTypeControlWasClosed:function(){},_handleLocaleChanged:function(e){this._rtl!==e.locale.rtl&&(this._rtl=e.locale.rtl,this._rtlChanged=!0,this.update(),this._rtlChanged=!1)},_addScale:function(){this._scale||(this._setPendingControls(),this._scale=new c(this._map),this.addChild(this._scale,0))},_positionScale:function(){var e=this._map.ensureVisibleFrame().size,t=!this._rtl;this._scale.node.leftAligned=t,this._scale.position=new p(t?k.x:e.width-this._scale.size.width-k.x,k.y),this._scale.shouldDisplayScale||this._scale.node.setOpacityAnimated(0,!1)},_removeScale:function(){this._scale&&(this._setPendingControls(),this._scale.node.l10n=null,this._scale.node.remove(),this._scale.scene.destroy(),this._scale.remove(),delete this._scale)},_addZoomControl:function(){!this._map.showsZoomControl||this._zoomControl||this._shouldHideControls()||(this._setPendingControls(),this._zoomControl=new u,this._zoomControl.enabled=this._map.isZoomEnabled,this._zoomControl.addEventListener(u.EVENTS.ZOOM_START,this._map),this._zoomControl.addEventListener(u.EVENTS.ZOOM_END,this._map),this._bottomRightControlsNode.addChild(this._zoomControl))},_removeZoomControl:function(){!this._shouldHideControls()&&this._map.showsZoomControl||!this._zoomControl||(this._setPendingControls(),this._zoomControl.enabled=!1,this._destroyZoomControl())},_destroyZoomControl:function(){this._zoomControl&&(this._zoomControl.removeEventListener(u.EVENTS.ZOOM_START,this._map),this._zoomControl.removeEventListener(u.EVENTS.ZOOM_END,this._map),this._zoomControl.remove(),delete this._zoomControl)},_addMapTypeControl:function(){!this._map.showsMapTypeControl||this._mapTypeControl||this._shouldHideControls()||(this._setPendingControls(),this._mapTypeControl=new l(e("../map").MapTypes,this._map.mapType,this),this._mapTypeControl.addEventListener(l.EVENTS.MAPTYPE_CHANGE,this),this._topRightControlsNode.addChild(this._mapTypeControl),this.updateLegalControl())},_removeMapTypeControl:function(){this._mapTypeControl&&(this._setPendingControls(),this._mapTypeControl.enabled=!1,this._destroyMapTypeControl(),this.updateLegalControl())},_destroyMapTypeControl:function(){this._mapTypeControl&&(this._mapTypeControl.removeEventListener(l.EVENTS.MAPTYPE_CHANGE,this),this._mapTypeControl.remove(),delete this._mapTypeControl)},_toggleControl:function(e,t,n){(t&&!e||!t&&e)&&n.call(this)},_shouldHideControls:function(){var e=this._map.ensureVisibleFrame().size;return e.width<w.width||e.height<w.height},_addRotationControl:function(){this._shouldHideControls()||this._rotationControl||(this._setPendingControls(),this._rotationControl=new d(this._map),this._rotationControl.enabled=!0,this._bottomRightControlsNode.insertBefore(this._rotationControl,this._zoomControl))},_removeRotationControl:function(){this._rotationControl&&(this._setPendingControls(),this._destroyRotationControl())},_destroyRotationControl:function(e){if(this._rotationControl){if(e)this._rotationControl.mapWasDestroyed(),this._rotationControl.remove();else{var t=this._rotationControl;t.opacity=0,t.element.addEventListener(o.transitionend,(function e(){t.element.removeEventListener(o.transitionend,e),t.mapWasDestroyed(),t.remove()}))}delete this._rotationControl}},_addUserLocationControl:function(){!this._map.showsUserLocationControl||this._userLocationControl||this._shouldHideControls()||(this._setPendingControls(),this._userLocationControl=new h(this._map,this._rtl),this._userLocationControl.addEventListener(h.EVENTS.PRESSED,this),this._bottomRightControlsNode.insertBefore(this._userLocationControl,this._rotationControl||this._zoomControl))},_removeUserLocationControl:function(){!this._shouldHideControls()&&this._map.showsUserLocationControl||!this._userLocationControl||(this._setPendingControls(),this._destroyUserLocationControl())},_destroyUserLocationControl:function(){this._userLocationControl&&(this._userLocationControl.removeEventListener(h.EVENTS.STATE_CHANGE,this._map),this._userLocationControl.mapWasDestroyed(),this._userLocationControl.remove(),delete this._userLocationControl)},_setPendingControls:function(){this._controlsPending=!0,f.addEventListener("update",this)},_unsetPendingControls:function(){this._controlsPending=!1,f.removeEventListener("update",this)},controlBounds:function(){var e=[];return this.children.forEach((function(t){0!==t.children.length&&(t.classList.contains(S)?Array.prototype.push.apply(e,t.children):e.push(t))})),e.map((function(e){try{var t=e.element.getBoundingClientRect(),n=window.getComputedStyle(this._map.element);if("none"===(n.transform||n.msTransform||n.webkitTransform)){var i=this._map.element.getBoundingClientRect();return new y(t.left-i.left,t.top-i.top,t.width,t.height)}return y.rectFromClientRect(t)}catch(e){return new y}}),this)}}),t.exports=i},{"../constants":161,"../localizer":182,"../map":185,"../user-location/user-location":224,"../utils":225,"./legal-control":164,"./logo":165,"./map-type-control":166,"./rotation-control":167,"./scale":168,"./user-location-control":169,"./zoom-control":170,"@maps/geometry/point":69,"@maps/geometry/rect":70,"@maps/geometry/size":71,"@maps/js-utils":84,"@maps/render-tree":102}],164:[function(e,t,n){function i(){var e=s.htmlElement("div",{class:g.CONTROL});this._elLegal=e.appendChild(s.htmlElement("div",{class:g.LEGAL,role:"button",tabindex:0})),this._elLegal.textContent=d.get("Legal.Label"),u.call(this,e);var t=s.htmlElement("div",{class:g.LEGAL_INFO,"aria-hidden":!0});this._legalInfoNode=new h.Node(t);var n=t.appendChild(s.htmlElement("div",{class:g.LEGAL_INFO_CONTAINER}));this._elCloseButton=s.htmlElement("div",{class:g.CLOSE,role:"button"},s.createSVGIcon(s.svgElement("path",{d:"M6.20710678,5.5 L10.3535534,9.6464466 L9.6464466,10.3535534 L5.5,6.20710678 L1.35355339,10.3535534 L0.646446609,9.64644661 L4.79289322,5.5 L0.646446602,1.35355338 L1.35355338,0.646446602 L5.5,4.79289322 L9.64644661,0.646446609 L10.3535534,1.35355339 L6.20710678,5.5 Z"}),{viewBox:"0 0 11 11"})),n.appendChild(s.htmlElement("header")).appendChild(this._elCloseButton),this._elInfoItems=n.appendChild(s.htmlElement("div",{class:g.LEGAL_INFO_ITEMS,role:"menu"})),this.enabled=!0,this._updateAccessibilityState()}function o(e,t){var n=a(e);return n.textContent=d.get(t),n}function r(e,t,n){var i,o,r=a(e);return s.classList.add(r,g.LEGAL_ATTRIBUTION_ITEM),n?(i='<img width="68" height="22" class="mk-attribution-logo" src="'+s.imagePathForDevice([1,2,3],p.createImageUrl("legal/tomtom"))+'" alt="TomTom">',o=s.htmlElement("span",{class:"mk-right-caret"},s.createSVGIcon(s.svgElement("path",{d:"M1,1 L5,4.5 L1,7.5"}),{viewBox:"0 0 7 9"})),r.innerHTML=d.get("Legal.Attribution.HTML.Label",{logo:i,chevron:o.outerHTML})):r.textContent=d.get("Legal.Attribution.Plain.Label",{attribution:t}),r}function a(e){var t=s.htmlElement("div",{class:g.LEGAL_INFO_ITEM,role:"menuitem",tabindex:-1});return e&&t.setAttribute(_.MAP_ATTRIBUTION_URL,e),t}var s=e("../utils"),l=e("@maps/js-utils"),c=e("../configuration"),u=e("./control"),h=e("@maps/render-tree"),d=e("../localizer").l10n,p=e("../urls"),m=e("@maps/geometry/size");t.exports=i;var f=new m(222,116),g={CONTROL:"mk-legal-controls",OPEN:"mk-open",CLOSE:"mk-close",DIVIDER:"mk-divider",LEGAL:"mk-legal",LEGAL_SATELLITE:"mk-legal-satellite",LEGAL_INFO:"mk-legal-info",LEGAL_INFO_CONTAINER:"mk-legal-info-container",LEGAL_INFO_ITEMS:"mk-legal-info-items",LEGAL_INFO_ITEM:"mk-legal-info-item",LEGAL_ATTRIBUTION_ITEM:"mk-legal-attribution-item",PRESSED:"mk-pressed"},_={MAP_ATTRIBUTION_URL:"data-map-attribution-url"};i.prototype=l.inheritPrototype(u,i,{_isOpen:!1,_shouldFocusOnLegalButton:!1,_canShowFocusOutline:!0,_hadFocusOutline:!1,_pageLostFocus:!1,updateWithMapType:function(t){var n=e("../map");if(c.ready){this.mapType=t,this._elLegal.className=g.LEGAL,this._elLegal.textContent=d.get("Legal.Label"),this._elLegal.removeAttribute(_.MAP_ATTRIBUTION_URL),t!==n.MapTypes.Standard&&s.classList.add(this._elLegal,g.LEGAL_SATELLITE),this._elCloseButton.setAttribute("aria-label",d.get("Legal.Menu.Close.Label"));var i=c.types[this.mapType].tileSources[0];i.showTermsOfUseLink||i.showPrivacyLink?(this.updateLegalInfo(i),this.addChild(this._legalInfoNode)):(this._elLegal.setAttribute(_.MAP_ATTRIBUTION_URL,i.attribution&&i.attribution.url),this._legalInfoNode.remove()),this._updateAccessibilityState()}},updateLegalInfo:function(e){console.assert(e);var t=[];if(this._elInfoItems.innerHTML="",e.showTermsOfUseLink&&t.push(o(d.get("Legal.TermsOfUse.URL"),"Legal.TermsOfUse.Label")),e.showPrivacyLink&&t.push(o(d.get("Legal.Privacy.URL"),"Legal.Privacy.Label")),e.attribution){var n=e.attribution.url,i=e.attribution.name,a=e.attribution.name===c.TILE_SOURCES.TOMTOM;t.push(r(n,i,a))}t.forEach((function(e,n){this._elInfoItems.appendChild(e),n<t.length-1&&this._elInfoItems.appendChild(s.htmlElement("div",{class:g.DIVIDER}))}),this)},get expandedSize(){var e=this._legalInfoNode.element.getBoundingClientRect();return new m(Math.ceil(e.width)||f.width,Math.ceil(e.height)||f.height)},handleEvent:function(e){switch(e.type){case s.transitionend:this._handleTransitionend(e);break;case s.touchstartOrMousedown:this._isOpen&&!this.element.contains(e.target)&&this._close()}},localeChanged:function(e){this.mapType&&(this.updateWithMapType(this.mapType),this.updateTintColor(this.tintColor))},touchesBegan:function(e){this._setPressedElement(e.target)},touchesMoved:function(e){if(this._isOpen&&this._isDown){var t=s.parentNodeForSvgTarget(e.target);this._clearPressedElement(),this._setPressedElement(t)}},touchesEnded:function(e){this._pressed(e)},spaceBarKeyDown:function(e){this._setPressedElement(e.target)},spaceBarKeyUp:function(e){this._pressed(e)},escapeKeyDown:function(e){this._isOpen&&(this._shouldFocusOnLegalButton=!0,this._canShowFocusOutline=!0,this._close())},focused:function(e){if(this._isOpen&&e.target===this._elLegal)return this._shouldFocusOnLegalButton=!0,void this._close();var t=this._canShowFocusOutline&&!this._pageLostFocus||this._canShowFocusOutline&&this._pageLostFocus&&this._hadFocusOutline;this._hadFocusOutline=t,s.classList.toggle(this.element,"mk-focus",t),this._isDown&&t&&(this._clearPressedElement(),this._setPressedElement(e.target))},blurred:function(e){setTimeout(function(e){document.activeElement&&"body"!==document.activeElement.tagName.toLowerCase()&&!this.element.contains(document.activeElement)&&this._close()}.bind(this),0)},pageDidFocus:function(e){setTimeout(function(){delete this._pageLostFocus}.bind(this),0)},pageDidBlur:function(e){this._elInfoItems.contains(document.activeElement)&&u.prototype.blurFocusedElement.call(this,e),this._pageLostFocus=!0,this._close()},blurFocusedElement:function(e){u.prototype.blurFocusedElement.call(this,e),this._isOpen&&!this.element.contains(e.target)&&this._close()},updateTintColor:function(e){if(this.tintColor=e,this._elInfoItems)for(var t=this._elInfoItems.querySelectorAll("."+g.LEGAL_INFO_ITEM+":not(."+g.LEGAL_ATTRIBUTION_ITEM+")"),n=0;n<t.length;n++)t[n].style.color=e},reset:function(){this._close()},_open:function(){window.addEventListener(s.touchstartOrMousedown,this,!0),this._legalInfoNode.element.addEventListener("transitionend",this),s.classList.add(this._legalInfoNode.element,g.OPEN),this._isOpen=!0},_close:function(){this._isOpen=!1,this._updateAccessibilityState(),window.removeEventListener(s.touchstartOrMousedown,this,!0),s.classList.remove(this._legalInfoNode.element,g.OPEN)},_tabbable:function(){for(var e=this.element.querySelectorAll("."+g.LEGAL_INFO_ITEM),t=0;t<e.length;t++)e[t].setAttribute("tabindex",this._isOpen?0:-1);this._elCloseButton.setAttribute("tabindex",this._isOpen?0:-1)},_pressed:function(e){var t=s.parentNodeForSvgTarget(e.target),n="keyup"===e.type&&e.keyCode===l.KeyCodes.SpaceBar;delete this._isDown,this._clearPressedElement(),s.classList.contains(t,"mk-attribution-logo")&&(t=t.parentNode),t.getAttribute(_.MAP_ATTRIBUTION_URL)?window.open(t.getAttribute(_.MAP_ATTRIBUTION_URL)):s.classList.contains(t,g.CLOSE)?(this._shouldFocusOnLegalButton=!0,this._canShowFocusOutline=n,this._elCloseButton.blur(),this._close()):s.classList.contains(this._legalInfoNode.element,g.OPEN)||(this._canShowFocusOutline=n,this._open())},_handleTransitionend:function(e){this._isOpen?(this._updateAccessibilityState(),this.element.blur(),this._elInfoItems.children.item(0).focus()):(this._legalInfoNode.element.removeEventListener("transitionend",this),this._shouldFocusOnLegalButton&&this._elLegal.focus(),this._shouldFocusOnLegalButton=!1),l.isIEAndNotEdge()?setTimeout(function(){this._canShowFocusOutline=!0}.bind(this),0):this._canShowFocusOutline=!0},_updateAccessibilityState:function(){this._legalInfoNode.parent?(this._elLegal.setAttribute("aria-haspopover",!0),this._elLegal.setAttribute("aria-expanded",this._isOpen),this._isOpen?this._legalInfoNode.element.removeAttribute("aria-hidden"):this._legalInfoNode.element.setAttribute("aria-hidden","true"),this._tabbable()):(this._elLegal.removeAttribute("aria-haspopover"),this._elLegal.removeAttribute("aria-expanded"))},_setPressedElement:function(e){e=s.parentNodeForSvgTarget(e),this._isDown=!0,this._clearPressedElement(),(s.classList.contains(e,g.LEGAL_INFO_ITEM)||s.classList.contains(e,g.CLOSE))&&s.classList.add(e,g.PRESSED)},_clearPressedElement:function(){var e=this.element.querySelector("."+g.PRESSED);e&&s.classList.remove(e,g.PRESSED)}})},{"../configuration":159,"../localizer":182,"../map":185,"../urls":222,"../utils":225,"./control":162,"@maps/geometry/size":71,"@maps/js-utils":84,"@maps/render-tree":102}],165:[function(e,t,n){function i(){this._logoElement=o.htmlElement("img",{class:h.LOGO}),l.call(this,o.htmlElement("div",{class:h.CONTROL},this._logoElement)),c.addEventListener(c.Events.LocaleChanged,this)}var o=e("../utils"),r=e("@maps/js-utils"),a=e("../configuration"),s=e("../urls"),l=e("@maps/render-tree").Node,c=e("../localizer").l10n;t.exports=i;var u=s.createImageUrl("logos/logo"),h={CONTROL:"mk-logo-control",LOGO:"mk-logo",LOGO_AUTONAVI:"mk-logo-autonavi"};i.prototype=r.inheritPrototype(l,i,{updateWithMapType:function(t){var n=e("../map"),i=t.toLowerCase()===n.MapTypes.Standard;this.mapType=t,this._logoElement.className=h.LOGO;var r=[u];"AutoNavi"===a.tileProvider&&(o.classList.add(this._logoElement,h.LOGO_AUTONAVI),r.push("autonavi")),i||r.push("satellite"),this.rtl&&r.push("rtl"),this._logoElement.src=o.imagePathForDevice([1,2,3],r.join("-")),this._logoElement.setAttribute("alt",c.get("Logo."+a.tileProvider+".Tooltip"))},handleEvent:function(e){switch(e.type){case c.Events.LocaleChanged:this.rtl=e.locale.rtl,this._handleLocaleChange(e)}},mapWasDestroyed:function(){c.removeEventListener(c.Events.LocaleChanged,this)},_handleLocaleChange:function(e){this.mapType&&this.updateWithMapType(this.mapType)}})},{"../configuration":159,"../localizer":182,"../map":185,"../urls":222,"../utils":225,"@maps/js-utils":84,"@maps/render-tree":102}],166:[function(e,t,n){function i(e,t,n){s.call(this,r.htmlElement("div",{class:d.CONTROL})),l.EventTarget(this),this._caretIcon=r.createSVGIcon(r.svgElement("path",{d:"M1,1 L4.5,4.5 L8,1"}),{viewBox:"0 0 9 6"}),this._checkmarkIcon=r.createSVGIcon(r.svgElement("path",{d:"M3.76776695,8.47487373 L3.41421356,8.82842712 L2.70710678,8.12132034 L0.707106781,6.12132034 L0,5.41421356 L1.41421356,4 L2.12132034,4.70710678 L3.41421356,6 L8.70710678,0.707106781 L9.41421356,0 L10.8284271,1.41421356 L10.1213203,2.12132034 L4.12132034,8.12132034 L3.76776695,8.47487373 Z"}),{viewBox:"0 0 11 9"}),["Standard","Hybrid","Satellite"].forEach((function(n){var i=new c.Node(r.htmlElement("div",{class:d.MAP_TYPE})),o="Mode."+n;i.element.setAttribute(h.MAP_TYPE,e[n]),i.element.setAttribute(h.L10N,o),i.element.textContent=u.get(o),e[n]===t&&(this._mapType=t,this._updateActiveNode(i)),this.addChild(i)}),this),this._updateLabels(),this._updateAccessibilityState(),this.enabled=!0,this._delegate=n}function o(e){e.focus(),e.setAttribute("tabindex",0),e.setAttribute("aria-checked",!0)}var r=e("../utils"),a=e("@maps/js-utils"),s=e("./control"),l=e("@maps/dom-events"),c=e("@maps/render-tree"),u=e("../localizer").l10n;t.exports=i;var h={MAP_TYPE:"data-map-type",L10N:"data-l10n-key"},d={CONTROL:"mk-map-type-control",MAP_TYPES:"mk-map-types",MAP_TYPE:"mk-map-type",ACTIVE:"mk-active",PRESSED:"mk-pressed",OPEN:"mk-open",OPENING:"mk-opening",FOCUS:"mk-focus",SHOW_FOCUS:"mk-show-focus"};i.EVENTS={MAPTYPE_CHANGE:"map-type-change"},i.prototype=a.inheritPrototype(s,i,{constructor:i,_transitioning:!1,_shouldFocusOnClose:!0,_canShowFocusOutline:!0,_hadFocusOutline:!1,_pageLostFocus:!1,_activeMapTypeNode:null,_activeIcon:null,get mapType(){return this._mapType},set mapType(e){e!==this._mapType&&(this._mapType=e,this._updateDisplay(),this.dispatchEvent(new l.Event(i.EVENTS.MAPTYPE_CHANGE)))},handleEvent:function(e){switch(e.type){case r.touchstartOrMousedown:this.element.contains(e.target)?this._shouldFocusOnClose=!0:(this._shouldFocusOnClose=!1,this._close());break;case r.transitionend:this._handleTransitionend(e)}},localeChanged:function(e){this._updateLabels(),this.children.forEach((function(e){var t=e.element.getAttribute(h.L10N);e.element.textContent=u.get(t)})),this._updateActiveIcon()},touchesBegan:function(e){if(!this._transitioning){var t=r.parentNodeForSvgTarget(e.target);this._updatePressedMapType(t),this._clearOutline(),this._isDown=!0,this._canShowFocusOutline=!1,this._open()}},touchesMoved:function(e){if(this._isOpen&&this._isDown){var t=r.parentNodeForSvgTarget(e.target);this._updatePressedMapType(t)}},touchesEnded:function(e){var t=r.parentNodeForSvgTarget(e.target);if(e.stopPropagation(),this._isDown=!1,this._clearPressedState(),Date.now()-this._openTime<200)this._openTime=0;else if(this._isOpen&&!this._transitioning){this._shouldFocusOnClose=!0,this._canShowFocusOutline=!1;var n=t.getAttribute(h.MAP_TYPE);n&&(this.mapType=n),this.reset()}},blurred:function(e){setTimeout(function(){document.activeElement&&"body"!==document.activeElement.tagName.toLowerCase()&&!this.element.contains(document.activeElement)&&(this._clearPressedState(),this._shouldFocusOnClose=!1,this._close())}.bind(this),0)},touchesCanceled:function(e){this.reset()},spaceBarKeyDown:function(e){var t=r.parentNodeForSvgTarget(e.target);this._isOpen||(t=this._activeMapTypeNode.element),this._updatePressedMapType(t),this._isDown=!0},spaceBarKeyUp:function(e){var t=r.parentNodeForSvgTarget(e.target);this._isDown=!1,this._clearPressedState(),this._isOpen&&r.classList.contains(t,d.MAP_TYPE)?(this.mapType=t.getAttribute(h.MAP_TYPE),this.resetWithFocusOutline()):this._isOpen||(this._canShowFocusOutline=!0,this._open())},escapeKeyDown:function(e){this._isOpen&&this.resetWithFocusOutline()},downArrowKeyUp:function(e){this._handleUpAndDownArrows("down")},upArrowKeyUp:function(e){this._handleUpAndDownArrows("up")},focused:function(e){var t=r.parentNodeForSvgTarget(e.target),n=this._canShowFocusOutline&&!this._pageLostFocus||this._canShowFocusOutline&&this._pageLostFocus&&this._hadFocusOutline;this._hadFocusOutline=n,r.classList.toggle(this.element,d.SHOW_FOCUS,n),this._outlinedMapTypeNode||(this._outlinedMapTypeNode=this._activeMapTypeNode),this._isDown&&n&&this._updatePressedMapType(t)},pageDidFocus:function(e){setTimeout(function(){this._pageLostFocus=!1}.bind(this),0)},pageDidBlur:function(e){this._pageLostFocus=!0,this._clearPressedState(),this._close()},updateTintColor:function(e){this.tintColor=e,this._activeMapTypeNode.element.style.color=this.tintColor,this._checkmarkIcon.style.fill=this.tintColor,this._caretIcon.style.stroke=this.tintColor,this._activeIcon.style[this._isOpen?"fill":"stroke"]=this.tintColor},reset:function(){this._close()},resetWithFocusOutline:function(){this._shouldFocusOnClose=!0,this._canShowFocusOutline=!0,this.reset()},removeEventListeners:function(){this.element.removeEventListener(r.transitionend,this)},addEventListeners:function(){this.element.addEventListener(r.transitionend,this)},_updateLabels:function(){r.updateLabel(this.element,u.get("MapType.Tooltip"))},_open:function(){this._isOpen||(window.addEventListener(r.touchstartOrMousedown,this,!0),this._isOpen=!0,this._openTime=Date.now(),this._transitioning=!0,r.classList.add(this.element,d.OPEN),this._updateActiveIcon(),r.classList.add(this.element,d.OPENING),this._delegate.mapTypeControlWasOpened())},_close:function(){this._isOpen&&(window.removeEventListener(r.touchstartOrMousedown,this,!0),delete this._isOpen,delete this._isDown,delete this._openTime,this._transitioning=!0,r.classList.remove(this.element,d.OPEN),this._updateActiveIcon(),this._clearOutline(),this._delegate.mapTypeControlWasClosed())},_updateDisplay:function(){this.localeChanged();var e=this.findNode((function(e){return e.element.getAttribute(h.MAP_TYPE)===this._mapType}),this);e&&(this._updateActiveNode(e),this._updateAccessibilityState())},_updateActiveNode:function(e){e!==this._activeMapTypeNode&&(this._activeMapTypeNode&&(this._activeMapTypeNode.element.style.removeProperty("color"),r.classList.remove(this._activeMapTypeNode.element,d.ACTIVE)),this._activeMapTypeNode=e,r.classList.add(e.element,d.ACTIVE),this._updateActiveIcon())},_updateActiveIcon:function(){this._activeIcon&&this._activeIcon.parentNode&&this._activeIcon.parentNode.removeChild(this._activeIcon),this._activeMapTypeNode?(this._activeIcon=this._isOpen?this._checkmarkIcon:this._caretIcon,this._activeMapTypeNode.element.appendChild(this._activeIcon)):this._activeIcon=null},_updatePressedMapType:function(e){this._clearPressedState(),r.classList.contains(e,d.MAP_TYPE)&&r.classList.add(e,d.PRESSED)},_handleLocaleChange:function(){this.children.forEach((function(e){var t=e.element.getAttribute(h.L10N);e.element.textContent=u.get(t)})),this._updateActiveIcon()},_handleTransitionend:function(){this._updateAccessibilityState(),this._focusWhenClosed(),this.updateTintColor(this.tintColor),this._isOpen&&this._activeMapTypeNode&&o(this._activeMapTypeNode.element),delete this._transitioning,a.isIEAndNotEdge()?setTimeout(function(){this._canShowFocusOutline=!0}.bind(this),0):this._canShowFocusOutline=!0},_handleUpAndDownArrows:function(e){if(this._isOpen){var t,n=this.children.indexOf(this._outlinedMapTypeNode||this._activeMapTypeNode);r.classList.contains(this.element,d.SHOW_FOCUS)?t="up"===e?Math.max(0,n-1):Math.min(n+1,this.children.length-1):(t=n,this._canShowFocusOutline=!0),this._clearOutline(),this._outlinedMapTypeNode=this.children[t],o(this._outlinedMapTypeNode.element)}},_clearOutline:function(){this._outlinedMapTypeNode&&(function(e){e.blur(),e.setAttribute("tabindex",-1),e.setAttribute("aria-checked",!1)}(this._outlinedMapTypeNode.element),this._outlinedMapTypeNode=null)},_clearPressedState:function(){this._clearState(d.PRESSED)},_clearState:function(e){var t=this.findNode((function(t){return r.classList.contains(t.element,e)}));t&&r.classList.remove(t.element,e)},_focusWhenClosed:function(){this._isOpen?r.classList.remove(this.element,d.OPENING):(this._shouldFocusOnClose&&this.element.focus(),this._shouldFocusOnClose=!1)},_updateAccessibilityState:function(){this._isOpen?(this.element.setAttribute("role","menu"),this.element.setAttribute("aria-expanded",!0),this.element.setAttribute("tabindex",-1)):(this.element.setAttribute("role","button"),this.element.setAttribute("aria-expanded",!1),this.element.setAttribute("tabindex",0)),this.children.forEach((function(e){var t=r.classList.contains(e.element,d.ACTIVE);e.element.setAttribute("tabindex",t&&this._isOpen?0:-1),e.element.setAttribute("aria-checked",t&&this._isOpen),this._isOpen?(e.element.setAttribute("role","menuitem"),e.element.removeAttribute("aria-hidden")):(e.element.removeAttribute("role"),t||e.element.setAttribute("aria-hidden",!0))}),this)}})},{"../localizer":182,"../utils":225,"./control":162,"@maps/dom-events":62,"@maps/js-utils":84,"@maps/render-tree":102}],167:[function(e,t,n){function i(e){u.EventTarget(this),this.element=s.htmlElement("div",{class:_.CONTROL,role:"button",tabindex:0}),this._compassNode=new m.Node(s.htmlElement("div",{class:_.WRAPPER})),this.element.appendChild(this._compassNode.element);var t=s.htmlElement("img",{class:_.COMPASS,role:"presentation"});t.src=a(),this._compass=t,this._compassNode.element.appendChild(t);var n=s.htmlElement("div",{class:_.NORTH_INDICATOR});this._compassNode.element.appendChild(n),this._northIndicator=n,this._map=e,this._rotation=0,this._activeKeyRightAt=null,this._activeKeyLeftAt=null,this._updateLabels(),this._setupGestureRecognizers(),c.call(this,this.element)}function o(e,t,n,i){var o=t-i,a=e-n;return e>n?t<i?90+r(Math.atan(o/a)):180-r(Math.atan(a/o)):t<i?360-r(Math.atan(a/o)):270+r(Math.atan(o/a))}function r(e){return 180*e/Math.PI}function a(e){var t=e||s.devicePixelRatio;return t=l.clamp(Math.floor(t),1,3),h.createImageUrl("icons/compass_"+t+"x.png")}var s=e("../utils"),l=e("@maps/js-utils"),c=e("./control"),u=e("@maps/dom-events"),h=e("../urls"),d=e("../localizer").l10n,p=e("@maps/gesture-recognizers"),m=e("@maps/render-tree"),f=e("@maps/scheduler"),g=e("../configuration"),_={CONTROL:"mk-rotation-control",ROTATION:"mk-rotation",COMPASS:"mk-compass",PRESSED:"mk-pressed",NORTH_INDICATOR:"mk-north-indicator",LONG_NORTH_INDICATOR:"mk-north-indicator-long",WRAPPER:"mk-rotation-wrapper"};i.prototype=l.inheritPrototype(c,i,{set rotation(e){this._rotation=e,this._rotateTo(e)},localeChanged:function(e){this._updateLabels()},mapWasDestroyed:function(){delete this._map},updateTintColor:function(e){this.tintColor!==e&&(this.tintColor=e,this._northIndicator.style.color=e)},updateImage:function(e){this._compass.src=a(e)},reset:function(e){this._map&&this._center&&this._map.compassDraggingDidEnd(),s.classList.remove(this.element,_.PRESSED),!e||e.target!==this._tapRecognizer&&e.keyCode!==l.KeyCodes.UpArrow&&e.keyCode!==l.KeyCodes.SpaceBar||this._map.setRotationAnimated(0,!0),delete this._angleOffset},spaceBarKeyDown:function(){this.reset(event)},upArrowKeyUp:function(e){this.reset(e)},rightArrowKeyDown:function(e){this._beginKeyboardRotate(e)},rightArrowKeyUp:function(e){this._endKeyboardRotate(e)},leftArrowKeyDown:function(e){this._beginKeyboardRotate(e)},leftArrowKeyUp:function(e){this._endKeyboardRotate(e)},performScheduledUpdate:function(){if(!this._activeKeyRightAt&&!this._activeKeyLeftAt)return!1;this._keyboardRotate(),f.scheduleOnNextFrame(this)},handleEvent:function(e){switch(e.target){case this._tapRecognizer:e.target.state===p.States.Recognized&&this.reset(e);break;case this._panRecognizer:e.target.state===p.States.Possible?this._beginDrag(e):e.target.state===p.States.Changed?this._drag(e):e.target.state!==p.States.Recognized&&e.target.state!==p.States.Failed||this.reset(e)}},fadeIn:function(){this.element.style.opacity=1},fadeOut:function(){this.element.style.opacity=0},_updateLabels:function(e){this._northIndicator.textContent=d.get("Compass.NorthIndicator"),s.updateLabel(this.element,d.get("Compass.Tooltip")),"ar"===g.language||"th"===g.language?s.classList.add(this._northIndicator,_.LONG_NORTH_INDICATOR):s.classList.remove(this._northIndicator,_.LONG_NORTH_INDICATOR)},_rotateTo:function(e){return Math.abs(e)<5&&(e=0),this._compassNode.transform="rotate("+e+"deg)",e},_setupGestureRecognizers:function(){var e=new p.Tap;e.numberOfTapsRequired=1,e.addEventListener("statechange",this),e.target=this.element,this._tapRecognizer=e;var t=new p.Pan;t.addEventListener("statechange",this),t.target=this.element,this._panRecognizer=t},removeEventListeners:function(){this._tapRecognizer.removeEventListener("statechange",this),this._tapRecognizer.enabled=!1,this._tapRecognizer.target=null,this._panRecognizer.removeEventListener("statechange",this),this._panRecognizer.enabled=!1,this._panRecognizer.target=null},_beginDrag:function(e){var t=this.element.getBoundingClientRect();this._center={x:t.right-t.width/2,y:t.bottom-t.height/2},this._map.compassDraggingWillStart(),s.classList.add(this.element,_.PRESSED),this._angleOffset=o(e.target.locationInClient().x,e.target.locationInClient().y,this._center.x,this._center.y)-this._map.rotation},_drag:function(e){var t=o(e.target.locationInClient().x,e.target.locationInClient().y,this._center.x,this._center.y)-this._angleOffset;t=this._rotateTo(t),this._map.setRotationAnimated(t,!1,!0)},_beginKeyboardRotate:function(e){var t=this._activeKeyRightAt&&e.keyCode===l.KeyCodes.RightArrow,n=this._activeKeyLeftAt&&e.keyCode===l.KeyCodes.LeftArrow;if(!t&&!n){var i=Date.now();e.keyCode===l.KeyCodes.RightArrow?this._activeKeyRightAt=i:this._activeKeyLeftAt=i,this._timeAtLastFrame=i,f.scheduleASAP(this)}},_keyboardRotate:function(){var e=Math.max(this._activeKeyRightAt||0,this._activeKeyLeftAt||0);if(e&&this._timeAtLastFrame){var t=Date.now(),n=this._rotation,i=t-this._timeAtLastFrame;n+=(4*(e===this._activeKeyLeftAt)?-1:1)*(60*i)/1e3,this._map.rotation=n,this._timeAtLastFrame=Date.now()}},_endKeyboardRotate:function(e){e.keyCode===l.KeyCodes.RightArrow?this._activeKeyRightAt=null:this._activeKeyLeftAt=null,this._activeKeyRightAt||this._activeKeyLeftAt||(this._timeAtLastFrame=null)}}),t.exports=i},{"../configuration":159,"../localizer":182,"../urls":222,"../utils":225,"./control":162,"@maps/dom-events":62,"@maps/gesture-recognizers":72,"@maps/js-utils":84,"@maps/render-tree":102,"@maps/scheduler":106}],168:[function(e,t,n){function i(e){this._map=e,this.scene=new h.Scene,this.scene.size=m,this.node=this.scene.addChild(new u),this.node.size=m,this.node.position=new c(0,0),this.node.opacity=0,this.node.l10n=s,o.call(this,this.scene.element),this.element.classList.add(f.Control),this.size=m}var o=e("./control"),r=e("../../../lib/geo"),a=e("@maps/js-utils"),s=e("../localizer").l10n,l=e("@maps/device-pixel-ratio"),c=e("@maps/geometry/point"),u=e("../../../lib/scale-node"),h=e("../../../lib/scene-graph"),d=e("@maps/geometry/size"),p=e("../constants").FeatureVisibility,m=new d(170,20),f={Control:"mk-scale"};i.prototype=a.inheritPrototype(o,i,{get shouldDisplayScale(){return this._map._showsScale===p.Visible||this._map._showsScale===p.Adaptive&&this._map.cameraIsZooming},updateThemeForMap:function(t){var n=e("../map");this.node.theme=u.Themes[t._mapType===n.MapTypes.Standard?"Light":"Dark"]},update:function(){var e=this._map;if(this.node&&this.shouldDisplayScale){var t=e.renderingMapRect.origin.toCoordinate().latitude,n=e.renderingMapRect.size.width/r.mapUnitsPerMeterAtLatitude(t);n/e._visibleFrame.size.width*l()>=7500?this.hideIfNeeded(!0):(this.node.distance=n,this.node.setOpacityAnimated(1,!1))}},hideIfNeeded:function(e){!this.node||this.shouldDisplayScale&&!e||this.node.setOpacityAnimated(0,!0)}}),t.exports=i},{"../../../lib/geo":2,"../../../lib/scale-node":37,"../../../lib/scene-graph":47,"../constants":161,"../localizer":182,"../map":185,"./control":162,"@maps/device-pixel-ratio":61,"@maps/geometry/point":69,"@maps/geometry/size":71,"@maps/js-utils":84}],169:[function(e,t,n){function i(e,t){s.call(this,o.htmlElement("div",{class:d.CONTROL,role:"button",tabindex:"0"})),l.EventTarget(this),this._arrowIconNode=new u.Node(function(){var e=o.svgElement("path"),t=o.createSVGIcon(e);return e.parentNode.appendChild(o.svgElement("path")),t.setAttribute("class",t.getAttribute("class")+" "+d.ARROW_ICON),t}()),this._waitingIconNode=new u.Node(function(){var e=o.svgElement("path");e.setAttribute("d","M14.5732357,10 C13.5436447,12.9129809 10.7655471,15 7.5,15 C3.35786438,15 0,11.6421356 0,7.5 C0,3.35786438 3.35786438,0 7.5,0 C10.7655471,0 13.5436447,2.08701907 14.5732357,5 L13.5018367,5 C12.522277,2.65104815 10.20395,1 7.5,1 C3.91014913,1 1,3.91014913 1,7.5 C1,11.0898509 3.91014913,14 7.5,14 C10.20395,14 12.522277,12.3489518 13.5018367,10 L14.5732357,10 L14.5732357,10 Z");var t=o.createSVGIcon(e,{viewBox:"0 0 15 15"});return t.setAttribute("class",t.getAttribute("class")+" "+d.WAITING_ICON),t}()),this.element.appendChild(this._arrowIconNode.element),this.element.appendChild(this._waitingIconNode.element),this._updateLabels(),this.updateIcons(o.devicePixelRatio),this._map=e,this._showsErrorMessage=!1,this._rtl=t}var o=e("../utils"),r=e("@maps/scheduler"),a=e("@maps/js-utils"),s=e("./control"),l=e("@maps/dom-events"),c=e("../localizer").l10n,u=e("@maps/render-tree");t.exports=i;var h={"1x":["M0,6 L8,6 L8,14 L14,0 Z","M3.65,5.25 L8.75,5.25 L8.75,10.35 L12.6,1.4 Z"],"2x":["M0,12 L16,12 L16,28 L28,0 Z","M7.3,10.5 L17.5,10.5 L17.5,20.7 L25.2,2.8 Z"],"3x":["M0,18 L24,18 L24,42 L42,0 Z","M10.95,15.75 L26.25,15.75 L26.25,31.05 L37.8,4.2 Z"]},d={CONTROL:"mk-user-location-control",BUTTON_USER_LOCATION:"mk-user-location-button",PRESSED:"mk-pressed",TRACKING:"mk-tracking",WAITING:"mk-waiting",DISABLED:"mk-disabled",WAITING_ICON:"mk-icon-waiting",ARROW_ICON:"mk-icon-arrow",ERROR:"mk-error-message",ERROR_TEXT:"mk-error-text",ERROR_SUPPORT:"mk-error-support",ERROR_ANIMATE_IN:"mk-error-message-pop"};i.States={Default:"default",Waiting:"waiting",Tracking:"tracking",Disabled:"disabled"},i.EVENTS={PRESSED:"pressed"},i.prototype=a.inheritPrototype(s,i,{_state:i.States.Default,_tintColor:"",_arrowIconDurationMs:200,_waitingIconDurationMs:200,_waitingIconCycleTimeMs:1500,get state(){return this._state},set state(e){this._state!==e&&(this._state=e,o.classList.toggle(this.element,d.TRACKING,this.isTrackingState()),o.classList.toggle(this.element,d.WAITING,this.isWaitingState()),o.classList.toggle(this.element,d.DISABLED,this.isDisabledState()),this.updateTintColor(this._tintColor),!this.isWaitingState()&&this._waitingIconInStart&&(this._waitingIconOutStart=Date.now(),r.scheduleOnNextFrame(this)),this.isWaitingState()&&(this._arrowIconOutStart=Date.now(),r.scheduleOnNextFrame(this)),this.isDisabledState()?this._arrowIconNode.opacity=.3:this._arrowIconNode.opacity=1)},isDefaultState:function(){return this.state===i.States.Default},toDefaultState:function(){this.state=i.States.Default,this._removeErrorMessage()},isTrackingState:function(){return this.state===i.States.Tracking},toTrackingState:function(){this.state=i.States.Tracking,this._removeErrorMessage()},isWaitingState:function(){return this.state===i.States.Waiting},toWaitingState:function(){this.state=i.States.Waiting},isDisabledState:function(){return this.state===i.States.Disabled},toDisabledState:function(){if(!this._map.tracksUserLocation||!this._map.userLocationAnnotation)if(this.state=i.States.Disabled,this._showsErrorMessage)this._removeErrorMessage();else{if(0===this.element.getBoundingClientRect().width)return;this._errorMessageNode||(this._errorMessageElement=this._createErrorMessageElement(),this._errorMessageNode=new u.Node(this._errorMessageElement)),this._addUpdatedErrorMessage()}},handleEvent:function(e){switch(e.type){case o.touchstartOrMousedown:e.target===this._errorMessageElement||this._errorMessageElement.contains(e.target)||(this._removeErrorMessage(),window.removeEventListener(o.touchstartOrMousedown,this,!0));break;case"animationend":case"webkitAnimationEnd":"mk-fadeout"===e.animationName&&this._errorMessageNode.remove(),this._errorMessageElement.removeEventListener("animationend",this),this._errorMessageElement.removeEventListener("webkitAnimationEnd",this);break;case"keydown":27===e.keyCode&&this._removeErrorMessage(),window.removeEventListener("keydown",this,!0)}},touchesBegan:function(e){this._pressed(e)},touchesEnded:function(e){this.reset(),this.dispatchEvent(new l.Event(i.EVENTS.PRESSED))},touchesCanceled:function(e){this.reset()},spaceBarKeyDown:function(e){this._pressed(e)},spaceBarKeyUp:function(e){this.reset(e),this.dispatchEvent(new l.Event(i.EVENTS.PRESSED))},updateTintColor:function(e){this._tintColor=e,this._arrowIconNode.element.querySelector("g").style.fill=this.isTrackingState()?"":e,this._waitingIconNode.element.querySelector("g").style.fill=e,this.element.style.backgroundColor=this.isTrackingState()?e:""},updateIcons:function(e){var t=14*(e=e||1);this._arrowIconNode.element.setAttribute("viewBox",[0,0,t,t].join(" "));for(var n=this._arrowIconNode.element.querySelectorAll("path"),i=0,o=n.length;i<o;++i)n[i].setAttribute("d",h[e+"x"][i])},reset:function(){o.classList.contains(this.element,d.PRESSED)&&(o.classList.remove(this.element,d.PRESSED),this.isDefaultState()||this.isDisabledState()?this.toWaitingState():this.toDefaultState()),delete this._mousedown,window.removeEventListener(o.touchendOrMouseup,this),o.supportsTouches&&window.removeEventListener("touchcancel",this)},localeChanged:function(e){this._updateLabels(),this._rtl=e.locale.rtl,this._showsErrorMessage&&(this._removeErrorMessage(),this._addUpdatedErrorMessage())},remove:function(){this._removeErrorMessage(),s.prototype.remove.call(this)},performScheduledUpdate:function(){this._arrowIconOutStart&&this._animateArrowIconOut(),this._waitingIconInStart&&this._animateWaitingIconIn(),this._waitingIconOutStart&&this._animateWaitingIconOut(),this._waitingIconSpinStart&&this._animateWaitingIconSpin()},mapWasDestroyed:function(){delete this._map},blurred:function(e){this._removeErrorMessage()},_updateLabels:function(){o.updateLabel(this.element,c.get("Track.User.Location.Tooltip"))},_pressed:function(e){var t=o.parentNodeForSvgTarget(e.target);o.classList.add(t,d.PRESSED)},_animateArrowIconOut:function(){var e=Math.min((Date.now()-this._arrowIconOutStart)/this._arrowIconDurationMs,1),t=Math.max(0,1-e);this._arrowIconNode.opacity=t,this._arrowIconNode.transform="scale("+t+")",this.isWaitingState()&&!this._waitingIconInStart&&e>.15&&(this._waitingIconInStart=Date.now(),r.scheduleOnNextFrame(this)),this.isWaitingState()||(delete this._arrowIconOutStart,this._arrowIconNode.opacity=this.isDisabledState()?.3:1,this._arrowIconNode.transform="scale(1)"),e<1?r.scheduleOnNextFrame(this):delete this._arrowIconOutStart},_animateWaitingIconIn:function(){var e=Math.min((Date.now()-this._waitingIconInStart)/this._waitingIconDurationMs,1),t=Math.min(1,e);this._waitingIconNode.opacity=t,this._waitingIconNode.transform="scale("+t+")",e<1?r.scheduleOnNextFrame(this):(delete this._waitingIconInStart,this.isWaitingState()&&(this._waitingIconSpinStart=Date.now(),r.scheduleOnNextFrame(this)))},_animateWaitingIconOut:function(){var e=Math.min((Date.now()-this._waitingIconOutStart)/this._waitingIconDurationMs,1),t=Math.max(0,1-e);this._waitingIconNode.opacity=t,this._waitingIconNode.transform="scale("+t+")",e<1?r.scheduleOnNextFrame(this):(delete this._waitingIconOutStart,this._arrowIconNode.opacity=this.isDisabledState()?.3:1,this._arrowIconNode.transform="scale(1)")},_animateWaitingIconSpin:function(){var e=(Date.now()-this._waitingIconSpinStart)%this._waitingIconCycleTimeMs/this._waitingIconCycleTimeMs,t=2*Math.PI*e;this._waitingIconNode.transform="rotate("+t+"rad)",this.isWaitingState()||(delete this._waitingIconSpinStart,this._waitingIconOutStart=Date.now()),r.scheduleOnNextFrame(this)},_createErrorMessageElement:function(){var e=o.htmlElement("div",{class:d.ERROR});return this._supportLink=o.htmlElement("a",{class:d.ERROR_SUPPORT,target:"__blank"}),e.appendChild(o.htmlElement("span",{class:d.ERROR_TEXT})),e.appendChild(this._supportLink),e},_updateErrorMessage:function(){this._errorMessageElement.getElementsByClassName(d.ERROR_TEXT)[0].textContent=c.get("Location.Error.Message")+" ",this._supportLink.textContent=c.get("Location.Error.Support.Label"),this._supportLink.href=c.get("Location.Error.Support.URL")},_positionErrorMessage:function(){var e,t,n=this.element.getBoundingClientRect(),i=this._map.element.getBoundingClientRect();e="left"===this._messagePlacementSide()?n.left+n.width+9-i.left-this._map.padding.left:i.right-n.right+9+n.width-this._map.padding.right,t=i.bottom-n.bottom-this._map.padding.bottom,this._errorMessageElement.removeAttribute("style"),this._errorMessageElement.style[this._messagePlacementSide()]=e+"px",this._errorMessageElement.style.bottom=t+"px"},_addUpdatedErrorMessage:function(){this._showsErrorMessage=!0,this._updateErrorMessage(),this._positionErrorMessage(),this._animateErrorMessageIn(),this.parent.parent.addChild(this._errorMessageNode),window.addEventListener(o.touchstartOrMousedown,this,!0),window.addEventListener("keydown",this,!0)},_removeErrorMessage:function(){this._errorMessageNode&&(o.classList.remove(this._errorMessageElement,d.ERROR_ANIMATE_IN),this._showsErrorMessage=!1,this._errorMessageElement.style.webkitAnimation=this._errorMessageElement.style.animation="mk-fadeout 300ms ease-out",this._errorMessageElement.style.webkitAnimationName||this._errorMessageElement.style.animationName?(this._errorMessageElement.addEventListener("animationend",this),this._errorMessageElement.addEventListener("webkitAnimationEnd",this)):this._errorMessageNode.remove(),window.removeEventListener(o.touchstartOrMousedown,this,!0))},_animateErrorMessageIn:function(){o.classList.remove(this._errorMessageElement,d.ERROR_ANIMATE_OUT),o.classList.add(this._errorMessageElement,d.ERROR_ANIMATE_IN)},_messagePlacementSide:function(){return this._rtl?"left":"right"}})},{"../localizer":182,"../utils":225,"./control":162,"@maps/dom-events":62,"@maps/js-utils":84,"@maps/render-tree":102,"@maps/scheduler":106}],170:[function(e,t,n){function i(){l.EventTarget(this);var e=r.htmlElement("div",{class:u.CONTROL});this._zoomOutButton=e.appendChild(r.htmlElement("div",{class:u.BUTTON_ZOOM_OUT,role:"button",tabindex:"0"})),this._zoomOutButton.appendChild(function(){var e=r.svgElement("rect",{x:1,y:6,width:12,height:1});return r.createSVGIcon(e,{viewBox:"0 0 13 13"})}()),e.appendChild(r.htmlElement("div",{class:u.BUTTON_DIVIDER})),this._zoomInButton=e.appendChild(r.htmlElement("div",{class:u.BUTTON_ZOOM_IN,role:"button",tabindex:"0"})),this._zoomInButton.appendChild(function(){var e=r.svgElement("path");return e.setAttribute("d","M7,6 L7,1 L6,1 L6,6 L1,6 L1,7 L6,7 L6,12 L7,12 L7,7 L12,7 L12,6 L7,6 Z"),r.createSVGIcon(e,{viewBox:"0 0 13 13"})}()),this._updateLabels(),s.call(this,e)}function o(e,t){t?(r.classList.remove(e,u.DISABLED),e.removeAttribute("aria-disabled"),e.setAttribute("tabindex",0)):(r.classList.add(e,u.DISABLED),e.setAttribute("aria-disabled","true"),e.setAttribute("tabindex",-1))}var r=e("../utils"),a=e("@maps/js-utils"),s=e("./control"),l=e("@maps/dom-events"),c=e("../localizer").l10n;t.exports=i;var u={CONTROL:"mk-zoom-controls",BUTTON_DIVIDER:"mk-divider",BUTTON_ZOOM_IN:"mk-zoom-in",BUTTON_ZOOM_OUT:"mk-zoom-out",PRESSED:"mk-pressed",DISABLED:"mk-disabled"};i.EVENTS={ZOOM_START:"zoom-start",ZOOM_END:"zoom-end"},i.prototype=a.inheritPrototype(s,i,{_zoomInEnabled:!0,_zoomOutEnabled:!0,get zoomInEnabled(){return this._zoomInEnabled},set zoomInEnabled(e){this._enabled&&e===this._zoomInEnabled||(this._zoomInEnabled=this._enabled&&e,o(this._zoomInButton,this._zoomInEnabled))},get zoomOutEnabled(){return this._zoomOutEnabled},set zoomOutEnabled(e){this._enabled&&e===this._zoomOutEnabled||(this._zoomOutEnabled=this._enabled&&e,o(this._zoomOutButton,this._zoomOutEnabled))},localeChanged:function(e){this._updateLabels()},touchesBegan:function(e){this._pressed(e)},touchesEnded:function(e){this.reset(e)},touchesCanceled:function(e){this.reset(e)},focused:function(e){this.updateTintColor(this.tintColor),e.target.style.fill=r.focusColor},blurred:function(e){this.updateTintColor(this.tintColor)},spaceBarKeyDown:function(e){this._pressed(e)},spaceBarKeyUp:function(e){this.reset(e)},updateTintColor:function(e){this.tintColor=e,this._zoomInButton.querySelector(".mk-icon").style.fill=e,this._zoomOutButton.querySelector(".mk-icon").style.fill=e},reset:function(e){var t=this.element.querySelector("."+u.PRESSED);if(t){var n=Date.now()-this._zoomStartTimestamp;r.classList.remove(t,u.PRESSED);var o=new l.Event(i.EVENTS.ZOOM_END);o.dt=n,this.dispatchEvent(o)}e&&e.keyCode!==a.KeyCodes.SpaceBar&&this.blurFocusedElement(),delete this._zoomStartTimestamp,window.removeEventListener(r.touchendOrMouseup,this),r.supportsTouches&&window.removeEventListener("touchcancel",this)},_clearLabels:function(e){r.updateLabel(this._zoomInButton,""),r.updateLabel(this._zoomOutButton,"")},_updateLabels:function(e){r.updateLabel(this._zoomInButton,c.get("Zoom.In.Tooltip")),r.updateLabel(this._zoomOutButton,c.get("Zoom.Out.Tooltip"))},_pressed:function(e){var t=r.parentNodeForSvgTarget(e.target);r.classList.add(t,u.PRESSED),this._zoomStartTimestamp=Date.now();var n=new l.Event(i.EVENTS.ZOOM_START);n.zoomIn=r.classList.contains(t,u.BUTTON_ZOOM_IN),this.dispatchEvent(n)}})},{"../localizer":182,"../utils":225,"./control":162,"@maps/dom-events":62,"@maps/js-utils":84}],171:[function(e,t,n){"use strict";function i(e){var t=e.toMapPoint(),n=l*o.tileSize;return{x:Math.floor(t.x*n),y:Math.floor(t.y*n),z:s}}var o=e("../../lib/geo"),r=e("@maps/loaders").XHRLoader,a=o.MapPoint,s=21,l=Math.pow(2,s);n.shift=function(e,t,n){!function(e,t,n){new r(t,{getDataToSend:function(){return e},loaderDidSucceed:function(e,t){if(t.status<200||t.status>=300)n(new Error("HTTP error:"+t.status));else try{n(null,JSON.parse(t.responseText))}catch(e){return void n(new Error("Failed to parse response: "+t.responseText))}},loaderDidFail:function(e,t){n(new Error("Network error"))}},{method:"POST"}).schedule()}(JSON.stringify({pixelPoint:i(e)}),t,(function(e,t){e?n(new Error):t&&t.shiftedPixelPoint?n(null,function(e){function t(e){return e/l/o.tileSize}return new a(t(e.x),t(e.y)).toCoordinate()}(t.shiftedPixelPoint)):n(new Error)}))}},{"../../lib/geo":2,"@maps/loaders":85}],172:[function(e,t,n){t.exports='.mk-map-view{width:100%;height:100%;overflow:hidden;-webkit-tap-highlight-color:transparent}.mk-map-view.mk-dragging-annotation{cursor:none}.mk-map-view.mk-dragging-annotation .mk-legal,.mk-map-view.mk-dragging-annotation .mk-map-type,.mk-map-view.mk-dragging-annotation .mk-user-location-control,.mk-map-view.mk-dragging-annotation .mk-zoom-in,.mk-map-view.mk-dragging-annotation .mk-zoom-out{cursor:none}.mk-annotation-container,.mk-map-view{z-index:0}.mk-map-view>*{position:absolute;-webkit-user-select:none;-moz-user-select:none}.mk-map-node-element{background-color:rgba(0,0,0,0)}.mk-map-view .rt-root{left:0;letter-spacing:.3px}.mk-map-view .mk-annotation-container,.mk-map-view .mk-controls-container{-ms-user-select:text}.mk-map-view .mk-annotation-container.mk-dragging ::selection,.mk-map-view .mk-annotation-container>div:first-child ::selection,.mk-map-view .mk-controls-container ::selection,.mk-map-view.mk-panning ::selection{background:0 0}.mk-map-view.mk-dragging-cursor{cursor:pointer;cursor:-moz-grabbing;cursor:-webkit-grabbing;cursor:grabbing}.mk-map-view>iframe{width:100%;height:100%;pointer-events:none;opacity:0;border:0}.mk-map-view>.mk-grid{width:100%;height:100%}.mk-map-view .mk-tile-grid{position:absolute;pointer-events:none;background-repeat:no-repeat}.mk-invisible{opacity:0;pointer-events:none}.mk-hidden{display:none}.mk-annotation-container>div,.mk-annotation-container>div>*{position:absolute;top:0;left:0}.mk-annotation-container .mk-selected{z-index:1}.mk-annotation-container .mk-lifted{z-index:2}.mk-callout{position:absolute;top:0;left:0;pointer-events:auto;-webkit-user-select:auto;-moz-user-select:text;-ms-user-select:text}.mk-callout>*{position:absolute;top:0;left:0}svg.mk-bubble{display:block;width:100%;height:100%}div.mk-callout-accessory{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);overflow:hidden}div.mk-callout-accessory-content{white-space:nowrap;position:relative;text-align:center;font-size:12px}div.mk-callout-accessory:first-child{left:0}div.mk-callout-accessory:last-child{right:0}div.mk-callout-accessory:first-child .mk-callout-accessory-content{padding-right:8px}div.mk-callout-accessory:last-child .mk-callout-accessory-content{padding-left:8px}div.mk-callout-accessory:first-child+.mk-callout-content{padding-left:8px}div.mk-standard .mk-callout-content:nth-last-child(2){padding-right:8px}div.mk-standard{font-family:"-apple-system",BlinkMacSystemFont,"Helvetica Neue",Helvetica,Arial,sans-serif;box-sizing:border-box;position:relative}div.mk-custom-content,div.mk-standard{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}div.mk-standard .mk-callout-content>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div.mk-standard .mk-callout-content{padding:0 4px}div.mk-standard .mk-title{font-size:17px;font-weight:500;color:#000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:.025em}div.mk-standard.mk-no-subtitle.mk-no-accessories .mk-title{text-align:center}div.mk-standard .mk-subtitle{font-size:13px;color:rgba(0,0,0,.7);letter-spacing:.025em}svg.mk-bubble path{fill:#fff;stroke:rgba(0,0,0,.2)}.mk-top-left-controls-container,.mk-top-right-controls-container{position:absolute;top:12px;left:12px}.mk-top-right-controls-container{left:auto;right:12px}.mk-bottom-right-controls-container .mk-control:last-child.mk-user-location-control{right:0}.mk-control.mk-pressed{background:#ededed}.mk-scale{vertical-align:top}.mk-user-location-control{position:absolute;right:60px;bottom:0;cursor:pointer;position:relative;width:23px;height:23px;background-color:#fff;box-shadow:0 0 0 1px #bfbfbf;border-radius:4px;pointer-events:auto;margin:0;-webkit-transition:background-color .2s ease;-ms-transition:background-color .2s ease;transition:background-color .2s ease}.mk-user-location-control .mk-icon{pointer-events:none;position:absolute;top:0;left:0;width:14px;height:14px;margin:5px 5px 4px 4px}.mk-user-location-control .mk-icon-waiting{opacity:0;top:-1px;left:1px}.mk-user-location-control .mk-icon path:nth-child(2){fill:#fff}.mk-user-location-control.mk-tracking{box-shadow:0 0 0 1px rgba(255,255,255,.7);background-color:#007aff}.mk-user-location-control.mk-tracking .mk-icon{fill:#fff}.mk-user-location-control.mk-focus{box-shadow:0 0 0 3px rgba(0,122,255,.2),0 0 0 1px #007aff}.mk-user-location-control.mk-pressed.mk-focus{background-color:#e0ecfa}.mk-user-location-control.mk-tracking.mk-focus{background-color:#007aff;box-shadow:0 0 0 3px rgba(0,122,255,.2)}.mk-user-location-control.mk-focus:not(.mk-tracking) .mk-icon{fill:#007aff;fill-rule:nonzero}.mk-error-message{font-family:"-apple-system-font","Helvetica Neue",Helvetica,Arial,sans-serif;position:absolute;background-color:rgba(250,250,250,.95);color:#333;font-size:13px;bottom:0;box-shadow:0 0 0 1px #bfbfbf;opacity:0;border-radius:5px;padding:7px;max-width:250px;pointer-events:auto;-webkit-transform-origin:100% 50% 0;transform-origin:100% 50% 0}.mk-error-support{white-space:nowrap}.mk-error-message-pop{-webkit-animation-name:mk-pop;animation-name:mk-pop;-webkit-animation-duration:.7s;animation-duration:.7s;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes mk-pop{0%{-webkit-transform:translate3d(0,0,0) scale3d(.01,.05,1);opacity:0}50%{opacity:0}70%{-webkit-transform:scale3d(1.1,1.1,1)}85%{-webkit-transform:scale3d(.95,.95,1)}100%{-webkit-transform:translate3d(0,0,0) scale3d(1,1,1);opacity:1}}@keyframes mk-pop{0%{transform:translate3d(0,0,0) scale3d(.01,.05,1);opacity:0}50%{opacity:0}70%{transform:scale3d(1.1,1.1,1)}85%{transform:scale3d(.95,.95,1)}100%{transform:translate3d(0,0,0) scale3d(1,1,1);opacity:1}}.mk-controls-container{position:absolute;overflow:hidden;top:0;bottom:0;left:0;right:0;z-index:3;pointer-events:none}.mk-controls-container :focus{outline:0}.mk-logo-control{position:absolute;bottom:0;left:0}.mk-logo-control .mk-logo{vertical-align:bottom;width:40px;height:46px}.mk-logo-control .mk-logo.mk-logo-autonavi{width:68px;height:45px}.mk-bottom-right-controls-container{position:absolute;bottom:12px;right:12px}.mk-bottom-right-controls-container .mk-control:last-child.mk-rotation-control{bottom:-2px}.mk-legal-controls{display:inline-block;vertical-align:top;margin-bottom:2px;pointer-events:auto;overflow:hidden}.mk-legal-controls .mk-pressed{background:rgba(0,0,0,.07)}.mk-legal-controls .mk-legal{color:rgba(0,0,0,.7);font:9px "-apple-system-font","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:500;text-decoration:underline;text-shadow:0 0 1px rgba(255,255,255,.85);pointer-events:auto;white-space:nowrap;cursor:pointer;padding:4px 5px 6px 5px}.mk-legal-controls .mk-legal.mk-legal-satellite{color:rgba(255,255,255,.9);text-shadow:0 0 1px rgba(0,0,0,.5),0 0 10px rgba(0,0,0,1)}.mk-legal-controls.mk-focus{background-color:#e2eef9;border-radius:2px;box-shadow:0 0 0 1px #007aff}.mk-legal-controls.mk-focus .mk-legal{color:#157efb;text-shadow:none}.mk-legal-info{z-index:1;box-sizing:border-box;position:absolute;top:-12px;right:-12px;padding:0 0 1px 1px;background:rgba(0,0,0,.2);-webkit-transform:translate3d(0,-100%,0) translateY(2px);-ms-transform:translateY(-100%) translateY(2px);transform:translate3d(0,-100%,0) translateY(2px);-webkit-transition:-webkit-transform .3s;-ms-transition:-ms-transform .3s;transition:transform .3s}.mk-legal-info.mk-open{-webkit-transform:translate3d(0,0,0);-ms-transform:translateY(0);transform:translate3d(0,0,0)}.mk-legal-info .mk-legal-info-container{background:#fff}.mk-legal-info .mk-legal-info-container>header{height:27px;background:rgba(0,0,0,.04)}.mk-legal-info header{position:relative}.mk-legal-info .mk-close{position:relative;cursor:pointer;pointer-events:auto;width:27px;height:27px}.mk-legal-controls .mk-close svg{position:absolute;pointer-events:none;height:11px;width:11px;top:8px;left:8px}.mk-legal-controls.mk-focus .mk-legal-info .mk-close:focus svg{border:1px solid #007aff;border-radius:2px;padding:3px;top:4px;left:4px;fill:#007aff}.mk-legal-controls.mk-focus .mk-legal-info .mk-pressed:focus{background:0 0}.mk-legal-controls.mk-focus .mk-legal-info .mk-close.mk-pressed:focus svg,.mk-legal-controls.mk-focus .mk-legal-info .mk-legal-info-item.mk-pressed:focus{background:rgba(0,122,255,.1)}.mk-legal-info .mk-legal-info-item{display:block;cursor:pointer;text-decoration:none;text-align:left;font:13px/16px "-apple-system-font",HelveticaNeue-Medium,Helvetica,Arial,sans-serif;color:#212121;padding:6px 10px;pointer-events:auto;white-space:nowrap}.mk-legal-controls.mk-focus .mk-legal-info .mk-legal-info-item:focus{color:#007aff!important;box-shadow:0 0 0 3px rgba(0,122,255,.2),0 0 0 1px #007aff}.mk-legal-info .mk-legal-attribution-item{color:#b2b2b2;font:13px/1.2em "-apple-system-font","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:500;letter-spacing:.5px}.mk-legal-info .mk-legal-attribution-item img{border:none}.mk-legal-info .mk-legal-info-item .mk-attribution-logo{margin-bottom:-7px;pointer-events:none}.mk-legal-info .mk-legal-info-item .mk-right-caret{pointer-events:none;display:inline-block;position:relative;width:7px;height:9px}.mk-legal-info .mk-legal-info-item .mk-right-caret svg{position:absolute;width:7px;height:9px;top:1px;fill:none;stroke-width:1.5;stroke:#8e8e8e}.mk-legal-controls.mk-focus .mk-legal-info .mk-legal-info-item:focus svg{stroke:#007aff}.mk-legal-info .mk-legal-info-container .mk-divider{height:1px;background-color:rgba(0,0,0,.2)}.mk-legal-info[aria-hidden=true]{visibility:hidden}.mk-zoom-controls{position:absolute;right:0;bottom:0;width:51px;height:23px;background:#fff;box-shadow:0 0 0 1px #bfbfbf;border-radius:4px;pointer-events:auto}.mk-zoom-controls .mk-icon{position:absolute;pointer-events:none;width:13px;height:13px;margin:5px 6px;fill:#333}.mk-zoom-controls .mk-disabled,.mk-zoom-controls.mk-disabled .mk-zoom-in,.mk-zoom-controls.mk-disabled .mk-zoom-out{opacity:.25}.mk-zoom-controls .mk-zoom-in,.mk-zoom-controls .mk-zoom-out{position:absolute;z-index:2;width:25px;height:23px;cursor:pointer;transform:translateZ(0)}.mk-zoom-controls .mk-zoom-in{border-top-right-radius:inherit;border-bottom-right-radius:inherit;right:0}.mk-zoom-controls .mk-zoom-out{border-top-left-radius:inherit;border-bottom-left-radius:inherit}.mk-zoom-controls.mk-focus{background:#fafafa;box-shadow:0 0 0 3px rgba(0,122,255,.2)}.mk-zoom-controls.mk-focus .mk-zoom-in:focus,.mk-zoom-controls.mk-focus .mk-zoom-out:focus{box-shadow:0 0 0 1px #007aff}.mk-zoom-controls.mk-focus .mk-zoom-in.mk-pressed:focus,.mk-zoom-controls.mk-focus .mk-zoom-out.mk-pressed:focus{background:rgba(0,122,255,.1)}.mk-zoom-controls.mk-focus .mk-zoom-in:focus .mk-icon,.mk-zoom-controls.mk-focus .mk-zoom-out:focus .mk-icon{fill:#007aff}.mk-zoom-controls .mk-pressed{background:#ededed}.mk-zoom-controls .mk-divider{position:absolute;left:25px;width:1px;height:23px;border-left:1px solid #bfbfbf;box-sizing:border-box}.mk-map-type-control{display:inline-block;vertical-align:top;height:23px;margin-left:7px;overflow:hidden;background:#fff;box-shadow:0 0 0 1px #bfbfbf;border-radius:4px;pointer-events:auto;-webkit-transition:height .3s,margin-top .3s;-ms-transition:height .3s,margin-top .3s;transition:height .3s,margin-top .3s}.mk-map-type-control .mk-map-type{position:relative;cursor:pointer;font:13px/23px "-apple-system-font",HelveticaNeue-Medium,Helvetica,Arial,sans-serif;color:#424242;letter-spacing:.1px;text-align:left;padding:0 24px 0 6px;margin-top:-24px;border-bottom:1px solid #e1e1e1;opacity:0}.mk-map-type-control .mk-map-type.mk-active{margin-top:auto;opacity:1}.mk-map-type-control .mk-map-type.mk-active .mk-icon{pointer-events:none;position:absolute;width:9px;height:6px;right:5px;top:9px;fill:none;stroke-width:1.5;stroke:#7c7c7c}.mk-map-type-control .mk-map-type.mk-pressed{background:#ededed}.mk-map-type-control.mk-open.mk-opening{overflow:hidden}.mk-map-type-control.mk-open{height:71px;overflow:visible}.mk-map-type-control.mk-open .mk-map-type{position:relative;opacity:1;margin-top:auto}.mk-map-type-control:not(.mk-open) .mk-map-type.mk-active{border-bottom:none;border-radius:3px}.mk-map-type-control.mk-open .mk-map-type:first-child{border-radius:3px 3px 0 0}.mk-map-type-control.mk-open .mk-map-type:last-child{border:none;border-radius:0 0 3px 3px}.mk-map-type-control.mk-open .mk-map-type.mk-active{margin-top:auto;opacity:1}.mk-map-type-control.mk-open .mk-map-type.mk-active .mk-icon{width:11px;height:9px;right:5px;top:7px;stroke:none;fill:#333}.mk-map-type-control.mk-focus.mk-show-focus{background-color:#fff;box-shadow:0 0 0 1px #007aff,0 0 0 3px rgba(0,122,255,.2)}.mk-map-type-control.mk-focus.mk-show-focus:not(.mk-open) .mk-map-type.mk-active{color:#007aff!important}.mk-map-type-control.mk-focus.mk-show-focus:not(.mk-open) .mk-map-type.mk-pressed.mk-active{background-color:rgba(0,122,255,.1)}.mk-map-type-control.mk-focus.mk-show-focus:not(.mk-open) .mk-map-type.mk-active .mk-icon{stroke:#007aff!important}.mk-map-type-control.mk-open.mk-focus.mk-show-focus{box-shadow:0 0 0 3px rgba(0,122,255,.2)}.mk-map-type-control.mk-open.mk-focus .mk-map-type.mk-active{color:#424242}.mk-map-type-control.mk-open .mk-map-type.mk-active .mk-icon{stroke:none!important;fill:#333}.mk-map-type-control.mk-open .mk-map-type.mk-active.mk-focus .mk-icon,.mk-map-type-control.mk-open.mk-show-focus .mk-map-type.mk-active:focus .mk-icon{fill:#007aff!important}.mk-map-type-control.mk-open.mk-show-focus .mk-map-type:focus{color:#007aff!important;box-shadow:0 0 0 1px #007aff}.mk-map-type-control.mk-open:focus.mk-show-focus .mk-map-type.mk-pressed:focus{background-color:rgba(0,122,255,.1)}.mk-style-helper{opacity:0;pointer-events:none}.mk-rotation-control{width:53px;height:53px;cursor:-webkit-grab;cursor:grab;pointer-events:auto;position:absolute;bottom:33px;right:-1px;border-radius:50px;box-shadow:0 1px 3px rgba(0,0,0,.1);z-index:-1;overflow:hidden;line-height:0;-webkit-transition:opacity .1s cubic-bezier(.19,1,.22,1);transition:opacity .1s cubic-bezier(.19,1,.22,1)}.mk-rotation-control{-webkit-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.mk-rotation-control>.mk-rotation-wrapper{width:53px;height:53px;position:absolute;will-change:transform}.mk-rotation-control.mk-pressed{cursor:-webkit-grabbing;cursor:grabbing}.mk-rotation-control .mk-compass{width:53px}.mk-rotation-control .mk-north-indicator{font:16px/18px "-apple-system-font",HelveticaNeue-Medium,Helvetica,Arial,sans-serif;color:#000;position:absolute;top:24px;left:26.5%;width:25px;overflow:hidden;text-overflow:clip;text-align:center}.mk-rotation-control .mk-north-indicator.mk-north-indicator-long{font-size:12px}.mk-rotation-control.mk-focus{box-shadow:0 0 0 1px #007aff,0 0 0 3px rgba(0,122,255,.2)}.mk-rotation-control.mk-focus .mk-north-indicator{color:#007aff}.mk-rtl *{text-align:right!important;direction:rtl}.mk-rtl .mk-user-location-control{right:auto;left:60px}.mk-rtl .mk-logo-control{right:0}.mk-rtl .mk-top-right-controls-container{left:12px;right:auto}.mk-rtl .mk-top-left-controls-container{left:auto;right:12px}.mk-rtl .mk-map-type-control .mk-map-type{padding:0 6px 0 24px}.mk-rtl .mk-map-type-control .mk-map-type.mk-active .mk-icon{left:5px;right:auto}.mk-rtl .mk-zoom-controls{right:auto;left:0}.mk-rtl .mk-zoom-controls .mk-zoom-out{right:0;left:auto}.mk-rtl .mk-zoom-controls .mk-zoom-in{right:auto;left:0}.mk-rtl .mk-bottom-right-controls-container{left:12px;right:auto}.mk-rtl .mk-bottom-right-controls-container .mk-zoom-controls{margin-left:0;margin-right:9px}.mk-rtl .mk-bottom-right-controls-container .mk-control:last-child.mk-user-location-control{right:auto;left:0}.mk-rtl .mk-map-type-control{margin-right:7px;margin-left:0}.mk-rtl .mk-legal-info{left:-12px;right:auto;padding:0 1px 1px 0}.mk-rtl .mk-right-caret{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.mk-rtl>.mk-error-message{-webkit-transform-origin:0 50% 0;transform-origin:0 50% 0}.mk-rtl .mk-rotation-control{right:auto;left:-1px}.mk-rtl .mk-rotation-control .mk-north-indicator{text-align:center!important}div.mk-standard.mk-no-subtitle.mk-no-accessories .mk-rtl .mk-title{text-align:center!important}@-webkit-keyframes mk-fadeout{from{opacity:1}to{opacity:0}}@keyframes mk-fadeout{from{opacity:1}to{opacity:0}}'},{}],173:[function(e,t,n){var i=e("./configuration"),o=e("../build.json"),r=e("./utils"),a=e("@maps/js-utils"),s={init:function(e){this.options=e||{}},infoForMap:function(t){var n=e("./map");a.required(t,"[MapKit] Missing `map` parameter in call to `mapkit.debugInfoForMap()`.").checkInstance(t,n,"[MapKit] The parameter passed to `mapkit.debugInfoForMap()` is not a Map.");var s=t._impl._mapNode._impl._tileGridsGroup.lastChild;return JSON.stringify({userAgent:navigator.userAgent,build:o,mapSize:t._impl.ensureRenderingFrame().size.toString(),devicePixelRatio:r.devicePixelRatio,zoomLevel:t._impl.zoomLevel,visibleMapRect:t.visibleMapRect.toString(),tileRange:{min:t._impl.tileRange&&t._impl.tileRange.min.toString(),max:t._impl.tileRange&&t._impl.tileRange.max.toString()},pendingTiles:s?s._pendingTileCount:0,screenSize:{width:window.screen.width,height:window.screen.height},rootNode:t._impl.rootNode.element.outerHTML,configuration:i._debugInfo()},null,"    ")}};t.exports=s},{"../build.json":111,"./configuration":159,"./map":185,"./utils":225,"@maps/js-utils":84}],174:[function(e,t,n){"use strict";function i(e,t){var n=new o(e,{loaderDidSucceed:function(n,i){var o;try{o=JSON.parse(i.responseText)}catch(n){return void t(new Error("[MapKit] The response of "+e+" does not appear to be valid JSON:"+i.responseText))}t(null,o)},loaderDidFail:function(n,i){t(new Error("[MapKit] Failed to load "+e))}});return n.schedule(),n.id}var o=e("@maps/loaders").XHRLoader,r=e("../../lib/geojson-adapter");t.exports=function(e,t){function n(e){var n=r.importGeoJSON(e,o);return a&&t(null,n),n}var o={},a="function"==typeof t,s="object"==typeof t,l="string"==typeof e;if(s&&(o=t),l&&!a&&!s){var c=new Error("[MapKit] For GeoJSON file imports, a callback must be provided as a second argument");throw o.geoJSONDidError&&o.geoJSONDidError(c),c}return l?i(e,(function(e,i){return e?(o.geoJSONDidError&&o.geoJSONDidError(e),void(a&&t(e))):n(i)})):n(e)}},{"../../lib/geojson-adapter":5,"@maps/loaders":85}],175:[function(e,t,n){var i=e("@maps/dom-events"),o=e("../../lib/geo"),r=e("../build.json"),a=e("./configuration"),s=e("./debug"),l=e("./utils");window.DOMPoint||(window.DOMPoint=e("@maps/geometry-interfaces"));var c=e("./overlays/polyline-overlay"),u=e("./services/directions-internal");Object.defineProperty(u.Route.prototype,"polyline",{enumerable:!0,get:function(){return this._polyline||(this._polyline=new c(this._path.reduce((function(e,t){return e.concat(t)}),[]))),this._polyline}});var h={init:function(e,t){s.init(t),a.init(e);var n=this.dispatchEvent.bind(this);a.addEventListener(a.Events.Changed,n),a.addEventListener(a.Events.Error,n)},get version(){return r.version},get build(){return r.build},get language(){return a.language},set language(e){a.language=e},toString:function(){return["MapKit JS",this.version,"("+this.build+")"].join(" ")},importGeoJSON:e("./import-geojson-method"),get _tileProvider(){return a.tileProvider},get _countryCode(){return a.countryCode},set _countryCode(e){a.countryCode=e},_restore:function(){a._restore()},get _environment(){return a.environment},debugInfoForMap:s.infoForMap,FeatureVisibility:e("./constants").FeatureVisibility,CoordinateRegion:o.CoordinateRegion,CoordinateSpan:o.CoordinateSpan,Coordinate:o.Coordinate,BoundingRegion:o.BoundingRegion,MapPoint:o.MapPoint,MapRect:o.MapRect,MapSize:o.MapSize,Padding:e("./padding"),Style:e("./overlays/style"),CircleOverlay:e("./overlays/circle-overlay"),PolylineOverlay:c,PolygonOverlay:e("./overlays/polygon-overlay"),Geocoder:e("./services/geocoder"),Search:e("./services/search"),Directions:e("./services/directions"),Map:e("./map"),Annotation:e("./annotations/annotation"),PinAnnotation:e("./annotations/pin-annotation"),ImageAnnotation:e("./annotations/image-annotation"),MarkerAnnotation:e("./annotations/marker-annotation"),TileOverlay:e("../../lib/map-node").TileOverlay};i.EventTarget(h),t.exports=h,document.head.appendChild(l.htmlElement("style",e("./css")))},{"../../lib/geo":2,"../../lib/map-node":7,"../build.json":111,"./annotations/annotation":127,"./annotations/image-annotation":136,"./annotations/marker-annotation":146,"./annotations/pin-annotation":151,"./configuration":159,"./constants":161,"./css":172,"./debug":173,"./import-geojson-method":174,"./map":185,"./overlays/circle-overlay":190,"./overlays/polygon-overlay":199,"./overlays/polyline-overlay":202,"./overlays/style":204,"./padding":209,"./services/directions":211,"./services/directions-internal":210,"./services/geocoder":213,"./services/search":216,"./utils":225,"@maps/dom-events":62,"@maps/geometry-interfaces":67}],176:[function(e,t,n){function i(e,t){s.call(this,e),this._map=t}function o(e){a.call(this),this._renderer=new i(this,e)}var r=e("@maps/js-utils"),a=e("../../lib/scene-graph/src/model/scene"),s=e("../../lib/scene-graph/src/render/c2d/render-scene");i.prototype=r.inheritPrototype(s,i,{update:function(){var e=performance&&performance.now()||Date.now();s.prototype.update.call(this);var t=performance&&performance.now()||Date.now();this._map._performanceLog.push({name:"render-frame",timestamp:e,duration:t-e})}}),o.prototype=r.inheritPrototype(a,o,{}),t.exports={Scene:o,now:window.performance&&window.performance.now?function(){return window.performance.now()}:Date.now}},{"../../lib/scene-graph/src/model/scene":52,"../../lib/scene-graph/src/render/c2d/render-scene":56,"@maps/js-utils":84}],177:[function(e,t,n){function i(e,t){this._delegate=t,this._snapsToIntegralZoomLevels=e}var o=e("../utils"),r=e("@maps/js-utils"),a=e("@maps/scheduler");i.prototype={constructor:i,_speed:.03,_startTime:0,_shouldStop:!1,_animating:!1,start:function(e,t){var n=Date.now();return this._gasPedalValue=0,this._startTime=n,this._shouldStop&&this._cleanUp(),this._shouldStop=!1,this.zoomsIn=!!t,o.supportsForceTouch&&window.addEventListener("webkitmouseforcechanged",this),!this._animating&&(this._animating=!0,this._zoomLevel=e,this._timeAtLastFrame=n,a.scheduleOnNextFrame(this),!0)},stop:function(){this._shouldStop=!0,o.supportsForceTouch&&(window.removeEventListener("webkitmouseforcechanged",this),delete this._speed)},set snapsToIntegralZoomLevels(e){this._snapsToIntegralZoomLevels=!!e},performScheduledUpdate:function(){var e=!0,t=Date.now(),n=t-this._timeAtLastFrame,i=this._speed*(this.zoomsIn?1:-1);this._zoomLevel+=60*n*r.log2(1+i)/1e3,this._timeAtLastFrame=t,this._shouldStop&&t-this._startTime>=250&&(this._zoomLevelAtWhichToStop?(e=this.zoomsIn&&this._zoomLevel<this._zoomLevelAtWhichToStop||!this.zoomsIn&&this._zoomLevel>this._zoomLevelAtWhichToStop)||(this._zoomLevel=this._zoomLevelAtWhichToStop):this._snapsToIntegralZoomLevels?this._zoomLevelAtWhichToStop=this.zoomsIn?Math.ceil(this._zoomLevel):Math.floor(this._zoomLevel):e=!1),this._delegate&&this._delegate.linearZoomControllerDidZoom(this._zoomLevel),e?a.scheduleOnNextFrame(this):this._cleanUp()},handleEvent:function(e){this._handleForceChangedEvent(e)},_handleForceChangedEvent:function(e){var t=r.clamp(e.webkitForce,MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN,MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN)-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN;Math.abs(t-this._gasPedalValue)>.01&&(this._gasPedalValue=t),this._speed=.01+this._gasPedalValue*(.06-.01)},_cleanUp:function(){this._animating=!1,this._shouldStop=!1,delete this._zoomLevelAtWhichToStop,this._delegate&&this._delegate.linearZoomControllerDidStop()}},t.exports=i},{"../utils":225,"@maps/js-utils":84,"@maps/scheduler":106}],178:[function(e,t,n){function i(){a.LongPress.call(this),this.minimumPressDuration=125}var o=e("@maps/js-utils"),r=e("@maps/geometry/point"),a=e("@maps/gesture-recognizers");i.prototype=o.inheritPrototype(a.LongPress,i,{touchesBegan:function(e){(o.isIEAndNotEdge()||o.isEdge())&&document.getSelection().removeAllRanges(),a.LongPress.prototype.touchesBegan.call(this,e),this.translation=new r,this._translationOrigin=this._lastTouchLocation=this.locationInElement()},enterRecognizedState:function(){a.LongPress.prototype.enterBeganState.call(this)},touchesMoved:function(e){e.preventDefault();var t=this.locationInElement();this.state===a.States.Possible?a.LongPress.prototype.touchesMoved.call(this,e):this.state!==a.States.Began&&this.state!==a.States.Changed||(this.translation.x+=t.x-this._lastTouchLocation.x,this.translation.y+=t.y-this._lastTouchLocation.y,this.enterChangedState()),this._lastTouchLocation=t},touchesCanceled:function(e){this.interruptGesture()},touchesEnded:function(e){this.state===a.States.Changed?(e.preventDefault(),this.enterEndedState()):this.enterFailedState()},interruptGesture:function(){this.state===a.States.Changed?this.enterEndedState():this.state===a.States.Began&&this.enterFailedState()},reset:function(){a.LongPress.prototype.reset.call(this),delete this._translationOrigin,delete this._lastTouchLocation}}),t.exports=i},{"@maps/geometry/point":69,"@maps/gesture-recognizers":72,"@maps/js-utils":84}],179:[function(e,t,n){function i(e,t){this._target=e,this._delegate=t,this.initialEventTargetForCurrentInteraction=null,this._doubleTapWithOneFingerRecognizer=this._addGestureRecognizer(o.Tap),this._doubleTapWithOneFingerRecognizer.numberOfTouchesRequired=1,this._doubleTapWithOneFingerRecognizer.numberOfTapsRequired=2,this._singleTapWithOneFingerRecognizer=this._addGestureRecognizer(o.Tap),this._longPressAndPanRecognizer=this._addGestureRecognizer(r),this._longPressAndPanRecognizer.delegate=this,e.addEventListener(a.touchstartOrMousedown,this),window.addEventListener(a.touchendOrMouseup,this),this._target.addEventListener("dragstart",this)}var o=e("@maps/gesture-recognizers"),r=e("./long-press-and-pan-gesture-recognizer"),a=e("../utils"),s="auto"===a.htmlElement("div",{style:"pointer-events: auto"}).style.pointerEvents;i.prototype={constructor:i,handleEvent:function(e){switch(e.type){case"dragstart":this._delegate.elementShouldPreventDragstart(e.target)&&e.preventDefault();break;case"mousedown":if(this.initialEventTargetForCurrentInteraction=e.target,!s&&"none"===window.getComputedStyle(this.initialEventTargetForCurrentInteraction).pointerEvents){var t=this.initialEventTargetForCurrentInteraction.style,n=t.display;t.display="none",this.initialEventTargetForCurrentInteraction=document.elementFromPoint(e.clientX,e.clientY),t.display=n}e.target.ownerDocument.defaultView!==window.top||this._delegate.elementWantsDefaultBrowserBehavior(this.initialEventTargetForCurrentInteraction)||e.preventDefault();break;case"mouseup":this.initialEventTargetForCurrentInteraction=null;break;case"touchstart":e.touches.length===e.changedTouches.length&&(this.initialEventTargetForCurrentInteraction=e.touches[0].target,this._delegate.elementWantsDefaultBrowserBehavior(this.initialEventTargetForCurrentInteraction)||e.preventDefault());break;case"touchend":0===e.touches.length&&(this.initialEventTargetForCurrentInteraction=null);break;case"statechange":this._handleStatechange(e)}},_handleStatechange:function(e){switch(e.target){case this._doubleTapWithOneFingerRecognizer:this._handleDoubleTapWithOneFingerChange(e);break;case this._singleTapWithOneFingerRecognizer:this._handleSingleTapWithOneFingerChange(e);break;case this._longPressAndPanRecognizer:this._handleLongPressAndPanChange(e)}},gestureRecognizerShouldBegin:function(e){return this._delegate.userDidLongPress(e.locationInElement())},mapWasDestroyed:function(){window.removeEventListener(a.touchendOrMouseup,this),this._target.removeEventListener(a.touchstartOrMousedown,this),this._target.removeEventListener("dragstart",this),this._doubleTapWithOneFingerRecognizer.removeEventListener("statechange",this),this._doubleTapWithOneFingerRecognizer.enabled=!1,this._doubleTapWithOneFingerRecognizer=null,this._singleTapWithOneFingerRecognizer.removeEventListener("statechange",this),this._singleTapWithOneFingerRecognizer.enabled=!1,this._singleTapWithOneFingerRecognizer=null,this._longPressAndPanRecognizer.removeEventListener("statechange",this),this._longPressAndPanRecognizer.enabled=!1,this._longPressAndPanRecognizer.delegate=null,this._longPressAndPanRecognizer=null,delete this.initialEventTargetForCurrentInteraction,delete this._target,delete this._delegate},_addGestureRecognizer:function(e){var t=new e;return t.target=this._target,t.addEventListener("statechange",this),t},_handleDoubleTapWithOneFingerChange:function(e){e.target.state===o.States.Recognized&&(this._delayedSingleTapRecognizerTimeoutID&&(this._delegate.userCanceledTap(),window.clearTimeout(this._delayedSingleTapRecognizerTimeoutID),delete this._delayedSingleTapRecognizerTimeoutID),this._singleTapWithOneFingerRecognizer.enabled=!1)},_handleSingleTapWithOneFingerChange:function(e){var t=e.target;this._singleTapWithOneFingerRecognizer.enabled&&t.state===o.States.Recognized&&(this._delegate.userWillTap(t.locationInElement()),this._delayedSingleTapRecognizerTimeoutID=window.setTimeout(function(){delete this._delayedSingleTapRecognizerTimeoutID,this._delegate.userDidTap()}.bind(this),350))},_handleLongPressAndPanChange:function(e){var t=e.target;switch(t.state){case o.States.Began:this._singleTapWithOneFingerRecognizer.enabled=!1,this._doubleTapWithOneFingerRecognizer.enabled=!1,this._doubleTapWithOneFingerRecognizer.enabled=!0;break;case o.States.Changed:this._delegate.userDidPanAfterLongPress(t.translation);break;case o.States.Ended:case o.States.Failed:this._singleTapWithOneFingerRecognizer.enabled=!0,this._delegate.userDidStopPanningAfterLongPress(t.state!==o.States.Failed)}},_stopDraggingAnnotation:function(){this._longPressAndPanRecognizer.interruptGesture()}},t.exports=i},{"../utils":225,"./long-press-and-pan-gesture-recognizer":178,"@maps/gesture-recognizers":72}],180:[function(e,t,n){function i(e){this._map=e,this._items=[]}function o(e,t){var n=e.toCoordinateRegion();if(n.span.latitudeDelta>=t.latitudeDelta&&n.span.longitudeDelta>=t.longitudeDelta)return e;n.span.latitudeDelta=Math.max(n.span.latitudeDelta,t.latitudeDelta),n.span.longitudeDelta=Math.max(n.span.longitudeDelta,t.longitudeDelta);var i=n.span.latitudeDelta/2,o=n.span.longitudeDelta/2,a=new c(r.convertLongitudeToX(n.center.longitude-o),r.convertLatitudeToY(n.center.latitude+i)),l=new c(r.convertLongitudeToX(n.center.longitude+o),r.convertLatitudeToY(n.center.latitude-i));return a.x>l.x&&a.x--,new s(a.x,a.y,Math.min(l.x-a.x,1),l.y-a.y)}var r=e("../../lib/geo"),a=e("@maps/js-utils"),s=r.MapRect,l=r.CoordinateSpan,c=r.MapPoint,u=e("./padding"),h=e("./types-internal"),d=e("@maps/dom-events"),p=new l(.001,.001),m=new u(12,12,12,12),f="select",g="deselect";i.checkShowItemsParameters=function(e,t){return a.checkArray(e,"[MapKit] Map.showItems expects an array of items as its first parameter."),t=a.checkOptions(t,"object","[MapKit] Map.showItems expects an object as optional second parameter."),Object.keys(t).forEach((function(e){switch(e){case"animate":break;case"padding":a.checkInstance(t.padding,u,"[MapKit] Map.showItems expects a Padding object for `options.padding`.");break;case"minimumSpan":a.checkInstance(t.minimumSpan,l,"[MapKit] Map.showItems expects a CoordinateSpan for `options.minimumSpan`.");break;default:console.warn("[MapKit] `"+e+"` is not a valid option of Map.showItems.")}})),t},i.setRegionForItems=function(e,t,n){if(e.ensureRenderingFrame().size.height<=0||e.ensureRenderingFrame().size.width<=0)return!1;if(0===t.length)return!0;for(var i=!!n.animate,r=n.padding||m,a=n.minimumSpan||p,l=0,c=0,d=0,f=0,g=[],_=0,v=t.length;_<v;++_){var y=t[_];if(y.map===e.public){var b=y._impl._boundingRect||y._impl.boundingRectAtScale&&y._impl.boundingRectAtScale(1);if(b){if(y._impl.style){var w=y._impl.style._impl.halfStrokeWidthAtResolution();l=Math.max(l,w),c=Math.max(c,w),d=Math.max(d,w),f=Math.max(f,w)}g.push(b)}else y._impl.updateLayout(!0),l=Math.max(l,y._impl._anchorPoint.y),c=Math.max(c,y.size.width-y._impl._anchorPoint.x),d=Math.max(d,y.size.height-y._impl._anchorPoint.y),f=Math.max(f,y._impl._anchorPoint.x),g.push(new s(y._impl.x,y._impl.y,0,0))}}if(0===g.length)return!0;r=new u(r.top+l,r.right+c,r.bottom+d,r.left+f);var C=o(h.boundingRectForSortedRects(g.sort((function(e,t){return e.minX()-t.minX()}))),a);return e.setVisibleMapRectAnimated(e.padMapRect(C,r),i),!0},i.prototype={constructor:i,_map:null,_selectedItem:null,_selectionDistance:10,get node(){return this._node},get items(){return this._items.filter(this.isItemExposed,this)},set items(e){a.checkArray(e,"[MapKit] Map."+this.itemName+"s expected an array of "+this.itemName+"s, but got `"+e+"` instead."),this._items.forEach((function(e){this.isItemExposed(e)&&this.removedItem(e)}),this),this._items=e.filter((function(e,t){return a.checkInstance(e,this.itemConstructor,"[MapKit] Map."+this.itemName+"s expected an "+this.itemName+" at index "+t+", but got `"+e+"` instead."),this.isItemExposed(e)&&this.shouldAddItem(e,!0)}),this),this._items.forEach((function(e){this.addedItem(e)}),this)},get selectedItem(){return this._selectedItem},set selectedItem(e){if(e!==this._selectedItem){if(null!=e&&(a.checkInstance(e,this.itemConstructor,"[MapKit] Map.selected"+this.capitalizedItemName+" expected an "+this.itemName+" or `null`, but got `"+e+"` instead."),e.map!==this._map.public))throw new Error("[MapKit] Map.selected"+this.capitalizedItemName+" cannot be set to an "+this.itemName+" that is not in the map.");if(this._selectedItem){var t=this._selectedItem;this._selectedItem=null,t.selected=!1,t.dispatchEvent(new d.Event(g))}e&&(this._selectedItem=e,e.selected=!0,e.dispatchEvent(new d.Event(f)))}},addItem:function(e){return a.checkInstance(e,this.itemConstructor,"[MapKit] Map.add"+this.capitalizedItemName+" expected an "+this.itemName+", but got `"+e+"` instead."),this.addItemToList(e),e},addItems:function(e){return a.checkArray(e,"[MapKit] Map.add"+this.capitalizedItemName+"s expected an array of "+this.itemName+"s, but got `"+e+"` instead."),e.filter((function(e,t){return a.checkInstance(e,this.itemConstructor,"[MapKit] Map.add"+this.capitalizedItemName+"s expected an "+this.itemName+" at index "+t+", but got `"+e+"` instead."),!!this.addItemToList(e,!0)}),this)},shouldAddItem:function(e,t){return!e.map||(e.map._impl!==this._map&&console.warn("[MapKit] Map."+this.capitalizedItemName+(t?"s":"")+": "+this.itemName+" is already in another map."),!1)},removeItem:function(e){if(a.checkInstance(e,this.itemConstructor,"[MapKit] Map.remove"+this.capitalizedItemName+" expected an "+this.itemName+", but got `"+e+"` instead."),e.map!==this._map.public)console.warn("[MapKit] Map.remove"+this.capitalizedItemName+": cannot remove "+this.itemName+" as it is not attached to this map.");else{var t=this._items.indexOf(e);console.assert(t>=0),t>=0&&(this._items.splice(t,1),this.removedItem(e))}return e},removeItems:function(e){return a.checkArray(e,"[MapKit] Map.remove"+this.capitalizedItemName+"s expected an array of "+this.itemName+"s, but got `"+e+"` instead."),e.forEach((function(e,t){a.checkInstance(e,this.itemConstructor,"[MapKit] Map.remove"+this.capitalizedItemName+"s expected an "+this.itemName+" at index "+t+", but got `"+e+"` instead."),e.map===this._map.public?e._impl._toBeRemoved=!0:console.warn("[MapKit] Map.remove"+this.capitalizedItemName+"s: cannot remove "+this.itemName+" at index "+t+" as it is not attached to this map.")}),this),this._items=this._items.filter((function(e){return!e._impl._toBeRemoved})),e.forEach((function(e){e._impl._toBeRemoved&&(delete e._impl._toBeRemoved,this.removedItem(e))}),this),e},itemCloseToPoint:function(e,t){if(this._previousPointForPickingItem&&this._previousPointForPickingItem.equals(e))return t||(this._closeItemIndex=(this._closeItemIndex+1)%this._closeItems.length),this._closeItems[this._closeItemIndex];this._previousPointForPickingItem=e;var n=this._itemsCloseToPoint(e),i=n.filter((function(e){return e.enabled}));return this._closeItems=i.length>0?i:n,this._closeItemIndex=!t&&this._closeItems.length>1&&this._closeItems[0].selected?1:0,this._closeItems[this._closeItemIndex]},addItemToList:function(e,t){if(this.shouldAddItem(e,t))return this._items.push(e),this.addedItem(e,t),e},addedItem:function(e,t){"function"==typeof e._impl.setDelegate?e._impl.setDelegate(this):e._impl.delegate=this,e._impl.addedToMap&&e._impl.addedToMap()},removedItem:function(e){e.selected=!1,delete e._impl.delegate,e._impl.removedFromMap&&e._impl.removedFromMap()},mapWasDestroyed:function(){delete this._map,this.removedReferenceToMap()},_node:null,_deletePreviousPointForPickingItem:function(){delete this._previousPointForPickingItem,delete this._closeItems,delete this._closeItemIndex},_itemsCloseToPoint:function(e){var t=this._items.filter((function(e){return e._impl.canBePicked()}));return 0===t.length?[]:this.pickableItemsCloseToPoint(t,e)}},t.exports=i},{"../../lib/geo":2,"./padding":209,"./types-internal":221,"@maps/dom-events":62,"@maps/js-utils":84}],181:[function(e,t,n){t.exports={preprocessPoints:function(e,t){function n(e,t){var n=s[e];return s[e]=s[t],s[t]=n,s[e]._index=e,s[t]._index=t,t}function i(e){for(;e>0;){var t=Math.floor((e-1)/2);if(s[t]._area<=s[e]._area)return;e=n(e,t)}}function o(e){for(;;){var t=2*e+1,i=2*e+2,o=s[e]._area,r=s[t]?s[t]._area:1/0,a=s[i]?s[i]._area:1/0;if(o<=r&&o<=a)return;e=n(e,r<=o&&r<=a?t:i)}}function r(e){var t=e._prev,n=e,i=e._next;return Math.abs((t.x-i.x)*(n.y-t.y)-(t.x-n.x)*(i.y-t.y))/2}function a(e,t){var n=e._area;e._area=Math.max(r(e),t),e._area<n?i(e._index):o(e._index)}var s=[],l=e.length-1;if(t&&l>1){if(!e[l].equals(e[0])){e.push(e[0].copy());var c=!0;++l}var u=!0;e.unshift(e[l-1].copy()),++l}e[0]._area=e[l]._area=1/0;for(var h=1;h<l;++h){var d=e[h];d._prev=e[h-1],d._next=e[h+1],d._area=r(d),function(e){var t=s.length;e._index=t,s.push(e),i(t)}(d)}for(u&&e.shift(),c&&e.pop();s.length>0;){var p=function(){var e=s[0],t=s.pop();return s.length>0&&(s[0]=t,t._index=0,o(0)),e}(),m=p._prev,f=p._next;m._prev&&(m._next=f,a(m,p._area)),f._next&&(f._prev=m,a(f,p._area)),delete p._index,delete p._next,delete p._prev}},filterPointsAtScale:function(e,t){var n=1/(t*t),i=e.filter((function(e){return e._area>n}));if(2===i.length){var o=i[0].x-i[1].x,r=i[0].y-i[1].y;if(o*o+r*r<1*n)return[]}return i}}},{}],182:[function(e,t,n){var i=e("@maps/localizer"),o=e("@maps/js-utils").isNode()?"file://"+t.require("path").resolve(e.resolve("."),"..","..","locales/{{locale}}/strings.json"):e("./urls").createUrl("locales/{{locale}}/strings.json"),r=new i.LanguageSupport({supportedLocales:e("../locales/supported-tile-locales.json"),regionToScriptMap:e("../locales/region-to-script-map.json"),localesMap:e("../locales/locales-map.json")}),a=new i.L10n({supportedLocales:e("../locales/supported-locales.json"),primaryLocales:e("../locales/primary-locales.json"),localesMap:e("../locales/locales-map.json"),regionToScriptMap:e("../locales/region-to-script-map.json"),rtlLocales:e("../locales/rtl-locales.json"),enUSDictionary:e("../locales/en-US/strings.json"),localeUrl:o});a.useMetric=function(){var e=i.LangTag.parse(this.activeLocale.localeId);return i.UseMetric.forLanguageTag(e)},t.exports={languageSupport:r,l10n:a}},{"../locales/en-US/strings.json":226,"../locales/locales-map.json":227,"../locales/primary-locales.json":228,"../locales/region-to-script-map.json":229,"../locales/rtl-locales.json":230,"../locales/supported-locales.json":231,"../locales/supported-tile-locales.json":232,"./urls":222,"@maps/js-utils":84,"@maps/localizer":94}],183:[function(e,t,n){function i(e,t,n){if(h.instrumented){this._instrumented=h.instrumented,this._performanceLog=[];var i=D.now()}this._initialMapLoad=!0,t&&(this._bootstrapSize=new x(t.offsetWidth,t.offsetHeight)),k.EventTarget(e),this.public=e,t=this._checkParent(t),n=u.checkOptions(n),this._checkOptions(n),this._setDefaultState(n),this._setupScene(),this._setupRenderTree(),this._setupControllers(n),this.isRotationEnabled=!("isRotationEnabled"in n)||n.isRotationEnabled,n.rotation&&(this.rotation=n.rotation),this._flushToDOM(t),this._handleOptions(n,t),this._setupListeners(),this._shouldPerformDelayedInit=!0,T.scheduleOnNextFrame(this),this._instrumented&&this._performanceLog.push({name:"map-init",timestamp:i,duration:D.now()-i})}function o(e){this.selected=e}function r(e){e.selected=!0,M.log(M.Events.AnnotationClick,{map:this})}var a=e("../../lib/geo"),s=e("../../lib/scene-graph"),l=e("../../lib/map-node").BackgroundGridThemes,c=e("./utils"),u=e("@maps/js-utils"),h=e("./configuration"),d=e("./types-internal"),p=e("./padding"),m=e("./interaction/linear-zoom-controller"),f=e("./interaction/map-user-interaction-controller"),g=e("./localizer").l10n,_=e("./overlays/overlays-controller"),v=e("./annotations/annotations-controller"),y=e("./map-node-controller"),b=e("./controls/zoom-control"),w=e("./user-location/user-location-controller"),C=e("./controls/controls-layer"),E=e("@maps/geometry/point"),S=e("@maps/geometry/rect"),x=e("@maps/geometry/size"),k=e("@maps/dom-events"),L=e("@maps/render-tree"),T=e("@maps/scheduler"),O=e("@maps/device-pixel-ratio"),M=e("./analytics/analytics"),A=e("./layer-items-controller"),P=e("./overlays/overlay"),R=e("./annotations/annotation"),I=e("./collections/item-collection"),N=e("./constants"),z=N.FeatureVisibility,D=e("./instruments"),F=a.CoordinateRegion,j=a.CoordinateSpan,U=a.Coordinate,B=a.MapPoint,W=a.MapSize,K=a.MapRect,G=c.supportsTouches,V=new K(0,0,1,1),Z=new j(.15,.15),H={padding:"rw",isScrollEnabled:"rw",isZoomEnabled:"rw",center:"rw",region:"rw",rotation:"rw",isRotationEnabled:"rw",showsCompass:"rw",visibleMapRect:"rw",tintColor:"rw",annotations:"rw",selectedAnnotation:"rw",overlays:"rw",selectedOverlay:"rw",showsUserLocation:"rw",tracksUserLocation:"rw",mapType:"rw",_showsDefaultTiles:"rw",showsPointsOfInterest:"rw",showsMapTypeControl:"rw",showsZoomControl:"rw",showsScale:"rw",showsUserLocationControl:"rw",annotationForCluster:"rw",element:"ro",userLocationAnnotation:"ro"},q="zoom-start",Y="zoom-end",X="select",$="deselect",Q="region-change-start",J="region-change-end",ee="scroll-start",te="scroll-end",ne="map-type-change",ie="rotation-start",oe="rotation-end",re="map-node-change",ae="map-node-ready",se="complete";i.MapTypes=N.MapTypes,i.prototype={constructor:i,_showsUserLocation:!1,_tracksUserLocation:!1,_tintColor:"",_annotationForCluster:null,get padding(){return this._padding.copy()},set padding(e){if(u.checkInstance(e,p,"[MapKit] The `padding` parameter passed to `Map.padding` is not a Padding."),!this._padding.equals(e)){this._padding=e.copy();var t=this.ensureRenderingFrame();t.equals(S.Zero)||(this._setRenderingFrameValue(t),this.setVisibleMapRectAnimated(this._mapRectAccountingForPadding(),!1)),this.controlsLayer&&this.controlsLayer.mapPaddingDidChange(this._adjustedPadding)}},get isScrollEnabled(){return this._mapNode.pannable},set isScrollEnabled(e){this._mapNode.pannable=!!e},get isZoomEnabled(){return this._mapNode.zoomable},set isZoomEnabled(e){this._mapNode.zoomable=!!e,this.controlsLayer.updateZoomControl()},get showsZoomControl(){return this._showsZoomControl},set showsZoomControl(e){(e=!!e)!==this._showsZoomControl&&(this._showsZoomControl=e,this.controlsLayer.updateZoomControl(),this.controlsLayer.updateScale())},get showsScale(){return this._showsScale},set showsScale(e){u.checkValueIsInEnum(e,z)?e!==this._showsScale&&(this._showsScale=e,this.controlsLayer&&this.controlsLayer.updateScale()):console.warn("[MapKit] value passed to `Map.showsScale` setter must be part of the mapkit.FeatureVisibility enum.")},get mapType(){return this._mapType},set mapType(e){if(e!==this._mapType){if(!u.checkValueIsInEnum(e,i.MapTypes))throw new Error("[MapKit] Unknown value for `mapType`. Choose from Map.MapTypes.");this._mapType=e,this._mapNodeController.handleMapConfigurationChange(),this.controlsLayer.update();var t=e!==i.MapTypes.Standard;this._annotationsController.mapTypeWasSet(t),this._overlaysController.mapTypeWasSet(t),this.public.dispatchEvent(new k.Event(ne)),M.log(M.Events.MapTypeChange,{map:this})}},get _showsTileInfo(){return this._mapNode._impl.debug},set _showsTileInfo(e){this._mapNode._impl.debug=e},get _showsDefaultTiles(){return this._mapNode.showsDefaultTiles},set _showsDefaultTiles(e){this._mapNode.showsDefaultTiles=e},get tileOverlays(){return this._mapNode.tileOverlays},set tileOverlays(e){this._mapNode.tileOverlays=e,this.controlsLayer.updateZoomControl()},addTileOverlay:function(e){var t=this._mapNode.addTileOverlay(e);return this.controlsLayer.updateZoomControl(),t},addTileOverlays:function(e){var t=this._mapNode.addTileOverlays(e);return this.controlsLayer.updateZoomControl(),t},removeTileOverlay:function(e){var t=this._mapNode.removeTileOverlay(e);return this.controlsLayer.updateZoomControl(),t},removeTileOverlays:function(e){var t=this._mapNode.removeTileOverlays(e);return this.controlsLayer.updateZoomControl(),t},get showsMapTypeControl(){return this._showsMapTypeControl},set showsMapTypeControl(e){(e=!!e)!==this._showsMapTypeControl&&(this._showsMapTypeControl=e,this.controlsLayer.updateMapTypeControl())},get showsUserLocationControl(){return this._showsUserLocationControl},set showsUserLocationControl(e){(e=!!e)!==this._showsUserLocationControl&&(this._showsUserLocationControl=e,this.controlsLayer.updateUserLocationControl(),this.controlsLayer.updateScale())},get showsPointsOfInterest(){return this._mapNode.showsPointsOfInterest},set showsPointsOfInterest(e){this._mapNode.showsPointsOfInterest=!!e},get element(){return this.rootNode&&this.rootNode.element},set element(e){console.warn("[MapKit] The `element` property is read-only.")},get renderingMapRect(){return this._mapNode.visibleMapRect},get visibleMapRect(){return this._visibleMapRect||(this._visibleMapRect=this._mapRectAccountingForPadding()),this._visibleMapRect},set visibleMapRect(e){this.setVisibleMapRectAnimated(e,!1)},setVisibleMapRectAnimated:function(e,t,n){u.required(e,"[MapKit] Missing `visibleMapRect` parameter in call to `Map.setVisibleMapRectAnimated()`.").checkInstance(e,K,"[MapKit] The `visibleMapRect` parameter passed to `Map.setVisibleMapRectAnimated()` is not a MapRect."),e!==V&&(this._defaultVisibleMapRectHasBeenOverriden=!0);var i=this.ensureRenderingFrame();if(0===i.size.width||0===i.size.height)this._visibleMapRect=e;else{var o=this._visibleFrame,r=e,s=this._adjustedPadding;if(!s.equals(p.Zero)){var l=i.size.width/o.size.width,c=i.size.height/o.size.height;r=new K(e.minX()-s.left*l*e.size.width,e.minY()-s.top*c*e.size.height,e.size.width*l,e.size.height*c)}var h=new B(e.midX(),e.midY()),d=a.zoomLevelForMapRectInViewport(r,i.size,a.tileSize);d=u.clamp(this._mapNode.snapsToIntegralZoomLevels?Math.floor(d+1e-6):d,this.minZoomLevel,this.maxZoomLevel);var m=Math.pow(2,Math.ceil(d))*(a.tileSize*Math.pow(2,d-Math.ceil(d))),f=new W(o.size.width/m,o.size.height/m);e=new K(h.x-f.width/2,h.y-f.height/2,f.width,f.height)}return t=void 0===t||!!t,this._setVisibleMapRect(e,t,n),delete this._delayedShowItems,this.public},get region(){return this.visibleMapRect.toCoordinateRegion()},set region(e){this.setRegionAnimated(e,!1)},setRegionAnimated:function(e,t,n){return u.required(e,"[MapKit] Tried to set `Map.region` property to a non-existent value.").checkInstance(e,F,"[MapKit] Region passed to `Map.region` setter is not a CoordinateRegion."),this.region.equals(e)||this.setVisibleMapRectAnimated(e.toMapRect(),t,n),this.public},get isRotationAvailable(){return h.previewLoCSR?!h.didFallback&&this.csrCapable:h.ready||h.didFallback?h.canRunCSR&&this.csrCapable:this.csrCapable},set isRotationAvailable(e){console.warn("[MapKit] Map.isRotationAvailable is a read-only property")},get isRotationEnabled(){return this._mapNode.isRotationEnabled},set isRotationEnabled(e){"boolean"==typeof e?(this.isRotationAvailable?this._mapNode.isRotationEnabled=e:console.warn("[MapKit] Rotation can't be enabled because it's not available."),this.controlsLayer.updateRotationControl()):console.warn("[MapKit] Value passed to `Map.isRotationEnabled` is not a Boolean.")},get rotation(){return this._mapNode.rotation},set rotation(e){this.setRotationAnimated(e,!1),this.controlsLayer.updateRotationControl()},get showsCompass(){return this.usingCSR?this._showsCompass:z.Hidden},set showsCompass(e){u.checkValueIsInEnum(e,z)?(this.isRotationEnabled||e!==z.Visible&&e!==z.Adaptive||console.warn("[MapKit] The compass cannot be shown when `Map.isRotationEnabled` is false."),this._usingDefaultShowsCompassValue=!1,e!==this._showsCompass&&(this._showsCompass=e,this.controlsLayer&&this.controlsLayer.updateRotationControl())):console.warn("[MapKit] value passed to `Map.showsCompass` setter must be part of the MapKit.FeatureVisibility enum.")},get usingCSR(){return!this._mapNodeController.usingSSR},setRotationAnimated:function(e,t,n){if(this.isRotationAvailable||console.warn("[MapKit] Rotation is not available."),u.required(e,"[MapKit] Tried to set `Map.rotation` property to a non-existent value."),"number"==typeof e&&!isNaN(e)){if(t){var i=this.camera.copy();i.rotation=e,this._mapNode.setCameraAnimated(i,!0),this.mapRotationWillStart()}else n||this.mapRotationWillStart(),this._mapNode.rotation=e,n||this.mapRotationDidEnd();return this.public}console.warn("[MapKit] Region passed to `Map.rotation` setter is not a Number.")},get center(){var e=this.visibleMapRect;return new B(e.midX(),e.midY()).toCoordinate()},set center(e){this.setCenterAnimated(e,!1)},setCenterAnimated:function(e,t,n){return u.required(e,"[MapKit] Tried to set `Map.center` property to a non-existent value.").checkInstance(e,U,"[MapKit] Value passed to `Map.center` setter is not a Coordinate object."),this._mapNode.setCenterAnimated(e,t),delete this._visibleMapRect,n||(this.tracksUserLocation=!1),this.public},get overlays(){return this._overlaysController.items},set overlays(e){this._overlaysController.items=e},get selectedOverlay(){return this._overlaysController.selectedItem},set selectedOverlay(e){this._overlaysController.selectedItem=e},addOverlay:function(e){return this._overlaysController.addItem(e)},addOverlays:function(e){return this._overlaysController.addItems(e),e},removeOverlay:function(e){return this._overlaysController.removeItem(e)},removeOverlays:function(e){return this._overlaysController.removeItems(e)},topOverlayAtPoint:function(e){u.checkInstance(e,window.DOMPoint,"[MapKit] Map.topOverlayAtPoint expected a DOMPoint, but got `"+e+"` instead.");var t=this.rootNode.convertPointFromPage(e),n=this._overlaysController.pickableItemsCloseToPoint(this.overlays,t,0),i=this.selectedOverlay;return i&&n.indexOf(i)>0?i:n[0]},overlaysAtPoint:function(e){u.checkInstance(e,window.DOMPoint,"[MapKit] Map.overlaysAtPoint expected a DOMPoint, but got `"+e+"` instead.");var t=this.rootNode.convertPointFromPage(e);return this._overlaysController.pickableItemsCloseToPoint(this.overlays,t,0).reverse()},get annotations(){return this._annotationsController.items},set annotations(e){this._annotationsController.items=e},get selectedAnnotation(){return this._annotationsController.selectedItem},set selectedAnnotation(e){this._annotationsController.selectedItem=e},addAnnotation:function(e){return this._annotationsController.addItem(e)},addAnnotations:function(e){return this._annotationsController.addItems(e)},removeAnnotation:function(e){return this._annotationsController.removeItem(e)},removeAnnotations:function(e){return this._annotationsController.removeItems(e)},showItems:function(e,t){var n=new I(e).getFlattenedItemList();t=A.checkShowItemsParameters(n,t);var i=[],o=[];return n.forEach((function(e){e.map||(e instanceof P?(e._impl._map=this.public,i.push(e)):e instanceof R&&this._annotationsController.preAddedAnnotation(e)&&o.push(e))}),this),this.isRooted()&&A.setRegionForItems(this,n,t)||(this._delayedShowItems=[n,t]),i.forEach((function(e){delete e._impl._map})),o.forEach(this._annotationsController.resetAnnotation),this._addItems(n),e},addItems:function(e){var t=new I(e).getFlattenedItemList();return this._addItems(t)},removeItems:function(e){var t=[],n=[];return new I(e).getFlattenedItemList().forEach((function(e,i){if(!(e instanceof P||e instanceof R))throw new Error("[MapKit] Map.removeItems expected an Annotation, Overlay, ItemCollection, or Array of valid items at index "+i+", but got `"+e+"` instead.");e instanceof P?t.push(e):n.push(e)}),this),this.removeOverlays(t),this.removeAnnotations(n),e},annotationsInMapRect:function(e){return this._annotationsController.annotationsInMapRect(e)},updateSize:function(e){return console.warn("[MapKit] Map resizing is now automatic, the Map.updateSize() method has been deprecated and will be removed in a future version."),this.public},convertCoordinateToPointOnPage:function(e){u.checkInstance(e,U,"[MapKit] Map.convertCoordinateToPointOnPage expected a Coordinate, but got `"+e+"` instead.");var t=this.camera.transformMapPoint(e.toMapPoint()),n=this.rootNode.convertPointToPage(t);return new window.DOMPoint(n.x,n.y)},convertPointOnPageToCoordinate:function(e){u.checkInstance(e,window.DOMPoint,"[MapKit] Map.convertPointOnPageToCoordinate expected a DOMPoint, but got `"+e+"` instead.");var t=this.camera.transformGestureCenter(this.rootNode.convertPointFromPage(new E(e.x,e.y))),n=this.renderingMapRect.origin;return new U(a.convertYToLatitude(n.y+t.y/this.worldSize),a.convertXToLongitude(n.x+t.x/this.worldSize))},get showsUserLocation(){return this._userLocationController.showsUserLocation},set showsUserLocation(e){(e=!!e)!==this.showsUserLocation&&(this._userLocationController.showsUserLocation=e,e||(this._removeUserLocationDisplay(),this.tracksUserLocation=!1),this.showsUserLocationControl&&(this.controlsLayer.updateUserLocationControl(),this.controlsLayer.updateScale()))},get userLocationAnnotation(){return this._annotationsController.userLocationAnnotation},get tracksUserLocation(){return this._userLocationController.tracksUserLocation},set tracksUserLocation(e){(e=!!e)!==this.tracksUserLocation&&(this._userLocationController.tracksUserLocation=e,this._mapNode.staysCenteredDuringZoom=e,e?this.showsUserLocation=!0:this.userLocationAnnotation||(this.showsUserLocation=!1),this._firstCameraUpdateToTrackUserLocationPending=e,this._updateCameraToTrackUserLocation(this._userLocationController.userLocation),this.controlsLayer.updateUserLocationControl(),this._userLocationTrackingDelegate&&"function"==typeof this._userLocationTrackingDelegate.mapUserLocationTrackingDidChange&&this._userLocationTrackingDelegate.mapUserLocationTrackingDidChange(this.public))},get tintColor(){return this._tintColor},set tintColor(e){if(e!==this._tintColor){if(null!=e){if(u.checkType(e,"string","[MapKit] Expected a string value for Map.tintColor, but got `"+e+"` instead"),""!==e&&!c.isValidCSSColor(e))return void console.warn("[MapKit] value passed to `Map.tintColor` is not a valid color value. Ignoring: "+e);this._tintColor=e}else delete this._tintColor;this.controlsLayer&&this.controlsLayer.update()}},get minZoomLevel(){return this._mapNode.minZoomLevel},get maxZoomLevel(){return this._mapNode.maxZoomLevel},get zoomLevel(){return this._mapNode.zoomLevel},set zoomLevel(e){this._mapNode.zoomLevel=e},get worldSize(){return Math.pow(2,this._mapNode.zoomLevel)*a.tileSize},get camera(){return this._mapNodeController.node.camera},get cameraIsPanning(){return this._mapNode.cameraIsPanning},get cameraIsZooming(){return this._mapNode.cameraIsZooming},get _mapNode(){return this._mapNodeController.node},get csrCapable(){return this._mapNodeController.csrCapable},destroy:function(){this.removeAnnotations(this.annotations),this.removeOverlays(this.overlays),this._stopStabilizationTimeout(),this._shouldPerformDelayedInit=!1,this._linearZoomController.stop(),this.showsUserLocation&&this._removeUserLocationDisplay(),this.controlsLayer.mapWasDestroyed(),this.controlsLayer=null,this._mapUserInteractionController.mapWasDestroyed(),this._overlaysController.mapWasDestroyed(),this._annotationsController.mapWasDestroyed(),this._userLocationController.mapWasDestroyed(),this._linearZoomController._delegate=null,h.removeEventListener(h.Events.Changed,this),g.removeEventListener(g.Events.LocaleChanged,this),O.removeEventListener("device-pixel-ratio-change",this),this._iframe&&(this._iframe.removeEventListener("load",this),this._iframe.contentWindow&&this._iframe.contentWindow.removeEventListener("resize",this),this._iframe.remove(),this._iframe=null),this._mapNodeController.destroy(),this._mapRoot.remove(),this._mapRoot=null,this._scene.destroy(),this._scene=null,this._removePrintListener(),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.rootNode.remove(),this.rootNode=null},adjustMapItemPoint:function(e){return this._mapNode.adjustMapItemPoint(e)},get annotationForCluster(){return this._annotationForCluster},set annotationForCluster(e){if(null==e)delete this._annotationForCluster;else{if("function"!=typeof e)throw new Error("[MapKit] annotationForCluster must be a function or null");this._annotationForCluster=e}},handleEvent:function(e){switch(e.type){case h.Events.Changed:this._configurationDidBecomeAvailable();break;case b.EVENTS.ZOOM_START:this._handleZoomStartEvent(e);break;case b.EVENTS.ZOOM_END:this._handleZoomEndEvent(e);break;case g.Events.LocaleChanged:this._handleLocaleChange(e);break;case"device-pixel-ratio-change":this._devicePixelRatioDidChange(e);break;case"load":this._iframeDidLoad();break;case"resize":this._iframeSizeDidChange()}},elementShouldPreventDragstart:function(e){return!this._annotationsController.isElementInCustomCallout(e)},elementWantsDefaultBrowserBehavior:function(e){return this._annotationsController.isElementInCallout(e)},tileAccessForbidden:function(){h.accessKeyHasExpired()},mapDidFinishRendering:function(e){this._instrumented&&this._performanceLog.push({name:"map-fully-rendered",timestamp:D.now()}),this.addWaitingAnnotations(),this._startStabilizationTimeoutIfNeeded()},mapCanStartPanning:function(e){return!(this.tracksUserLocation&&this.cameraIsZooming||this._annotationsController.dragging||this._isInitialInteractionTargetInUIElement()||!this.public.dispatchEvent(new k.Event(ee)))},mapWillStartPanning:function(e){this._stopStabilizationTimeout(),this.tracksUserLocation=!1;var t=this.rootNode.element;c.classList.add(t,"mk-panning"),c.classList.add(t,"mk-dragging-cursor")},mapWillStopPanning:function(e){c.classList.remove(this.rootNode.element,"mk-dragging-cursor")},mapDidStopPanning:function(e){this._startStabilizationTimeoutIfNeeded(),c.classList.remove(this.rootNode.element,"mk-panning"),this.public.dispatchEvent(new k.Event(te))},mapCanStartZooming:function(e){return!(this._isInitialInteractionTargetInUIElement()||!this.public.dispatchEvent(new k.Event(q)))},mapWillStartZooming:function(e,t,n){this._stopStabilizationTimeout(),n&&(this.tracksUserLocation=!1)},mapDidStopZooming:function(e){this._startStabilizationTimeoutIfNeeded(),this.public.dispatchEvent(new k.Event(Y)),M.log(M.Events.Zoom,{map:this}),this.controlsLayer.scaleDidChange()},mapCameraDidChange:function(e,t){delete this._visibleMapRect,this._overlaysController.mapCameraDidChange(),this._annotationsController.updateVisibleAnnotations(),this.controlsLayer.scaleDidChange(),this.controlsLayer.updateRotationControl()},mapCameraChangesWillStart:function(e,t){this._zoomLevelWhenCameraChangeStarted=this.zoomLevel,this.public.dispatchEvent(new k.Event(Q))},mapCameraChangesDidEnd:function(e){this._zoomLevelWhenCameraChangeStarted!==this.zoomLevel&&this.controlsLayer.zoomLevelDidChange(),delete this._zoomLevelWhenCameraChangeStarted,this.public.dispatchEvent(new k.Event(J))},mapRotationWillStart:function(e){this.public.dispatchEvent(new k.Event(ie))},mapRotationDidChange:function(e){this.controlsLayer.updateRotationControl()},mapRotationDidEnd:function(e){this.public.dispatchEvent(new k.Event(oe))},mapTransformCenter:function(e){var t=this.visibleMapRect;return new B(t.midX(),t.midY())},userWillTap:function(e){if(this._isInitialInteractionTargetInUIElement())c.supportsTouches&&(this._delayedTapFunction=this._elementWasTapped.bind(this,this._mapUserInteractionController.initialEventTargetForCurrentInteraction));else{var t=this.rootNode.convertPointFromPage(e),n=this._annotationsController.itemCloseToPoint(t);if(n)n.enabled&&(this._delayedTapFunction=r.bind(this,n));else{var i=this._overlaysController.itemCloseToPoint(t);i?i.enabled&&(this._delayedTapFunction=o.bind(i,!0)):this._delayedTapFunction=function(){this._annotationsController.selectedItem=null,this._overlaysController.selectedItem=null}.bind(this)}}},userDidTap:function(e){this._delayedTapFunction&&(this._delayedTapFunction(),delete this._delayedTapFunction)},userCanceledTap:function(e){delete this._delayedTapFunction},userDidLongPress:function(e){if(this._isInitialInteractionTargetInUIElement())return!1;var t=this._annotationsController.itemCloseToPoint(this.rootNode.convertPointFromPage(e),!0);if(!t)return!1;if(t.enabled){if(t._impl.isDraggable()&&!this.cameraIsPanning&&!this.cameraIsZooming)return this._annotationsController.startDraggingAnnotation(t,e),!0;if(c.supportsTouches)return r.call(this,t),!0}return c.supportsTouches},userDidPanAfterLongPress:function(e){this._annotationsController.annotationDraggingDidChange(e)},userDidStopPanningAfterLongPress:function(e){this._annotationsController.annotationDraggingDidEnd(e)},linearZoomControllerDidZoom:function(e){this.cameraIsZooming&&(this.zoomLevel=e,(e<=this.minZoomLevel&&!this._linearZoomController.zoomsIn||e>=this.maxZoomLevel&&this._linearZoomController.zoomsIn)&&this._mapNode.cameraDidStopZooming())},linearZoomControllerDidStop:function(){this._mapNode.cameraDidStopZooming()},userLocationDidChange:function(e){this._updateUserLocationDisplay(e.target),this.controlsLayer.userLocationDidChange(e.target),this.tracksUserLocation&&this._updateCameraToTrackUserLocation(e.target),this.public.dispatchEvent(e)},userLocationDidError:function(e){this._updateUserLocationDisplay(e.target),this.controlsLayer.userLocationDidError(e.target),this.public.dispatchEvent(e)},isRooted:function(){return this.element&&this.element.ownerDocument.body.contains(this.element)},stopDraggingAnnotation:function(){this._mapUserInteractionController._stopDraggingAnnotation()},translateVisibleMapRectAnimated:function(e,t){var n=this.visibleMapRect;this._setVisibleMapRect(new K(n.minX()+e.x/this.worldSize,n.minY()+e.y/this.worldSize,n.size.width,n.size.height),!!t)},translateCameraAnimated:function(e,t){this._mapNode.setCameraAnimated(this.camera.translate(e),!!t)},setCameraAnimated:function(e,t){this._mapNode.setCameraAnimated(e,!!t)},shouldWaitForTilesAndControls:function(){return!h.ready||this.controlsLayer.controlsPending||!this._mapNode.fullyRendered},ensureRenderingFrame:function(){return this._renderingFrame||new S},ensureVisibleFrame:function(){return this._visibleFrame||new S},annotationDraggingWillStart:function(){c.classList.add(this.rootNode.element,"mk-dragging-annotation"),this.controlsLayer.canShowTooltips=!1},annotationDraggingDidEnd:function(){c.classList.remove(this.rootNode.element,"mk-dragging-annotation"),this.controlsLayer.canShowTooltips=!0},get isCompassHidden(){return this.showsCompass===z.Hidden||c.supportsTouches&&this.showsCompass===z.Adaptive&&0===this.rotation||!this.isRotationEnabled},compassDraggingWillStart:function(){this.mapRotationWillStart(),c.classList.add(this.element,"mk-dragging-cursor")},compassDraggingDidEnd:function(){this.mapRotationDidEnd(),c.classList.remove(this.element,"mk-dragging-cursor")},panningDuringAnnotationDrag:function(){this._annotationsController.mapPanningDuringAnnotationDrag()},padMapRect:function(e,t){u.checkType(t,"object","[MapKit] padding must be an object with any of `top`, `left`, `bottom`, `right`"),["top","left","bottom","right"].forEach((function(e){if(e in t){var n=t[e];if("number"!=typeof n||n<0)throw new Error("[MapKit] property `"+e+"` of padding must be a number >= 0; got `"+n+"`")}else t[e]=0}));var n=a.zoomLevelForMapRectInViewport(e,this.ensureRenderingFrame().size,a.tileSize),i=Math.pow(2,n)*a.tileSize;return d.padMapRect(e,{top:t.top/i,left:t.left/i,bottom:t.bottom/i,right:t.right/i})},supportsLabelRegions:function(){return!this._mapNodeController.usingSSR},createLabelRegion:function(){return this._mapNode.createLabelRegion()},updatedLabelRegion:function(){this._mapNode.updatedLabelRegion()},unregisterLabelRegion:function(e){this._mapNode.unregisterLabelRegion(e)},_addItems:function(e){var t=[];return e.forEach((function(e,n){if(!(e instanceof P||e instanceof R))throw new Error("[MapKit] Map.addItems expected an Annotation, Overlay, ItemCollection, or Array of valid items at index "+n+", but got `"+e+"` instead.");e.map||(e instanceof P?this.addOverlay(e):t.push(e))}),this),this.addAnnotations(t),e},_configurationDidBecomeAvailable:function(e){this._mapNodeController.configurationDidBecomeAvailable(e),this._initialMapLoad&&(M.log(M.Events.MapsLoad,{map:this}),this._initialMapLoad=!1),this.controlsLayer.update(),h.location&&!this._defaultVisibleMapRectHasBeenOverriden&&(this.region=new F(new U(h.location.lat,h.location.lng),Z))},_setupScene:function(){this._instrumented?this._scene=new D.Scene(this):this._scene=new s.Scene,c.classList.add(this._scene.element,"rt-root")},_checkOptions:function(e){u.checkType(e,"object","[MapKit] The `options` object is invalid."),Object.keys(e).forEach((function(e){var t=H[e];"rw"===t||("ro"===t?console.warn("[MapKit] `"+e+"` is read-only and can't be set on a Map."):console.warn("[MapKit] `"+e+"` is not a valid property of Map."))}))},_checkParent:function(e){if(void 0!==e&&null!==e){var t="string"==typeof e?document.getElementById(e):e;if(!t||!u.isElement(t))throw new Error("[MapKit] `parent` must either be a DOM element or its ID.");return t}},_setDefaultState:function(e){this._showsScale=z.Hidden,this._visibleMapRect=V,this._padding=new p,this._adjustedPadding=new p,this._showsCompass=z.Adaptive,this._usingDefaultShowsCompassValue=!0,this._showsZoomControl="showsZoomControl"in e?!!e.showsZoomControl:!G,this._showsMapTypeControl="showsMapTypeControl"in e?!!e.showsMapTypeControl:!G,this._showsUserLocationControl="showsUserLocationControl"in e&&!!e.showsUserLocationControl;var t=i.MapTypes.Standard;if(e.mapType){if(!u.checkValueIsInEnum(e.mapType,i.MapTypes))throw new Error("[MapKit] Unknown value for `mapType`. Choose from Map.MapTypes.");t=e.mapType}this._mapType=t},_setupRenderTree:function(){var e=document.createElement("div");e.className="mk-map-view",e.appendChild(this._scene.element),this.rootNode=new L.Node(e)},_setupControllers:function(e){this.controlsLayer=new C(this),this._overlaysController=new _(this),this._scene.addChild(this._overlaysController.node),this._annotationsController=new v(this),this._scene.addChild(this._annotationsController.sceneGraphNode),this._userLocationController=new w(this),this._mapNodeController=new y(this,e),this._linearZoomController=new m(this._mapNode.snapsToIntegralZoomLevels,this),this._mapUserInteractionController=new f(this.rootNode.element,this)},_handleOptions:function(e,t){e.showsScale&&(this.showsScale=e.showsScale),e.showsCompass&&(this.showsCompass=e.showsCompass),e.padding&&(this.padding=e.padding),e.visibleMapRect?this.visibleMapRect=e.visibleMapRect:e.region?this.region=e.region:e.center&&(this.center=e.center);var n=[],i=!e.visibleMapRect&&!e.region&&!e.center&&t;e.overlays&&(u.checkArray(e.overlays,"[MapKit] Map constructor overlays option expected an array of overlays, but got `"+e.annotations+"` instead."),i?n.push.apply(n,e.overlays):this.overlays=e.overlays),e.annotations&&(u.checkArray(e.annotations,"[MapKit] Map constructor annotations option expected an array of annotations, but got `"+e.annotations+"` instead."),i?n.push.apply(n,e.annotations):this.annotations=e.annotations),n.length>0&&this.showItems(n),e.selectedOverlay&&(this.selectedOverlay=e.selectedOverlay),e.selectedAnnotation&&(this.selectedAnnotation=e.selectedAnnotation),this.tintColor=e.tintColor,this.showsUserLocation=e.showsUserLocation,this.tracksUserLocation=e.tracksUserLocation},_flushToDOM:function(e){this._addMapToParent(e),T.flush(),this._ensureContainerIsPositioned()},_addMapToParent:function(e){void 0!==e&&null!==e&&(e.appendChild(this.element),this._bootstrapSize.width&&this._bootstrapSize.height&&this._updateRenderingFrameSize(this._bootstrapSize),delete this._bootstrapSize)},performScheduledUpdate:function(){this._shouldPerformDelayedInit&&(this._delayedInit(),this._shouldPerformDelayedInit=!1)},_delayedInit:function(){this._iframe=c.htmlElement("iframe",{tabindex:-1,"aria-hidden":!0}),this._iframe.addEventListener("load",this),this.element.insertBefore(this._iframe,this._scene.element)},_updateUserLocationDisplay:function(e){this._annotationsController.updateUserLocationAnnotation(e),this._overlaysController.updateUserLocationAccuracyRingOverlay(e)},_removeUserLocationDisplay:function(){this._annotationsController.removeUserLocationAnnotation(),this._overlaysController.removeUserLocationAccuracyRingOverlay()},_updateCameraToTrackUserLocation:function(e){var t,n;if(this.tracksUserLocation&&this.showsUserLocation&&e.coordinate){if(this._firstCameraUpdateToTrackUserLocationPending&&this.zoomLevel<9.5){var i=14;if(e.location.accuracy>0){var o=5*e.location.accuracy*a.mapUnitsPerMeterAtLatitude(e.location.latitude),r=new K(0,0,o,o),s=this._visibleFrame.size;i=Math.max(this.zoomLevel,a.zoomLevelForMapRectInViewport(r,s,a.tileSize))}t=this._mapRectForCenterAndZoomLevel(e.coordinate.toMapPoint(),i),this._userLocationTrackingDelegate&&"function"==typeof this._userLocationTrackingDelegate.mapRegionWillChangeToTrackUserLocation&&(n=t.toCoordinateRegion(),this._userLocationTrackingDelegate.mapRegionWillChangeToTrackUserLocation(this.public,n),t=n.toMapRect()),this._mapNode.setCameraAnimated(this.camera.withNewMapRect(t),!0,!0)}else this._userLocationTrackingDelegate&&"function"==typeof this._userLocationTrackingDelegate.mapRegionWillChangeToTrackUserLocation?(n=(t=this._mapRectForCenterAndZoomLevel(e.coordinate.toMapPoint(),this.zoomLevel)).toCoordinateRegion(),this._userLocationTrackingDelegate.mapRegionWillChangeToTrackUserLocation(this.public,n),this._mapNode.setCameraAnimated(this.camera.withNewMapRect(t),!0,!0)):this.setCenterAnimated(e.coordinate,!0,!0);delete this._firstCameraUpdateToTrackUserLocationPending}},_updateRenderingFrameFromElement:function(){var e=this.rootNode.element,t=e.offsetWidth,n=e.offsetHeight;0!==t&&0!==n&&this._updateRenderingFrameSize(new x(t,n))},_setRenderingFrameValue:function(e){this._renderingFrame=e,this._visibleFrame=e;var t=this._adjustedPadding.copy(),n=this._adjustedPadding=this._adjustedPaddingForMapSize(e.size);n.equals(p.Zero)||(this._visibleFrame=new S(e.origin.x+n.left,e.origin.y+n.top,e.size.width-n.left-n.right,e.size.height-n.top-n.bottom)),!n.equals(t)&&this.controlsLayer&&this.controlsLayer.mapPaddingDidChange(n)},_adjustedPaddingForMapSize:function(e){var t=this.controlsLayer.legalControlExpandedSize,n=new x(Math.min(t.width,e.width),Math.min(t.height,e.height)),i=this._padding.copy(),o=i.left+i.right,r=i.top+i.bottom,a=o+n.width-e.width,s=r+n.height-e.height;if(a>0&&o>0){var l=(o-a)/o;i.left*=l,i.right*=l}if(s>0&&r>0){var c=(r-s)/r;i.top*=c,i.bottom*=c}return i},_iframeDidLoad:function(){this._iframe.contentWindow.addEventListener("resize",this),this._ensureContainerIsPositioned(),this._iframeSizeDidChange()},_iframeSizeDidChange:function(){"function"==typeof window.matchMedia&&window.matchMedia("print").matches||this._updateRenderingFrameFromElement()},_updateRenderingFrameSize:function(e){var t=!this._renderingFrame;0===e.width||0===e.height||!t&&this._renderingFrame.size.equals(e)||(this._setRenderingFrameValue(new S(0,0,e.width,e.height)),this._scene.size=e,this._mapRoot.size=e,this._mapNodeController.updateSize(e),this._delayedShowItems&&(A.setRegionForItems(this,this._delayedShowItems[0],this._delayedShowItems[1]),delete this._delayedShowItems),this.controlsLayer.sizeDidChange(),this._annotationsController.mapSizeDidUpdate())},_mapRectForCenterAndZoomLevel:function(e,t){var n=this.ensureVisibleFrame().size,i=Math.pow(2,t)*a.tileSize,o=n.width/i,r=n.height/i;return new K(e.x-o/2,e.y-r/2,o,r)},_isInitialInteractionTargetInUIElement:function(){var e=this._mapUserInteractionController.initialEventTargetForCurrentInteraction;return!!e&&(!!this._annotationsController.isElementInCallout(e)||!!this.controlsLayer.element.contains(e))},_handleZoomStartEvent:function(e){e.zoomIn&&this.zoomLevel>=this.maxZoomLevel||!e.zoomIn&&this.zoomLevel<=this.minZoomLevel||this._linearZoomController.start(this.zoomLevel,e.zoomIn)&&this._mapNode.cameraWillStartZooming()},_handleZoomEndEvent:function(e){this._linearZoomController.stop()},_setVisibleMapRect:function(e,t,n){n||(this.tracksUserLocation=!1);var i=e,o=this._adjustedPadding,r=this.ensureRenderingFrame(),a=this.ensureVisibleFrame();o.equals(p.Zero)||a.equals(S.Zero)||(i=new K(e.minX()-o.left/a.size.width*e.size.width,e.minY()-o.top/a.size.height*e.size.height,e.size.width*(r.size.width/a.size.width),e.size.height*(r.size.height/a.size.height))),this._mapNode.setVisibleMapRectAnimated(i,t)},_ensureContainerIsPositioned:function(){var e=this.rootNode.element;"static"===e.ownerDocument.defaultView.getComputedStyle(e).position&&(e.style.position="relative")},didInsertNewMapNode:function(e){e.delegate=this,this._updateMapRoot(e),window.setTimeout(function(){this.public.dispatchEvent(new k.Event(re))}.bind(this),0)},didReconfigureMapNode:function(e){e.backgroundGridTheme=l[this._mapType===i.MapTypes.Standard?"Light":"Dark"],this._linearZoomController&&(this._linearZoomController.snapsToIntegralZoomLevels=e.snapsToIntegralZoomLevels),this.controlsLayer.updateZoomControl()},didFinishMapNodeInitialization:function(e){if(e.customCanvas){var t=this._scene.element;t.parentNode.insertBefore(e.customCanvas,t)}else this._scene.addChild(e,0)},mapNodeReady:function(e){window.setTimeout(function(){var t=new k.Event(ae);t.usingCSR=e,this.public.dispatchEvent(t),M.log(M.Events.MapNodeReady,{map:this})}.bind(this),0),this.controlsLayer.updateRotationControl(),this._annotationsController.mapSupportForLabelRegionsChanged()},_updateMapRoot:function(e){this._mapRoot&&this._mapRoot.remove(),this._mapRoot=this.rootNode.insertBefore(new L.Node(e.element),this.rootNode.firstChild),e.element.className="mk-map-node-element",this._mapRoot.size=e.size=this._scene.size,this._mapRoot.addChild(this._annotationsController.node),this._mapRoot.addChild(this.controlsLayer)},overlaySelectionDidChange:function(e){e.selected&&(this._annotationsController.selectedItem=null);var t=new k.Event(e.selected?X:$);t.overlay=e,this.public.dispatchEvent(t)},annotationSelectionDidChange:function(e){e.selected&&(this._overlaysController.selectedItem=null),this.dispatchEventWithAnnotation(e.selected?X:$,e)},dispatchEventWithAnnotation:function(e,t,n){var i=new k.Event(e);if(i.annotation=t,n)for(var o in n)i[o]=n[o];this.public.dispatchEvent(i)},addWaitingAnnotations:function(){this.shouldWaitForTilesAndControls()||this._annotationsController.addWaitingAnnotations(this._dispatchCompleteEvent.bind(this))},_dispatchCompleteEvent:function(){this._mapNode.fullyRendered&&this.public.dispatchEvent(new k.Event(se))},_handleLocaleChange:function(e){this._mapNodeController.handleMapConfigurationChange(),c.classList.toggle(this.controlsLayer.element,"mk-rtl",e.locale.rtl);var t=this.ensureRenderingFrame();0!==t.size.width&&0!==t.size.height&&(this._annotationsController.rtl=e.locale.rtl,this._setRenderingFrameValue(t))},_elementWasTapped:function(e){for(;null!==e;e=e.parentNode)if(function(e){return"a"===e.localName||"button"===e.localName||"input"===e.localName&&"button"===e.type}(e))return void e.click()},_devicePixelRatioDidChange:function(e){this.controlsLayer.devicePixelRatioDidChange(e),this._annotationsController.devicePixelRatioDidChange(),this._mapNode.devicePixelRatioDidChange()||this._mapNodeController.handleRecreate()},_mapRectAccountingForPadding:function(){var e=this.renderingMapRect;if(this._adjustedPadding.equals(p.Zero))return e.copy();var t=this.ensureVisibleFrame(),n=this.ensureRenderingFrame();return new K(e.minX()+this._adjustedPadding.left/n.size.width*e.size.width,e.minY()+this._adjustedPadding.top/n.size.height*e.size.height,e.size.width*(t.size.width/n.size.width),e.size.height*(t.size.height/n.size.height))},_setupListeners:function(){h.state===h.States.READY&&this._configurationDidBecomeAvailable(!0),h.addEventListener(h.Events.Changed,this),g.activeLocale&&this._handleLocaleChange({locale:g.activeLocale}),g.addEventListener(g.Events.LocaleChanged,this),O.addEventListener("device-pixel-ratio-change",this),"function"==typeof window.matchMedia&&(this._boundPrintListener=this._printMediaQueryChanged.bind(this),this._mediaQuery=window.matchMedia("print"),this._mediaQuery.addListener(this._boundPrintListener))},_removePrintListener:function(){"function"==typeof window.matchMedia&&(this._mediaQuery.removeListener(this._boundPrintListener),this._boundPrintListener=null,this._mediaQuery=null)},_printMediaQueryChanged:function(e){var t=this._mapNode;e.matches?(this.rootNode.element.style.background=this.rootNode.element.parentNode.getAttribute("data-map-printing-background"),t.fullyRendered?this._ensureMapCenterDuringPrint(!0):(t.opacity=0,this._annotationsController.addWaitingAnnotations()),this._mapNodeController.handlePrintMatch(),T.flush()):(this._mapNodeController.handlePrintUnmatch(),t.opacity=1,this.rootNode.element.style.background="",this._ensureMapCenterDuringPrint(!1))},_ensureMapCenterDuringPrint:function(e){var t=[this._scene.element];this._mapNode.customCanvas&&t.push(this._mapNode.customCanvas),t.forEach((function(t){if(e){var n=this._scene.size;t.style.left="50%",t.style.marginLeft="-"+n.width/2+"px",t.style.top="50%",t.style.marginTop="-"+n.height/2+"px"}else t.style.left="",t.style.marginLeft="",t.style.top="",t.style.marginTop=""}),this)},_mapStabilizationTimeout:null,_startStabilizationTimeoutIfNeeded:function(){this._mapNode&&this._mapNode.fullyRendered&&!this.cameraIsPanning&&!this.cameraIsZooming&&this._mapNode.cssBackgroundProperty&&(this._stopStabilizationTimeout(),this._mapStabilizationTimeout=window.setTimeout(this._updatePrintingBackground.bind(this),500))},_stopStabilizationTimeout:function(){this._mapStabilizationTimeout&&(window.clearTimeout(this._mapStabilizationTimeout),this._mapStabilizationTimeout=null)},_updatePrintingBackground:function(){this._mapNode&&this._mapNode.fullyRendered&&this.isRooted()&&this.rootNode.element.parentNode.setAttribute("data-map-printing-background",this._mapNode.cssBackgroundProperty)},_loadSpileAndSwitchToCSR:function(e,t){if(h.state===h.States.READY)if(this._mapNode){var n=function(){t&&(h._madabaBaseUrl=t,h._customMadabaUrl=!0),h._disableCsr=!1,this._mapNodeController.forceSyrup()}.bind(this);if(e){if(!this._mapNodeController.hasSpile){var i=document.head.appendChild(document.createElement("script"));return i.addEventListener("error",(function(){i.remove()})),i.addEventListener("load",n),void(i.src=e)}console.warn("Spile is already loaded; will not load again from "+e+".")}n()}else console.warn("Will not force switch to CSR: no map node yet.");else console.warn("Will not force switch to CSR: configuration not loaded.")}},t.exports=i},{"../../lib/geo":2,"../../lib/map-node":7,"../../lib/scene-graph":47,"./analytics/analytics":112,"./annotations/annotation":127,"./annotations/annotations-controller":129,"./collections/item-collection":158,"./configuration":159,"./constants":161,"./controls/controls-layer":163,"./controls/zoom-control":170,"./instruments":176,"./interaction/linear-zoom-controller":177,"./interaction/map-user-interaction-controller":179,"./layer-items-controller":180,"./localizer":182,"./map-node-controller":184,"./overlays/overlay":194,"./overlays/overlays-controller":196,"./padding":209,"./types-internal":221,"./user-location/user-location-controller":223,"./utils":225,"@maps/device-pixel-ratio":61,"@maps/dom-events":62,"@maps/geometry/point":69,"@maps/geometry/rect":70,"@maps/geometry/size":71,"@maps/js-utils":84,"@maps/render-tree":102,"@maps/scheduler":106}],184:[function(e,t,n){function i(e,t){this._state=null,this._map=e,this._previousNode=null,this.node=null,this._initialOptions=t,this._cachedWebGLCheck=null,this.hasSpile=null,this._previousCanRunCSR=!1,this._updateState("sg_grid")}function o(e){return btoa(e)}function r(e){if(s.supportsLocalStorage)try{return window.localStorage.getItem(e)}catch(e){return}}var a=e("./configuration"),s=e("@maps/js-utils"),l=e("../../lib/map-node").SceneGraphMapNode,c=e("../../lib/map-node").SyrupMapNode,u=e("./debug"),h=e("@maps/fast-webgl-check"),d=e("@maps/loaders").XHRLoader,p=e("@maps/loaders").Priority,m=e("./constants").FeatureVisibility,f=1,g=5,_="mapkit.SpileTestResults",v={sg_grid:{"global-configuration":"sg_ready",upgrade:"syrup_insert"},sg_insert:{"global-configuration":"sg_ready",upgrade:"syrup_insert",recreate:"sg_insert"},syrup_insert:{"global-configuration":"syrup_need_spile",fallback:"sg_insert",recreate:"syrup_insert"},syrup_need_spile:{"spile-load":"syrup_init",fallback:"sg_insert",recreate:"syrup_insert"},syrup_init:{"global-configuration":"syrup_network_stalled",fallback:"sg_insert",recreate:"syrup_insert","syrup-complete":"syrup_ready"},syrup_network_stalled:{"global-configuration":"syrup_network_stalled",fallback:"sg_insert",recreate:"syrup_insert","syrup-complete":"syrup_ready"},sg_ready:{"global-configuration":"sg_ready",upgrade:"syrup_insert",recreate:"sg_insert","map-configuration":"sg_ready"},syrup_ready:{"global-configuration":"syrup_ready",fallback:"sg_insert",recreate:"syrup_insert","map-configuration":"syrup_ready","print-match":"syrup_printing"},syrup_printing:{"print-unmatch":"syrup_ready"}};i.prototype={constructor:i,defaultSpileURL:"//cdn.apple-mapkit.com/mk/csr/1.x.x/mk-csr.js",get usingSSR(){return"sg_insert"===this._state||"sg_ready"===this._state},get usingAdvancedAPIs(){return!0},get manageableMap(){var e=this._map.ensureRenderingFrame(),t=.2*this._gpuInfo.MAX_RENDERBUFFER_SIZE;return e.size.width<=t&&e.size.height<=t},get csrCapable(){return this._webglCheckResult.shouldTryCSR&&!this.knownBadRendering},get shouldDynamicallyLoadSyrup(){return this._webglCheckResult.shouldTryCSR},get knownGoodRendering(){return!!this._cachedSpileResult&&!!this._cachedSpileResult.pass},get knownBadRendering(){return!!this._cachedSpileResult&&!this._cachedSpileResult.pass},get _webglCheckResult(){if(null===this._cachedWebGLCheck){var e=this._map.ensureRenderingFrame().size;this._cachedWebGLCheck=h(e.width,e.height)}return this._cachedWebGLCheck},get _gpuInfo(){return this._webglCheckResult&&this._webglCheckResult.webGL?this._webglCheckResult.webGL.gpuInfo:{MAX_RENDERBUFFER_SIZE:0,VERSION:"unknown"}},get gpuKey(){return o(this._gpuInfo.VERSION)},get _cachedSpileResult(){var e=r(_);if(e){var t=JSON.parse(e);if(t)return t[this.gpuKey]}},get renderingMode(){var e="CLIENT";return this.usingSSR?e="SERVER":this._startedInLoCSR&&(e="HYBRID"),e},configurationDidBecomeAvailable:function(e){var t=this._previousCanRunCSR,n=a.canRunCSR;this._previousCanRunCSR=n,!t||n||this.usingSSR?!t&&n?this.handleUpgrade():e||this.handleGlobalConfigurationChange():this.handleFallback()},forceSyrup:function(){this.hasSpile=null,this._transition("upgrade")},updateSize:function(e){this.node.size=e,this._previousNode&&(this._previousNode.size=e)},destroy:function(){this.node.destroy(),this.node.delegate=null,this.node=null,this._previousNode&&(this._previousNode.destroy(),this._previousNode=null)},handleGlobalConfigurationChange:function(){this._transition("global-configuration")},handleSpileLoad:function(){this._transition("spile-load")},handleFallback:function(e){e?this._logFallback("TEST_FAILURE"):a.didFallback?this._logFallback("BOOTSTRAP_FALLBACK"):this._logFallback("SYRUP_FALLBACK"),this._transition("fallback")},handleUpgrade:function(){this._transition("upgrade")},handleRecreate:function(){this._transition("recreate")},handleMapConfigurationChange:function(){this._transition("map-configuration")},handleSyrupComplete:function(){this._transition("syrup-complete")},handlePrintMatch:function(){this._transition("print-match")},handlePrintUnmatch:function(){this._transition("print-unmatch")},_transition:function(e){var t=v[this._state][e];t&&this._updateState(t)},_updateState:function(e){this._state=e;var t=this["_enter_"+e];"function"==typeof t&&t.call(this)},_loadSpileIfNeeded:function(e){var t=null,n=function(){t&&(t.removeEventListener("error",n),t.removeEventListener("load",n),t=null),this.hasSpile=!!window.Spile&&!!window.Spile.Syrup,e.call(this,this.hasSpile)}.bind(this);null!=this.hasSpile?e.call(this,this.hasSpile):"function"==typeof window.Spile?n():((t=document.head.appendChild(document.createElement("script"))).addEventListener("error",n),t.addEventListener("load",n),t.src=window.location.protocol+this.defaultSpileURL)},_insertSceneGraphNode:function(){this.usingSSR&&(this.node.isRotationEnabled=!1);var e=new l;this._insertNewMapNode(e),this._map.didFinishMapNodeInitialization(e)},_enter_sg_grid:function(){this._insertSceneGraphNode(),a.ready&&!a.canRunCSR&&this._updateState("sg_ready")},_enter_sg_insert:function(){this._insertSceneGraphNode(),a.ready&&this._updateState("sg_ready")},_enter_syrup_insert:function(){this._insertNewMapNode(new c),a.state===a.States.READY&&this._updateState("syrup_need_spile")},_insertNewMapNode:function(e){var t=this._initialOptions||{};this.node?(this._removePreviousMapNode(),this._previousNode=this.node,this._previousNode.deactivate(),this.node.migrateStateTo(e)):(e.pannable=!("isScrollEnabled"in t)||!!t.isScrollEnabled,e.zoomable=!("isZoomEnabled"in t)||!!t.isZoomEnabled,e.showsPointsOfInterest=!("showsPointsOfInterest"in t)||!!t.showsPointsOfInterest,e.showsDefaultTiles=!("_showsDefaultTiles"in t)||!!t._showsDefaultTiles),this.node=e,this._map.didInsertNewMapNode(e),this._initialOptions?delete this._initialOptions:this.node._impl._cameraDidChange(this.node,!1)},_removePreviousMapNode:function(){this._previousNode&&(this._previousNode.destroy(!0),this._previousNode.remove(),this._previousNode=null)},_enter_syrup_need_spile:function(){if(this.shouldDynamicallyLoadSyrup)return this.knownBadRendering?(this.handleFallback(),void this._loadSpileIfNeeded((function(e){e&&(this.isSpileResultValid(this._cachedSpileResult)||(this.invalidateSpileCache(),this.spileRun()))}))):void this._loadSpileIfNeeded((function(e){e?this.handleSpileLoad():this.handleFallback()}));this.handleFallback()},_enter_syrup_init:function(){if(!a.madabaDomains||!a.madabaDomains.length)return this._csrWarning(f),void this.handleFallback();this._cachedSpileResult&&!this.isSpileResultValid(this._cachedSpileResult)&&this.invalidateSpileCache();var e=Spile.getRendererWithoutAnyWarranty();if(this._startedInLoCSR=!(this.knownGoodRendering&&this.manageableMap&&!a.previewLoCSR),this.manageableMap||this.usingAdvancedAPIs||a.previewLoCSR){var t=this.node;this._reConfigureMapNode(),t.init(a,e,Spile.Syrup.Camera,this._startedInLoCSR,function(e){e?(this._csrWarning(g),this.handleFallback()):(this._reConfigureMapNode(),t.needsDisplay=!0,this._map.didFinishMapNodeInitialization(t),this.handleSyrupComplete())}.bind(this))}else this.handleFallback()},_csrWarning:function(e){console.warn("[MapKit] CSR is unavailable:",e)},_enter_syrup_network_stalled:function(){this.node.updateNetworkConfiguration(a)},_enter_sg_ready:function(){this._removePreviousMapNode(),this._reConfigureMapNode(),this.node.isRotationEnabled=!1,this._map.mapNodeReady(!1)},_enter_syrup_ready:function(){this._removePreviousMapNode(),this._reConfigureMapNode(),this.node.updateNetworkConfiguration(a),this._map.mapNodeReady(!0),this._cachedSpileResult||this.spileRun()},_reConfigureMapNode:function(){this.node.language=a.language,this.node.configuration=a.types[this._map.mapType],this.node._impl.debug||(this.node._impl.debug=!!u.options.showsTileInfo),this._map.didReconfigureMapNode(this.node)},_enter_syrup_printing:function(){this.node.forceRerender(),this.node.needsDisplay=!0},_logFallback:function(e){s.doNotTrack()||(this._fallbackReason=e,new d("https://gsp10-ssl.ls.apple.com/hvr/mw/v1/spile",this,{method:"POST",priority:p.Low}).schedule())},_usingCSRAPI:function(){return!(this._map._showsCompass!==m.Visible&&(this._map._showsCompass!==m.Adaptive||this._map._usingDefaultShowsCompassValue)&&0===this._map.rotation&&!this._map._annotationsController.containsMarkerAnnotation())},getDataToSend:function(e){return e.setRequestHeader("Content-Type","text/plain"),e.responseType="text",JSON.stringify({ssrFallback:{reason:this._fallbackReason,usingCSRAPI:this._usingCSRAPI()}})},spileRun:function(){Spile&&Spile.testRendering&&Spile.testRendering(this.cacheSpileResult.bind(this))},cacheSpileResult:function(e){if(e.status!==Spile.Status.MAYBE&&e["gpu-identifier"]){var t=o(e["gpu-identifier"].VERSION),n=e.status===Spile.Status.YES,i=JSON.parse(r(_))||{};i[t]={pass:n,version:Spile.version},function(e,t){if(s.supportsLocalStorage)try{window.localStorage.setItem(e,t)}catch(e){return}}(_,JSON.stringify(i)),n||this.usingSSR||this.handleFallback(!0)}},isSpileResultValid:function(e){if(Spile&&Spile.version)return e.version===Spile.version},invalidateSpileCache:function(){!function(e){if(s.supportsLocalStorage)try{window.localStorage.removeItem(e)}catch(e){return}}(_)}},t.exports=i},{"../../lib/map-node":7,"./configuration":159,"./constants":161,"./debug":173,"@maps/fast-webgl-check":63,"@maps/js-utils":84,"@maps/loaders":85}],185:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new o(this,e,t)})}var o=e("./map-internal");i.MapTypes=o.MapTypes,i.prototype={constructor:i,get padding(){return this._impl.padding},set padding(e){this._impl.padding=e},get isScrollEnabled(){return this._impl.isScrollEnabled},set isScrollEnabled(e){this._impl.isScrollEnabled=e},get isZoomEnabled(){return this._impl.isZoomEnabled},set isZoomEnabled(e){this._impl.isZoomEnabled=e},get showsZoomControl(){return this._impl.showsZoomControl},set showsZoomControl(e){this._impl.showsZoomControl=e},get showsScale(){return this._impl.showsScale},set showsScale(e){this._impl.showsScale=e},get mapType(){return this._impl.mapType},set mapType(e){this._impl.mapType=e},get _showsTileInfo(){return this._impl._showsTileInfo},set _showsTileInfo(e){this._impl._showsTileInfo=e},get _showsDefaultTiles(){return this._impl._showsDefaultTiles},set _showsDefaultTiles(e){this._impl._showsDefaultTiles=e},get tileOverlays(){return this._impl.tileOverlays},set tileOverlays(e){this._impl.tileOverlays=e},addTileOverlay:function(e){return this._impl.addTileOverlay(e)},addTileOverlays:function(e){return this._impl.addTileOverlays(e)},removeTileOverlay:function(e){return this._impl.removeTileOverlay(e)},removeTileOverlays:function(e){return this._impl.removeTileOverlays(e)},get showsMapTypeControl(){return this._impl.showsMapTypeControl},set showsMapTypeControl(e){this._impl.showsMapTypeControl=e},get showsUserLocationControl(){return this._impl.showsUserLocationControl},set showsUserLocationControl(e){this._impl.showsUserLocationControl=e},get showsPointsOfInterest(){return this._impl.showsPointsOfInterest},set showsPointsOfInterest(e){this._impl.showsPointsOfInterest=e},get element(){return this._impl.element},set element(e){this._impl.element=e},get visibleMapRect(){return this._impl.visibleMapRect},set visibleMapRect(e){this._impl.visibleMapRect=e},setVisibleMapRectAnimated:function(e,t){return this._impl.setVisibleMapRectAnimated(e,t)},get region(){return this._impl.region},set region(e){this._impl.region=e},setRegionAnimated:function(e,t){return this._impl.setRegionAnimated(e,t)},get isRotationAvailable(){return this._impl.isRotationAvailable},set isRotationAvailable(e){this._impl.isRotationAvailable=e},get isRotationEnabled(){return this._impl.isRotationEnabled},set isRotationEnabled(e){this._impl.isRotationEnabled=e},get rotation(){return this._impl.rotation},set rotation(e){this._impl.rotation=e},get showsCompass(){return this._impl.showsCompass},set showsCompass(e){this._impl.showsCompass=e},setRotationAnimated:function(e,t){return this._impl.setRotationAnimated(e,t)},get center(){return this._impl.center},set center(e){this._impl.center=e},setCenterAnimated:function(e,t){return this._impl.setCenterAnimated(e,t)},get overlays(){return this._impl.overlays},set overlays(e){this._impl.overlays=e},get selectedOverlay(){return this._impl.selectedOverlay},set selectedOverlay(e){this._impl.selectedOverlay=e},addOverlay:function(e){return this._impl.addOverlay(e)},addOverlays:function(e){return this._impl.addOverlays(e)},removeOverlay:function(e){return this._impl.removeOverlay(e)},removeOverlays:function(e){return this._impl.removeOverlays(e)},topOverlayAtPoint:function(e){return this._impl.topOverlayAtPoint(e)},overlaysAtPoint:function(e){return this._impl.overlaysAtPoint(e)},get annotations(){return this._impl.annotations},set annotations(e){this._impl.annotations=e},get selectedAnnotation(){return this._impl.selectedAnnotation},set selectedAnnotation(e){this._impl.selectedAnnotation=e},addAnnotation:function(e){return this._impl.addAnnotation(e)},addAnnotations:function(e){return this._impl.addAnnotations(e)},removeAnnotation:function(e){return this._impl.removeAnnotation(e)},removeAnnotations:function(e){return this._impl.removeAnnotations(e)},showItems:function(e,t){return this._impl.showItems(e,t)},addItems:function(e){return this._impl.addItems(e)},removeItems:function(e){return this._impl.removeItems(e)},annotationsInMapRect:function(e){return this._impl.annotationsInMapRect(e)},updateSize:function(e){return this._impl.updateSize(e)},convertCoordinateToPointOnPage:function(e){return this._impl.convertCoordinateToPointOnPage(e)},convertPointOnPageToCoordinate:function(e){return this._impl.convertPointOnPageToCoordinate(e)},get showsUserLocation(){return this._impl.showsUserLocation},set showsUserLocation(e){this._impl.showsUserLocation=e},get userLocationAnnotation(){return this._impl.userLocationAnnotation},get tracksUserLocation(){return this._impl.tracksUserLocation},set tracksUserLocation(e){this._impl.tracksUserLocation=e},get tintColor(){return this._impl.tintColor},set tintColor(e){this._impl.tintColor=e},get performanceLog(){return this._impl._performanceLog},destroy:function(){this._impl.destroy()},get annotationForCluster(){return this._impl.annotationForCluster},set annotationForCluster(e){this._impl.annotationForCluster=e}},t.exports=i},{"./map-internal":183}],186:[function(e,t,n){function i(e){r.call(this,e.coordinate,o(e),{style:l})}function o(e){return!e.stale&&e.location.accuracy>0&&e.location.accuracy<c?e.location.accuracy:0}var r=e("./circle-overlay"),a=e("./style"),s=e("@maps/js-utils"),l=new a({strokeColor:null}),c=3e4;i.prototype=s.inheritPrototype(r,i,{updateForUserLocation:function(e){this.coordinate=e.coordinate,this.radius=o(e)}}),t.exports=i},{"./circle-overlay":190,"./style":204,"@maps/js-utils":84}],187:[function(e,t,n){function i(e,t,n,i){r.call(this,new a(this),e,i),this.coordinate=t,this.radius=n}function o(){return[this._coordinate.toMapPoint()]}var r=e("./styled-overlay-internal"),a=e("./circle-overlay-node"),s=e("../../../lib/geo"),l=s.Coordinate,c=s.MapRect,u=e("@maps/js-utils");i.prototype=u.inheritPrototype(r,i,{get coordinate(){return this._coordinate},set coordinate(e){u.checkInstance(e,l,"[MapKit] CircleOverlayInternal.coordinate expected a Coordinate value, but got `"+e+"` instead."),this._coordinate&&this._coordinate.latitude===e.latitude&&this._coordinate.longitude===e.longitude||(this._coordinate=e.copy(),this.updateGeometry())},get radius(){return this._radius},set radius(e){var t="[MapKit] CircleOverlayInternal.radius expected a non-negative number (radius in meters), but got `"+e+"` instead.";u.checkType(e,"number",t),e<0&&console.warn(t);var n=Math.max(0,e);this._radius!==n&&(this._radius=n,this.updateGeometry())},calculateBoundingRect:function(){if(!this._coordinate||isNaN(this._radius))return null;var e=this._center=this._coordinate.toMapPoint(),t=this._mapRadius=this._radius*s.mapUnitsPerMeterAtLatitude(this._coordinate.latitude);return new c(e.x-t,e.y-t,2*t,2*t)},simplifyShapeAtLevel:o,clip:o}),t.exports=i},{"../../../lib/geo":2,"./circle-overlay-node":188,"./styled-overlay-internal":205,"@maps/js-utils":84}],188:[function(e,t,n){function i(e){o.call(this,e,!0,new r(this))}var o=e("./styled-overlay-node.js"),r=e("./circle-overlay-renderer.js"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{stringInfo:function(){var e=this.overlay;return"CircleOverlayNode<radius:"+e.radius+","+e.coordinate.toString().toLowerCase()+">"+(e.style.toString()?"["+e.style+"]":"")}}),t.exports=i},{"./circle-overlay-renderer.js":189,"./styled-overlay-node.js":206,"@maps/js-utils":84}],189:[function(e,t,n){function i(e){s.call(this,e)}function o(e,t,n,i,o,r,s){e.beginPath();var l=t.transformMapPoint(new a(n.x+i,n.y));r&&(r+=t.rotation),s&&(s-=t.rotation),e.arc(l.x,l.y,o,r||0,s||c,!0)}var r=e("../../../lib/geo").MapPoint,a=e("@maps/geometry/point"),s=e("./styled-overlay-renderer"),l=e("@maps/js-utils"),c=2*Math.PI;i.prototype=l.inheritPrototype(s,i,{drawShapes:function(e,t,n,i,r,a){var s=this._node.shapes[0],l=s[0],c=this._node.overlay._mapRadius,u=c*a.worldSize;u<.5||this.drawClipped(e,t,n,i,r,a,l,c,s.xOffset)||(o(e,a,l,s.xOffset,u),n&&this._node.overlay.fillPath(e,t),i&&this._node.overlay.strokePath(e,t,1))},drawClipped:function(e,t,n,i,s,l,u,h,d){function p(e,t){var n=b-e,i=w-t;return n*n+i*i<=h*h}if(!i||h<s.size.width||h<s.size.height)return!1;var m,f=t._impl.halfStrokeWidthAtResolution()/l.worldSize,g=s.minX()-f-d,_=s.maxX()+f-d,v=s.minY()-f,y=s.maxY()+f,b=u.x,w=u.y,C=[];p(_,y)&&C.push(new r(_,y));var E=Math.acos((_-b)/h);if(!isNaN(E)){var S=w+h*Math.sin(E);S>=v&&S<=y&&((m=new r(_,S)).angle=E,C.push(m)),(S=w-h*Math.sin(E))>=v&&S<=y&&((m=new r(_,S)).angle=c-E,C.push(m))}p(_,v)&&C.push(new r(_,v));var x=Math.asin((v-w)/h);if(!isNaN(x)){var k=b+h*Math.cos(x);k>=g&&k<=_&&((m=new r(k,v)).angle=(x+c)%c,C.push(m)),(k=b-h*Math.cos(x))>=g&&k<=_&&((m=new r(k,v)).angle=Math.PI-x,C.push(m))}p(g,v)&&C.push(new r(g,v));var L=Math.acos((g-b)/h);if(!isNaN(L)){var T=w-h*Math.sin(L);T>=v&&T<=y&&((m=new r(g,T)).angle=c-L,C.push(m)),(T=w+h*Math.sin(L))>=v&&T<=y&&((m=new r(g,T)).angle=L,C.push(m))}p(g,y)&&C.push(new r(g,y));var O=Math.asin((y-w)/h);if(!isNaN(O)){var M=b-h*Math.cos(O);M>=g&&M<=_&&((m=new r(M,y)).angle=Math.PI-O,C.push(m)),(M=b+h*Math.cos(O))>=g&&M<=_&&((m=new r(M,y)).angle=(O+c)%c,C.push(m))}for(var A=C.length,P=1;A>2&&P<A&&(!isNaN(C[P-1].angle)||isNaN(C[P].angle)||isNaN(C[(P+1)%A].angle));++P);if(P<A){for(var R=(P+1)%A;A>2&&!isNaN(C[R].angle)&&!isNaN(C[(R+1)%A].angle);R=(R+1)%A);var I=h*l.worldSize,N=Math.abs(C[P].angle-C[R].angle),z=I*N-2*I*Math.sin(N/2)>.001,D=l.transformMapPoint(new a(C[P].x+d,C[P].y)),F=l.transformMapPoint(new a(C[R].x+d,C[R].y));if(n){z?o(e,l,u,d,I,C[P].angle,C[R].angle):(e.beginPath(),e.moveTo(D.x,D.y),e.lineTo(F.x,F.y));for(var j=(R+1)%A;isNaN(C[j].angle);j=(j+1)%A){var U=l.transformMapPoint(new a(C[j].x+d,C[j].y));e.lineTo(U.x,U.y)}this._node.overlay.fillPath(e,t)}i&&(z?o(e,l,u,d,I,C[P].angle,C[R].angle):(e.beginPath(),e.moveTo(D.x,D.y),e.lineTo(F.x,F.y)),this._node.overlay.strokePath(e,t))}else A>0&&n&&(e.fillStyle=t.fillColor,e.globalAlpha=t.fillOpacity,e.fillRect(0,0,s.size.width*l.worldSize,s.size.height*l.worldSize));return!0}}),t.exports=i},{"../../../lib/geo":2,"./styled-overlay-renderer":207,"@maps/geometry/point":69,"@maps/js-utils":84}],190:[function(e,t,n){function i(e,t,n){Object.defineProperty(this,"_impl",{value:new r(this,e,t,n)})}var o=e("./styled-overlay"),r=e("./circle-overlay-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get coordinate(){return this._impl.coordinate},set coordinate(e){this._impl.coordinate=e},get radius(){return this._impl.radius},set radius(e){this._impl.radius=e}}),t.exports=i},{"./circle-overlay-internal":187,"./styled-overlay":208,"@maps/js-utils":84}],191:[function(e,t,n){function i(){this._overlays=[]}var o=e("@maps/js-utils"),r=e("@maps/scheduler");i.prototype={constructor:i,fadeOverlayTo:function(e,t){e.hasOwnProperty("fadeInOutOpacity")?e.fadeInOutOpacity.durationMs=350*Math.abs(e.fadeInOutOpacity.value-e.fadeInOutOpacity.end):(e.fadeInOutOpacity={durationMs:350},e.setFadeInOutOpacity(1-t),this._overlays.push(e)),e.fadeInOutOpacity.start=e.fadeInOutOpacity.value,e.fadeInOutOpacity.end=t,e.fadeInOutOpacity.startTime=Date.now(),r.scheduleASAP(this)},performScheduledUpdate:function(){var e=Date.now();this._overlays=this._overlays.filter((function(t){return t.setFadeInOutOpacity(o.clamp(t.fadeInOutOpacity.start+(t.fadeInOutOpacity.end-t.fadeInOutOpacity.start)*((e-t.fadeInOutOpacity.startTime)/t.fadeInOutOpacity.durationMs),0,1)),t.fadeInOutOpacity.value!==t.fadeInOutOpacity.end||(delete t.fadeInOutOpacity,!1)})),this._overlays.length>0&&r.scheduleOnNextFrame(this)}},t.exports=i},{"@maps/js-utils":84,"@maps/scheduler":106}],192:[function(e,t,n){function i(e,t,n){r.EventTarget(t),this._node=e,this._public=t,n=o.checkOptions(n),s.forEach((function(e){e in n&&(this[e]=n[e])}),this),Object.keys(n).forEach((function(e){s.indexOf(e)<0&&console.warn("[MapKit] Unknown option: "+e+". Use the data property to store custom data.")}))}var o=e("@maps/js-utils"),r=e("@maps/dom-events"),a=e("../../../lib/geo").MapRect,s=["visible","enabled","selected","data"];i.prototype={constructor:i,delegate:null,_map:null,_visible:!0,_enabled:!0,_selected:!1,get map(){return this._map},set map(e){console.warn("[MapKit] The `map` property of an overlay is read-only. Use map.addOverlay() instead.")},get data(){return this.hasOwnProperty("_data")||(this._data={}),this._data},set data(e){this._data=e},get visible(){return this._visible},set visible(e){var t=!!e;this._visible!==t&&(this._visible=t,this.updatedProperty("visible"))},get enabled(){return this._enabled},set enabled(e){this._enabled=!!e},get selected(){return this._selected},set selected(e){var t=!!e;t!==this._selected&&(this._selected=t,this.updatedProperty("selected"))},get node(){return this._node},canBePicked:function(){return this.shown&&this._visible},setMap:function(e){e?this._map=e:this._map&&delete this._map},handleEvent:function(){},updatedProperty:function(e){this.delegate&&this.delegate.overlayPropertyDidChange(this._public,e)},visibleAfterClipping:function(e,t,n,i,o){this._node.shapes=[];var r=this.visibilityToleranceAtScale(n),s=this._boundingRect||this.boundingRectAtScale(n);if(!this.visible||s.maxY()+r<e.minY()||s.minY()-r>e.maxY())return!1;for(var l=s.minX()-r,c=s.maxX()+r,u=-1;u<=1;++u){var h=0===u?e:new a(e.origin.x-u,e.origin.y,e.size.width,e.size.height);if(c>=h.minX()&&l<=h.maxX()){var d=this.clipOverlay(h,t,n,i,o);d.length>0&&(d.xOffset=u,this._node.shapes.push(d))}}return this._node.shapes.length>0},visibilityToleranceAtScale:function(){return 0}},t.exports=i},{"../../../lib/geo":2,"@maps/dom-events":62,"@maps/js-utils":84}],193:[function(e,t,n){function i(e){o.BaseNode.call(this),this.overlay=e}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o.BaseNode,i,{}),t.exports=i},{"../../../lib/scene-graph":47,"@maps/js-utils":84}],194:[function(e,t,n){function i(e){Object.defineProperty(this,"_impl",{value:new o(null,this,e)})}var o=e("./overlay-internal");i.Events={Select:"select",Deselect:"deselect"},i.prototype={constructor:i,get map(){return this._impl.map},set map(e){this._impl.map=e},get data(){return this._impl.data},set data(e){this._impl.data=e},get visible(){return this._impl.visible},set visible(e){this._impl.visible=e},get enabled(){return this._impl.enabled},set enabled(e){this._impl.enabled=e},get selected(){return this._impl.selected},set selected(e){this._impl.selected=e}},t.exports=i},{"./overlay-internal":192}],195:[function(e,t,n){function i(e){o.GroupNode.call(this),this._controller=e}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o.GroupNode,i,{stringInfo:function(){return"OverlaysControllerNode"}}),t.exports=i},{"../../../lib/scene-graph":47,"@maps/js-utils":84}],196:[function(e,t,n){function i(e){o.call(this,e),this._node=new r(this),this._fadeAnimationController=new s}var o=e("../layer-items-controller"),r=e("./overlays-controller-node"),a=e("./overlay"),s=e("./fade-animation-controller"),l=e("./accuracy-ring-overlay"),c=e("../utils"),u=e("@maps/js-utils"),h=e("../../../lib/geo").MapRect,d=e("@maps/geometry/point"),p=e("@maps/scheduler"),m=e("../constants");i.prototype=u.inheritPrototype(o,i,{itemConstructor:a,itemName:"overlay",capitalizedItemName:"Overlay",get map(){return this._map},get node(){return this._node},isItemExposed:function(e){return e!==this._userLocationAccuracyRingOverlay},removeUserLocationAccuracyRingOverlay:function(){this._userLocationAccuracyRingOverlay&&(this.removeItem(this._userLocationAccuracyRingOverlay),delete this._userLocationAccuracyRingOverlay)},removedReferenceToMap:function(){this._items.forEach((function(e){e._impl.setMap(null)}))},mapTypeWasSet:function(e){this._userLocationAccuracyRingOverlay&&(this._userLocationAccuracyRingOverlay.style.fillOpacity=e?.4:.1)},mapCameraDidChange:function(){p.scheduleASAP(this),this._deletePreviousPointForPickingItem()},overlayPropertyDidChange:function(e,t){switch(t){case"selected":e.selected?this.selectedItem=e:this.selectedItem=null,this._map.overlaySelectionDidChange(e),p.scheduleASAP(this);break;case"style":case"visible":case"geometry":p.scheduleASAP(this)}},fadeOverlayTo:function(e,t){this._fadeAnimationController.fadeOverlayTo(e,t)},updateUserLocationAccuracyRingOverlay:function(e){if(e.coordinate)return this._userLocationAccuracyRingOverlay?void this._userLocationAccuracyRingOverlay.updateForUserLocation(e):(this._userLocationAccuracyRingOverlay=this.addItem(new l(e)),void this.mapTypeWasSet(this._map.mapType!==m.MapTypes.Standard))},addedItem:function(e,t){o.prototype.addedItem.call(this,e,t),e._impl.setMap(this._map.public),e.selected&&(this.selectedItem=e),p.scheduleASAP(this)},removedItem:function(e){e._impl.setMap(null),o.prototype.removedItem.call(this,e),p.scheduleASAP(this)},pickableItemsCloseToPoint:function(e,t,n){var i=document.createElement("canvas"),o=i.getContext("2d");i.width=this._selectionDistance,i.height=this._selectionDistance;var r=this._map.camera.copy();t=r.transformGestureCenter(t);var a=r.toMapRect(),s=r.worldSize,l=this._selectionDistance/2,u=t.x-l,p=t.y-l,m=new d(-a.origin.x*s-u,-a.origin.y*s-p),f="number"==typeof n?n:this._selectionDistance/c.devicePixelRatio,g=new h(-m.x/s,-m.y/s,i.width/s,i.height/s);r.rotation=0;var _=!1;return e.filter((function(e){return!!e._impl.shown&&(_&&(o.clearRect(0,0,i.width,i.height),_=!1),e._impl.node._renderer.render(o,g,r,f),_=!0,!!o.getImageData(l,l,1,1).data[3])}),this).reverse()},performScheduledUpdate:function(){var e=this.map;if(e){for(var t=e.camera.toRenderingMapRect(),n=e.worldSize,i=Math.ceil(u.log2(n)),o=[],r=this._items,a=0,s=r.length;a<s;++a){var l=r[a];l._impl.shown=l._impl.visibleAfterClipping(t,!0,n,i,!0),l._impl.shown&&!l.selected&&o.push(l._impl.node)}var c=this.selectedItem;c&&c._impl.shown&&o.push(c._impl.node),this._node.children=o}}}),t.exports=i},{"../../../lib/geo":2,"../constants":161,"../layer-items-controller":180,"../utils":225,"./accuracy-ring-overlay":186,"./fade-animation-controller":191,"./overlay":194,"./overlays-controller-node":195,"@maps/geometry/point":69,"@maps/js-utils":84,"@maps/scheduler":106}],197:[function(e,t,n){function i(e,t,n){s.call(this,new l(this),e,n),this.points=t,this.updateGeometry()}var o=e("../../../lib/geo"),r=o.Coordinate,a=o.MapRect,s=e("./styled-overlay-internal"),l=e("./polygon-overlay-node"),c=e("../line-simplification"),u=e("@maps/js-utils"),h=e("../types-internal");i.prototype=u.inheritPrototype(s,i,{get points(){return this._points.map((function(e){return e.slice()}))},set points(e){u.checkArray(e,"[MapKit] PolygonOverlay.points expected an array of Coordinates."),Array.isArray(e[0])||(e=[e]),this._points=e.map((function(e,t){return u.checkArray(e,"[MapKit] PolygonOverlay.points expected an array at index: "+t),e.slice()})),this._polygons=this._points.map((function(e,t){return e.map((function(e,n){return u.checkInstance(e,r,"[MapKit] PolygonOverlay.points expected a Coordinate at index: "+t+", "+n),e.toUnwrappedMapPoint()}))})),this.updateGeometry()},calculateBoundingRect:function(){var e=function(e){var t=e.filter((function(e){return e.length>2})).map((function(e){var t=e.reduce((function(e,t){return t.x<e.xMin&&(e.xMin=t.x),t.x>e.xMax&&(e.xMax=t.x),t.y<e.yMin&&(e.yMin=t.y),t.y>e.yMax&&(e.yMax=t.y),e}),{xMin:1/0,xMax:-1/0,yMin:1,yMax:0});return new a(t.xMin,t.yMin,t.xMax-t.xMin,t.yMax-t.yMin)})).sort((function(e,t){return e.minX()-t.minX()}));return h.boundingRectForSortedRects(t)}(this._polygons);return delete this._simplifiedShapeLevel,e.size.width>1&&console.warn("[MapKit] Polygon overlay spans over 360\xba in longitude and may not render correctly."),this._polygons.forEach((function(t){0!==t.length&&(t.forEach((function(t){var n=u.mod(t.x,1);t.x=n+(n<e.minX()?1:0)})),c.preprocessPoints(t,!0))})),e},simplifyShapeAtLevel:function(e){var t=this._simplifiedShapeLevel>e?this._simplifiedShape:this._polygons,n=Math.pow(2,e);return t.reduce((function(e,t){var i=c.filterPointsAtScale(t,n);return i.length>0&&e.push(i),e}),[])},clip:function(e,t,n){return!t||h.mapRectContains(t,this._boundingRect)?e:function(e,t,n){for(var i=t.minX()-n,o=t.minY()-n,r=t.maxX()+n,a=t.maxY()+n,s=[],l=0,c=e.length;l<c;++l){for(var u=e[l],h=[],d=0,p=u.length;d<p;++d){var m=u[d];(m.x>=i||u[(d-1+p)%p].x>=i||u[(d+1)%p].x>=i)&&h.push(m)}var f=[];for(d=0,p=h.length;d<p;++d)((m=h[d]).y>=o||h[(d-1+p)%p].y>=o||h[(d+1)%p].y>=o)&&f.push(m);var g=[];for(d=0,p=f.length;d<p;++d)((m=f[d]).x<=r||f[(d-1+p)%p].x<=r||f[(d+1)%p].x<=r)&&g.push(m);var _=[];for(d=0,p=g.length;d<p;++d)((m=g[d]).y<=a||g[(d-1+p)%p].y<=a||g[(d+1)%p].y<=a)&&_.push(m);_.length>2&&s.push(_)}return s}(e,t,n)}}),t.exports=i},{"../../../lib/geo":2,"../line-simplification":181,"../types-internal":221,"./polygon-overlay-node":198,"./styled-overlay-internal":205,"@maps/js-utils":84}],198:[function(e,t,n){function i(e){o.call(this,e,!0)}var o=e("./styled-overlay-node.js"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o,i,{stringInfo:function(){var e=this.overlay;return"PolygonOverlayNode<points:"+function(e){return e.map((function(e){return e.map((function(e){return e.toString()})).join(",")})).join("|")}(e.points)+">"+(e.style.toString()?"["+e.style+"]":"")}}),t.exports=i},{"./styled-overlay-node.js":206,"@maps/js-utils":84}],199:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new r(this,e,t)})}var o=e("./styled-overlay"),r=e("./polygon-overlay-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get points(){return this._impl.points},set points(e){this._impl.points=e}}),t.exports=i},{"./polygon-overlay-internal":197,"./styled-overlay":208,"@maps/js-utils":84}],200:[function(e,t,n){function i(e,t,n){s.call(this,new l(this),e,n),this.points=t,this.updateGeometry()}var o=e("../../../lib/geo"),r=o.Coordinate,a=o.MapRect,s=e("./styled-overlay-internal"),l=e("./polyline-overlay-node"),c=e("../line-simplification"),u=e("../types-internal"),h=e("@maps/js-utils");i.prototype=h.inheritPrototype(s,i,{_fillable:!1,get points(){return this._points.slice()},set points(e){h.checkInstance(e,Array,"[MapKit] PolylineOverlay.points expected an array of Coordinates."),this._points=e.slice(),this._mapPoints=this._points.map((function(e,t){return h.checkInstance(e,r,"[MapKit] PolylineOverlay.points expected a Coordinate at index: "+t),e.toUnwrappedMapPoint()})),this._pointsNeedRemapping=!0,this.updateGeometry()},calculateBoundingRect:function(){if(0===this._mapPoints.length)return new a(0,0,0,0);var e=this._mapPoints.reduce((function(e,t){return t.x<e.xMin&&(e.xMin=t.x),t.x>e.xMax&&(e.xMax=t.x),t.y<e.yMin&&(e.yMin=t.y),t.y>e.yMax&&(e.yMax=t.y),e}),{xMin:1/0,xMax:-1/0,yMin:1,yMax:0}),t=e.xMax-e.xMin,n=h.mod(e.xMin,1);if(this._pointsNeedRemapping){delete this._pointsNeedRemapping,t>1&&console.warn("[MapKit] Polyline overlay spans over 360\xba in longitude and may not render correctly.");var i=e.xMin-n;this._mapPoints.forEach((function(e){e.x-=i})),c.preprocessPoints(this._mapPoints),delete this._simplifiedShapeLevel}return new a(n,e.yMin,t,e.yMax-e.yMin)},simplifyShapeAtLevel:function(e){var t=this._simplifiedShapeLevel>e?this._simplifiedShape:this._mapPoints;return c.filterPointsAtScale(t,Math.pow(2,e))},clip:function(e,t,n){return!t||u.mapRectContains(t,this._boundingRect)?0===e.length?[]:[e]:function(e,t,n){for(var i,o=t.minX()-n,r=t.minY()-n,a=t.maxX()+n,s=t.maxY()+n,l=[],c=0,u=e.length;c<u-1;++c){var h,d=e[c],p=e[c+1],m=p.x-d.x;if(0!==m){var f=(o-d.x)/m,g=(a-d.x)/m;h=!(f<0&&g<0||f>1&&g>1)}else h=d.x>=o&&d.x<=a;if(h){var _=p.y-d.y;if(0!==_){var v=(r-d.y)/_,y=(s-d.y)/_;h=!(v<0&&y<0||v>1&&y>1)}else h=d.y>=r&&d.y<=s}h?(i||(i=[]),i.push(d)):i&&(i.push(d),l.push(i),i=null)}return i&&(i.push(p),l.push(i)),l}(e,t,n)}}),t.exports=i},{"../../../lib/geo":2,"../line-simplification":181,"../types-internal":221,"./polyline-overlay-node":201,"./styled-overlay-internal":205,"@maps/js-utils":84}],201:[function(e,t,n){function i(e){o.call(this,e,!1)}var o=e("./styled-overlay-node.js"),r=e("@maps/js-utils");i.prototype=r.inheritPrototype(o,i,{stringInfo:function(){var e=this.overlay;return"PolylineOverlayNode<points:"+function(e){return e.map((function(e){return e.toString()})).join(",")}(e.points)+">"+(e.style.toString()?"["+e.style+"]":"")}}),t.exports=i},{"./styled-overlay-node.js":206,"@maps/js-utils":84}],202:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new r(this,e,t)})}var o=e("./styled-overlay"),r=e("./polyline-overlay-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get points(){return this._impl.points},set points(e){this._impl.points=e}}),t.exports=i},{"./polyline-overlay-internal":200,"./styled-overlay":208,"@maps/js-utils":84}],203:[function(e,t,n){function i(e){for(var t in o.EventTarget(this),a.checkOptions(e),e){var n=Object.getOwnPropertyDescriptor(i.prototype,t);n&&n.set?this[t]=e[t]:console.warn("[MapKit] Style has no property named `"+t+"`, ignoring.")}}var o=e("@maps/dom-events"),r=e("../utils"),a=e("@maps/js-utils"),s=["butt","round","square"],l=["miter","round","bevel"],c=["nonzero","evenodd"];i.UPDATE_EVENT="update-style",i.prototype={constructor:i,_strokeColor:"rgb(0, 122, 255)",_strokeOpacity:1,_lineWidth:1,_lineCap:"round",_lineJoin:"round",_lineDash:[],_lineDashOffset:0,_fillColor:"rgb(0, 122, 255)",_fillOpacity:.1,_fillRule:"nonzero",get strokeColor(){return this._strokeColor},set strokeColor(e){null!=e&&a.checkType(e,"string","[MapKit] Expected a string value for Style.strokeColor, but got `"+e+"` instead."),this._strokeColor!==e&&(this._strokeColor=e,this._updated())},get strokeOpacity(){return this._strokeOpacity},set strokeOpacity(e){a.checkType(e,"number","[MapKit] Expected a number value for Style.strokeOpacity, but got `"+e+"` instead.");var t=a.clamp(e,0,1);this._strokeOpacity!==t&&(this._strokeOpacity=t,this._updated())},get lineWidth(){return this._lineWidth},set lineWidth(e){a.checkType(e,"number","[MapKit] Expected a number value for Style.lineWidth, but got `"+e+"` instead.");var t=Math.max(0,e);this._lineWidth!==t&&(this._lineWidth=t,this._updated())},get lineCap(){return this._lineCap},set lineCap(e){var t=s,n="[MapKit] Expected one of "+t.map((function(e){return"`"+e+"`"})).join(", ")+" for Style.lineCap, but got `"+e+"` instead.";if(a.checkType(e,"string",n),t.indexOf(e)<0)throw new TypeError(n);this._lineCap!==e&&(this._lineCap=e,this._updated())},get lineJoin(){return this._lineJoin},set lineJoin(e){var t=l,n="[MapKit] Expected one of "+t.map((function(e){return"`"+e+"`"})).join(", ")+" for Style.lineJoin, but got `"+e+"` instead.";if(a.checkType(e,"string",n),t.indexOf(e)<0)throw new TypeError(n);this._lineJoin!==e&&(this._lineJoin=e,this._updated())},get lineDash(){return this._lineDash},set lineDash(e){a.checkArray(e,"[MapKit] Expected an array of numbers for Style.lineDash, but got `"+e+"` instead."),e.forEach((function(e,t){a.checkType(e,"number","[MapKit] Expected an array of numbers for Style.lineDash, but got `"+e+"` at index "+t+" instead.")})),this._lineDash=e.slice(),this._updated()},get lineDashOffset(){return this._lineDashOffset},set lineDashOffset(e){a.checkType(e,"number","[MapKit] Expected a number value for Style.lineDashOffset, but got `"+e+"` instead."),this._lineDashOffset!==e&&(this._lineDashOffset=e,this._updated())},get fillColor(){return this._fillColor},set fillColor(e){null!=e&&a.checkType(e,"string","[MapKit] Expected a string value for Style.fillColor, but got `"+e+"` instead."),this._fillColor!==e&&(this._fillColor=e,this._updated())},get fillOpacity(){return this._fillOpacity},set fillOpacity(e){a.checkType(e,"number","[MapKit] Expected a number value for Style.fillOpacity, but got `"+e+"` instead.");var t=a.clamp(e,0,1);this._fillOpacity!==t&&(this._fillOpacity=t,this._updated())},get fillRule(){return this._fillRule},set fillRule(e){var t=c,n="[MapKit] Expected one of "+t.map((function(e){return"`"+e+"`"})).join(", ")+" for Style.fillRule, but got `"+e+"` instead.";if(a.checkType(e,"string",n),t.indexOf(e)<0)throw new TypeError(n);this._fillRule!==e&&(this._fillRule=e,this._updated())},shouldStroke:function(){return this.strokeColor&&this.strokeOpacity>0&&this.lineWidth>0},shouldFill:function(){return this.fillColor&&this.fillOpacity>0},halfStrokeWidthAtResolution:function(){return this.strokeColor&&this.strokeOpacity>0?this.lineWidth/2*r.devicePixelRatio:0},styleForHitTesting:function(e){var t=Object.create(this);return null!=this._fillColor&&(t._fillColor="rgb(0, 122, 255)",t._fillOpacity=1),t._strokeColor="rgb(0, 122, 255)",t._strokeOpacity=1,t._lineWidth=this.lineWidth+e,t._impl=t,t},toString:function(){return["strokeColor","strokeOpacity","lineWidth","lineCap","lineJoin","lineDash","lineDashOffset","fillColor","fillOpacity","fillRule"].filter((function(e){return this.hasOwnProperty("_"+e)}),this).map((function(e){return e+":"+(Array.isArray(this[e])?JSON.stringify(this[e]):this[e])}),this).join(",")},_updated:function(){this.dispatchEvent(new o.Event(i.UPDATE_EVENT))}},t.exports=i},{"../utils":225,"@maps/dom-events":62,"@maps/js-utils":84}],204:[function(e,t,n){function i(e){Object.defineProperty(this,"_impl",{value:new o(e)})}var o=e("./style-internal.js");i.prototype={constructor:i,get strokeColor(){return this._impl.strokeColor},set strokeColor(e){this._impl.strokeColor=e},get strokeOpacity(){return this._impl.strokeOpacity},set strokeOpacity(e){this._impl.strokeOpacity=e},get lineWidth(){return this._impl.lineWidth},set lineWidth(e){this._impl.lineWidth=e},get lineCap(){return this._impl.lineCap},set lineCap(e){this._impl.lineCap=e},get lineJoin(){return this._impl.lineJoin},set lineJoin(e){this._impl.lineJoin=e},get lineDash(){return this._impl.lineDash},set lineDash(e){this._impl.lineDash=e},get lineDashOffset(){return this._impl.lineDashOffset},set lineDashOffset(e){this._impl.lineDashOffset=e},get fillColor(){return this._impl.fillColor},set fillColor(e){this._impl.fillColor=e},get fillOpacity(){return this._impl.fillOpacity},set fillOpacity(e){this._impl.fillOpacity=e},get fillRule(){return this._impl.fillRule},set fillRule(e){this._impl.fillRule=e},toString:function(){return this._impl.toString()}},t.exports=i},{"./style-internal.js":203}],205:[function(e,t,n){function i(e,t,n){if(n&&"object"==typeof n&&"style"in n){this.style=n.style;var i={};Object.keys(n).forEach((function(e){"style"!==e&&(i[e]=n[e])})),n=i}o.call(this,e,t,n)}var o=e("./overlay-internal"),r=e("./style"),a=e("./style-internal"),s=e("../utils"),l=e("@maps/js-utils");i.prototype=l.inheritPrototype(o,i,{constructor:i,_fillable:!0,fadeInOutOpacity:{value:1},get style(){return this._style||(this._style=new r,this._style._impl.addEventListener(a.UPDATE_EVENT,this)),this._style},set style(e){if(this._style){if(this._style===e)return;this._style._impl.removeEventListener(a.UPDATE_EVENT,this)}l.checkInstance(e,r,"[MapKit] Expected a mapkit.Style value for Overlay.style, but got `"+e+"` instead."),this._style!==e&&(this._style=e,this._style&&this._style._impl.addEventListener(a.UPDATE_EVENT,this),this.updatedProperty("style"))},visibilityToleranceAtScale:function(e){return this.style._impl.halfStrokeWidthAtResolution()/e},clipOverlay:function(e,t,n,i,o){if(this._simplifiedShapeLevel!==i){var r=Math.abs(this._simplifiedShapeLevel-i),a=!!this._hasPoints,s=this._simplifiedShape;this._simplifiedShape=this.simplifyShapeAtLevel(i),this._simplifiedShapeLevel=i,this._hasPoints=this._simplifiedShape.length>0,1===r&&a!==this._hasPoints&&(this.delegate.fadeOverlayTo(this,a?0:1),a&&(this.fadeInOutOpacity.previousShape=this.clip(s)))}var l=this.fadeInOutOpacity.previousShape||(t||!this.clippedShape?this.clip(this._simplifiedShape,e,this.style._impl.halfStrokeWidthAtResolution()/n):this.clippedShape);return o&&(this.clippedShape=l),l},setFadeInOutOpacity:function(e){this.fadeInOutOpacity.value=e,this.updatedProperty("style")},handleEvent:function(e){e.type===a.UPDATE_EVENT&&this.updatedProperty("style")},fillPath:function(e,t){e.save(),e.fillStyle=t.fillColor,e.globalAlpha=t.fillOpacity*this.fadeInOutOpacity.value,e.fill(t.fillRule),e.restore()},strokePath:function(e,t,n){e.save(),e.strokeStyle=t.strokeColor,e.globalAlpha=t.strokeOpacity*this.fadeInOutOpacity.value;var i=n||s.devicePixelRatio;e.lineWidth=t.lineWidth*i,t.lineDash.length>0&&"function"==typeof e.setLineDash&&(e.setLineDash(t.lineDash.map((function(e){return e*i}))),e.lineDashOffset=t.lineDashOffset*i),e.lineJoin=t.lineJoin,e.lineCap=t.lineCap,e.stroke(),e.restore()},updateGeometry:function(){var e=this.calculateBoundingRect();e&&(this._boundingRect=e,this.updatedProperty("geometry"))}}),t.exports=i},{"../utils":225,"./overlay-internal":192,"./style":204,"./style-internal":203,"@maps/js-utils":84}],206:[function(e,t,n){function i(e,t,n){o.call(this,e),this._closed=!!t,this._renderer=n||new r(this)}var o=e("./overlay-node.js"),r=e("./styled-overlay-renderer.js"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{get closed(){return this._closed}}),t.exports=i},{"./overlay-node.js":193,"./styled-overlay-renderer.js":207,"@maps/js-utils":84}],207:[function(e,t,n){function i(e){o.RenderItem.call(this,e)}var o=e("../../../lib/scene-graph"),r=e("@maps/js-utils"),a=e("@maps/geometry/point");i.prototype=r.inheritPrototype(o.RenderItem,i,{draw:function(e){if(this._node.overlay.map){var t=this._node.overlay.map._impl.camera;this.render(e,t.toRenderingMapRect(),t)}},render:function(e,t,n,i){var o=this._node.overlay.style;"number"==typeof i&&(o=o._impl.styleForHitTesting(i));var r=this._node.closed&&o._impl.shouldFill(),a=o._impl.shouldStroke();(r||a)&&this.drawShapes(e,o,r,a,t,n)},drawShapes:function(e,t,n,i,o,r){var s=r.toRenderingMapRect(),l=new a(s.minX()-o.minX(),s.minY()-o.minY());e.beginPath(),this._node.shapes.forEach((function(t){t.forEach((function(n){var i=r.transformMapPoint(new a(n[0].x+t.xOffset+l.x,n[0].y+l.y));e.moveTo(i.x,i.y);for(var o=1,s=n.length;o<s;o++)i=r.transformMapPoint(new a(n[o].x+t.xOffset+l.x,n[o].y+l.y)),e.lineTo(i.x,i.y);this._node.closed&&e.closePath()}),this)}),this),n&&this._node.overlay.fillPath(e,t),i&&this._node.overlay.strokePath(e,t,1)}}),t.exports=i},{"../../../lib/scene-graph":47,"@maps/geometry/point":69,"@maps/js-utils":84}],208:[function(e,t,n){function i(e){Object.defineProperty(this,"_impl",{value:new r(this,e)})}var o=e("./overlay"),r=e("./styled-overlay-internal"),a=e("@maps/js-utils");i.prototype=a.inheritPrototype(o,i,{constructor:i,get style(){return this._impl.style},set style(e){this._impl.style=e}}),t.exports=i},{"./overlay":194,"./styled-overlay-internal":205,"@maps/js-utils":84}],209:[function(e,t,n){function i(){var e=arguments.length;if(1===e&&"object"==typeof arguments[0]){this.top=0,this.right=0,this.bottom=0,this.left=0;var t=arguments[0];Object.keys(t).forEach((function(e){"top"===e||"right"===e||"bottom"===e||"left"===e?this[e]=t[e]:console.warn("[MapKit] Unknown property `"+e+"` for Padding constructor.")}),this)}else this.top=e>0?arguments[0]:0,this.right=e>1?arguments[1]:0,this.bottom=e>2?arguments[2]:0,this.left=e>3?arguments[3]:0;o.checkType(this.top,"number","[MapKit] Expected a number for `top` in Padding constructor but got `"+this.top+"` instead."),o.checkType(this.left,"number","[MapKit] Expected a number for `left` in Padding constructor but got `"+this.left+"` instead."),o.checkType(this.bottom,"number","[MapKit] Expected a number for `bottom` in Padding constructor but got `"+this.bottom+"` instead."),o.checkType(this.right,"number","[MapKit] Expected a number for `right` in Padding constructor but got `"+this.right+"` instead.")}var o=e("@maps/js-utils");i.Zero=new i,i.prototype={constructor:i,toString:function(){return"Padding("+[this.top,this.right,this.bottom,this.left].join(", ")+")"},copy:function(){return new i(this.top,this.right,this.bottom,this.left)},equals:function(e){return this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left}},t.exports=i},{"@maps/js-utils":84}],210:[function(e,t,n){function i(e){e=c.checkOptions(e),this._checkOptions(e,h),u.call(this,"Directions",e)}function o(e){if("string"==typeof e)return{q:e};if("object"==typeof e&&e.muid)return{muid:e.muid};var t=e.coordinate||e;if(t instanceof l)return{loc:{lat:t.latitude,lng:t.longitude}};throw new Error("[MapKit] Location must be an address (string), Coordinate object or Place object.")}function r(e,t,n){this.name=e.name,this.distance=e.distanceMeters,this.expectedTravelTime=e.durationSeconds,this.transportType=e.transportType,this._path=e.stepIndexes.map((function(e){return n[e]})),this.steps=e.stepIndexes.map((function(e){return t[e]}))}function a(e,t){this.instructions=e.instructions,this.pathIndex=e.stepPathIndex,this.distance=e.distanceMeters,this.transportType=e.transportType,this.path=t[e.stepPathIndex]}var s=e("../configuration"),l=e("../../../lib/geo").Coordinate,c=e("@maps/js-utils"),u=e("./service-internal"),h=["language"],d=["origin","destination","transportType","requestsAlternateRoutes"];i.Transport={Automobile:"AUTOMOBILE",Walking:"WALKING"},i.prototype=c.inheritPrototype(u,i,{constructor:i,route:function(e,t){if(c.required(e,"[MapKit] Missing `request` in call to `Directions.route()`.").checkOptions(e,"[MapKit] `request` is not a valid object."),c.required(t,"[MapKit] Missing `callback` in call to `Directions.route()`.").checkType(t,"function","[MapKit] `callback` passed to `Directions.route()` is not a function."),"CN"===s.countryCode)return t(new Error("Directions aren't supported in China yet.")),0;this._checkOptions(e,d);var n={},r=e.origin,a=e.destination,l=e.transportType;c.required(r,"[MapKit] Missing required property `origin` in `request` object."),c.required(a,"[MapKit] Missing required property `destination` in `request` object."),n.wps=JSON.stringify([o(r),o(a)]),l&&(l===i.Transport.Automobile||l===i.Transport.Walking?n.transport=l:console.warn("[MapKit] transportType must be either Directions.Transport.Automobile or Directions.Transport.Walking.")),e.hasOwnProperty("requestsAlternateRoutes")?n.n=e.requestsAlternateRoutes?"3":"1":n.n="1";var u=this.language||s.language;return u&&(n.lang=u),this._send("directions",n,t,this._handleResponse)},_handleResponse:function(e,t){var n=t.stepPaths.map((function(e){return e.map((function(e){return new l(e.lat,e.lng)}))})),i=t.steps.map((function(e){return new a(e,n)}));return{request:e,routes:t.routes.map((function(e){return new r(e,i,n)}))}}}),r.prototype={get path(){return console.warn("[MapKit] The `Route.path` property is deprecated and will be removed in a future release."),this._path}},i.Route=r,t.exports=i},{"../../../lib/geo":2,"../configuration":159,"./service-internal":217,"@maps/js-utils":84}],211:[function(e,t,n){function i(e){Object.defineProperty(this,"_impl",{value:new a(e)})}var o=e("@maps/js-utils"),r=e("./service"),a=e("./directions-internal");i.Transport=a.Transport,i.prototype=o.inheritPrototype(r,i,{constructor:i,route:function(e,t){return this._impl.route(e,t)}}),t.exports=i},{"./directions-internal":210,"./service":218,"@maps/js-utils":84}],212:[function(e,t,n){"use strict";function i(e){e=r.checkOptions(e),this._checkOptions(e,u),s.call(this,"Geocoder",e)}var o=e("../configuration"),r=e("@maps/js-utils"),a=e("../../../lib/geo"),s=e("./service-internal"),l=a.BoundingRegion,c=a.Coordinate,u=["language","getsUserLocation"],h=["language","region","coordinate","limitToCountries"],d=["language"];i.prototype=r.inheritPrototype(s,i,{constructor:i,lookup:function(e,t,n){var i={};n=r.checkOptions(n),this._checkOptions(n,h),r.required(e,"[MapKit] Missing `address` in call to `Geocoder.lookup()`.").checkType(e,"string","[MapKit] `address` passed to `Geocoder.lookup()` is not a string."),r.required(t,"[MapKit] Missing `callback` in call to `Geocoder.lookup()`.").checkType(t,"function","[MapKit] `callback` passed to `Geocoder.lookup()` is not a function."),i.q=e;var a=n.region,s=n.coordinate,l=n.limitToCountries,c=this.language||o.language;if(a){var u=a.toBoundingRegion();i.searchRegion=[u.northLatitude,u.eastLongitude,u.southLatitude,u.westLongitude].join(",")}else s&&(i.searchLocation=[s.latitude,s.longitude].join(","));return n.language&&(c=this._bestLanguage(n.language)),c&&(i.lang=c),l&&(r.checkType(l,"string","[MapKit] `limitToCountries` is not a string."),i.limitToCountries=l),this._sendImmediatelyOrWithUserLocation("geocode",i,t,this._transform)},reverseLookup:function(e,t,n){var i={},a=this.language||o.language;return n=r.checkOptions(n),this._checkOptions(n,d),r.required(e,"[MapKit] Missing `coordinate` in call to `Geocoder.reverseLookup()`.").checkInstance(e,c,"[MapKit] `coordinate` passed to `Geocoder.reverseLookup()` is not a Coordinate."),r.required(t,"[MapKit] Missing `callback` in call to `Geocoder.reverseLookup()`.").checkType(t,"function","[MapKit] `callback` passed to `Geocoder.reverseLookup()` is not a function."),i.loc=e.latitude+","+e.longitude,n.language&&(a=this._bestLanguage(n.language)),a&&(i.lang=a),this._send("reverseGeocode",i,t,this._transform)},_transform:function(e,t){var n={status:t.status,results:[]};return t.results&&(n.results=t.results.map((function(e){var t,n,i={};return e.displayMapRegion&&(t=e.displayMapRegion,n=new l(t.northLat,t.eastLng,t.southLat,t.westLng),i.region=n.toCoordinateRegion(),i.coordinate=i.region.center),e.formattedAddressLines&&(i.formattedAddress=e.formattedAddressLines.join(", ")),e.center&&(i.coordinate=new c(e.center.lat,e.center.lng)),e.countryCode&&(i.countryCode=e.countryCode),e.geocodeAccuracy&&(i.geocodeAccuracy=e.geocodeAccuracy),i}))),n}}),t.exports=i},{"../../../lib/geo":2,"../configuration":159,"./service-internal":217,"@maps/js-utils":84}],213:[function(e,t,n){function i(e){Object.defineProperty(this,"_impl",{value:new a(e)})}var o=e("@maps/js-utils"),r=e("./service"),a=e("./geocoder-internal");i.prototype=o.inheritPrototype(r,i,{constructor:i,lookup:function(e,t,n){return this._impl.lookup(e,t,n)},reverseLookup:function(e,t,n){return this._impl.reverseLookup(e,t,n)}}),t.exports=i},{"./geocoder-internal":212,"./service":218,"@maps/js-utils":84}],214:[function(e,t,n){function i(){this._requests={},this._types={},this._counter=1}i.prototype={constructor:i,add:function(e,t){console.assert(t&&-1!==["query","geo","xhr"].indexOf(t),"Invalid type: "+t);var n=this._counter;return this._counter+=1,this._requests[n]=e,this._types[n]=t,n},get:function(e){return console.assert(e&&"number"==typeof e,"Invalid ID: "+e),this._requests[e]},typeForId:function(e){return console.assert(e&&"number"==typeof e,"Invalid ID: "+e),this._types[e]},idsByType:function(e){return Object.keys(this._requests).filter((function(t){return this._types[t]===e}),this).map((function(e){return parseInt(e)}))},remove:function(e){return console.assert(e&&"number"==typeof e,"Invalid ID: "+e),!!this.get(e)&&(delete this._requests[e],delete this._types[e],!0)}},t.exports=i},{}],215:[function(e,t,n){function i(e){this.displayLines=e.displayLines,e.location&&(this.coordinate=new h(e.location.lat,e.location.lng)),this._completionUrl=e.completionUrl}function o(e){e=a.checkOptions(e),this._checkOptions(e,d),l.call(this,"Search",e),this.coordinate=e.coordinate,this.region=e.region}var r=e("../configuration"),a=e("@maps/js-utils"),s=e("../../../lib/geo"),l=e("./service-internal"),c=s.BoundingRegion,u=s.CoordinateRegion,h=s.Coordinate,d=["language","getsUserLocation","coordinate","region"],p=["language","region","coordinate"];o.prototype=a.inheritPrototype(l,o,{constructor:o,get coordinate(){return this._coordinate},set coordinate(e){null!=e&&(a.checkInstance(e,h,"[MapKit] Search.coordinate expected a Coordinate value."),e=e.copy()),this._coordinate=e},get region(){return this._region},set region(e){null!=e&&(a.checkInstance(e,u,"[MapKit] Search.region expected a CoordinateRegion value."),e=e.copy()),this._region=e},search:function(e,t,n){return this._request("search","search",this._searchTransform,e,t,n)},autocomplete:function(e,t,n){this._request("autocomplete","searchAutocomplete",this._autocompleteTransform,e,t,n)},_request:function(e,t,n,o,s,l){if("object"==typeof s){var c=s;s=function(t,n){var i="search"===e?c.searchDidError:c.autocompleteDidError,o="search"===e?c.searchDidComplete:c.autocompleteDidComplete;t?"function"==typeof i&&i(t):"function"==typeof o&&o(n)}}var u={};l=a.checkOptions(l),this._checkOptions(l,p);var h="Search."+e+"()";a.required(o,"[MapKit] Missing `query` in call to `"+h+"`."),a.required(s,"[MapKit] Missing `callback` in call to `"+h+"`.").checkType(s,"function","[MapKit] `callback` passed to `"+h+"` is not a function."),o instanceof i?t=o._completionUrl:(console.assert("string"==typeof o,"[MapKit] `query` passed to `"+h+"` is neither a string nor SearchAutocompleteResult."),u.q=o);var d=l.region||this.region,m=l.coordinate||this.coordinate,f=this.language||r.language;if(d){var g=d.toBoundingRegion();u.searchRegion=[g.northLatitude,g.eastLongitude,g.southLatitude,g.westLongitude].join(",")}else m&&(u.searchLocation=[m.latitude,m.longitude].join(","));return l.language&&(f=this._bestLanguage(l.language)),f&&(u.lang=f),this._sendImmediatelyOrWithUserLocation(t,u,s,n)},_searchTransform:function(e,t){var n={places:[]};if(e.q&&(n.query=e.q),t.displayMapRegion){var i=new c(t.displayMapRegion.northLat,t.displayMapRegion.eastLng,t.displayMapRegion.southLat,t.displayMapRegion.westLng);n.boundingRegion=i.toCoordinateRegion()}return t.results&&(n.places=t.results.map((function(e){var t,n,i={};return e.muid&&(i.muid=e.muid),e.name&&(i.name=e.name),e.displayMapRegion&&(t=e.displayMapRegion,n=new c(t.northLat,t.eastLng,t.southLat,t.westLng),i.region=n.toCoordinateRegion(),i.coordinate=i.region.center),e.formattedAddressLines&&(i.formattedAddress=e.formattedAddressLines.join(", ")),e.center&&(i.coordinate=new h(e.center.lat,e.center.lng)),e.countryCode&&(i.countryCode=e.countryCode),i}))),n},_autocompleteTransform:function(e,t){var n={query:e.q,results:[]};return t.results&&(n.results=t.results.map((function(e){return new i(e)}))),n}}),t.exports=o},{"../../../lib/geo":2,"../configuration":159,"./service-internal":217,"@maps/js-utils":84}],216:[function(e,t,n){function i(e){Object.defineProperty(this,"_impl",{value:new a(e)})}var o=e("@maps/js-utils"),r=e("./service"),a=e("./search-internal");i.prototype=o.inheritPrototype(r,i,{constructor:i,get coordinate(){return this._impl.coordinate},set coordinate(e){this._impl.coordinate=e},get region(){return this._impl.region},set region(e){this._impl.region=e},search:function(e,t,n){return this._impl.search(e,t,n)},autocomplete:function(e,t,n){return this._impl.autocomplete(e,t,n)}}),t.exports=i},{"./search-internal":215,"./service":218,"@maps/js-utils":84}],217:[function(e,t,n){function i(e,t){this._name=e,this._requestMap=new c,o.state===o.States.ERROR&&(this._configFailed=!0),this.language=t.language,this.getsUserLocation=!!t.getsUserLocation}var o=e("../configuration"),r=e("../localizer").languageSupport,a=e("@maps/js-utils"),s=e("../user-location/user-location"),l=e("../../../lib/geo").Coordinate,c=e("./request-map"),u=e("@maps/loaders").XHRLoader,h={enableHighAccuracy:!1,timeout:8e3,maximumAge:9e5};i.prototype={constructor:i,get getsUserLocation(){return this._getsUserLocation},set getsUserLocation(e){this._getsUserLocation=!!e},get language(){return this._language},set language(e){this._language=null==e?null:this._bestLanguage(e)},cancel:function(e){a.required(e,"[MapKit] Missing `id` in call to `"+this._name+".cancel()`.").checkType(e,"number","[MapKit] `id` passed to `"+this._name+".cancel()` is not a number.");var t=this._requestMap.typeForId(e);if(t)switch(t){case"query":case"geo":return this._requestMap.remove(e);case"xhr":var n=this._requestMap.get(e);if(n)return n.unschedule(),this._requestMap.remove(e);break;default:console.assert(!1,"Unknown type: "+t)}return!1},handleEvent:function(e){switch(e.type){case o.Events.Error:this._configFailed=!0;case o.Events.Changed:this._requestMap.idsByType("query").forEach((function(e){var t=this._requestMap.get(e);this._send(t.path,t.parameters,t.callback,t.transform),this._requestMap.remove(e)}),this)}0===this._requestMap.idsByType("query").length&&this._stopWatchingConfiguration()},_watchingConfiguration:!1,_watchConfiguration:function(){this._watchingConfiguration||(this._watchingConfiguration=!0,o.addEventListener(o.Events.Changed,this),o.addEventListener(o.Events.Error,this))},_stopWatchingConfiguration:function(){this._watchingConfiguration&&(this._watchingConfiguration=!1,o.removeEventListener(o.Events.Changed,this),o.removeEventListener(o.Events.Error,this))},_send:function(e,t,n,i){var r,s=this._requestMap;if(!o.apiBaseUrl||o.state===o.States.PENDING)return this._configFailed?(n(new Error("MapKit failed to initialize.")),0):(console.warn("[MapKit] The configuration has not been initialized, or it is loading. The request has been queued."),this._watchConfiguration(),s.add({path:e,parameters:t,callback:n,transform:i},"query"));if(0===e.search(/\/v?[0-9]+\//)){var l=a.parseURL(o.apiBaseUrl);r=l.protocol+"//"+l.hostname,l.port&&(r+=":"+l.port),r+=e}else r=o.apiBaseUrl+e;t=t||{};var c=a.toQueryString(t);""!==c&&(r+=(a.parseURL(r).search?"&":"?")+c);var h=new u(r,{loaderDidSucceed:function(e,o){var r;if(s.remove(e.id),o.status<200||o.status>=300)n(new Error("HTTP error:"+o.status));else{try{r=JSON.parse(o.responseText)}catch(e){return void n(new Error("Failed to parse response:"+o.responseText))}n(null,i(t,r))}},loaderDidFail:function(e,t){s.remove(e.id);var i="Network error";t.status===o.HTTP.UNAUTHORIZED?i=o.ErrorStatus.Unauthorized:t.status===o.HTTP.TOO_MANY_REQUESTS&&(i=o.ErrorStatus.TooManyRequests),n(new Error(i))}},o.appendServiceAuthOptions({}));return h.schedule(),h.id=s.add(h,"xhr"),h.id},_sendImmediatelyOrWithUserLocation:function(e,t,n,i){return this.getsUserLocation||t.getsUserLocation?this._sendWithUserLocation.apply(this,arguments):this._send.apply(this,arguments)},_sendWithUserLocation:function(e,t,n,i){var o=this._requestMap.add({path:e,parameters:t,callback:n,transform:i},"geo");return this._locate(function(e,t){var n=this._requestMap.get(o);n&&(e?console.warn("[MapKit] Unable to get current location:",e.message):n.parameters.userLocation=[t.latitude,t.longitude].join(","),this._send(n.path,n.parameters,n.callback,n.transform),this._requestMap.remove(o))}.bind(this)),o},_checkOptions:function(e,t){a.checkType(e,"object","[MapKit] The `options` object is invalid."),Object.keys(e).forEach((function(e){-1===t.indexOf(e)&&console.warn("[MapKit] `"+e+"` is not a valid option.")}))},_bestLanguage:function(e){a.checkType(e,"string","[MapKit] `language` is not a string.");var t=r.bestMatch(e);return null===t?console.warn("[MapKit] Geocoder: \u201c"+e+"\u201d is not supported."):t!==e&&console.warn("[MapKit] Geocoder: \u201c"+e+"\u201d is not supported. Substituting \u201c"+t+"\u201d"),t},_locate:function(e){a.required(e,"Missing callback").checkType(e,"function"),s.locate((function(t){var n=t.coords;e(null,new l(n.latitude,n.longitude))}),(function(t){var n;switch(t.code){case t.PERMISSION_DENIED:n="PERMISSION_DENIED";break;case t.POSITION_UNAVAILABLE:n="POSITION_UNAVAILABLE";break;case t.TIMEOUT:n="TIMEOUT";break;default:console.assert(!1,"Unknown PositionError code: "+t.code)}e(new Error(n))}),h)}},t.exports=i},{"../../../lib/geo":2,"../configuration":159,"../localizer":182,"../user-location/user-location":224,"./request-map":214,"@maps/js-utils":84,"@maps/loaders":85}],218:[function(e,t,n){function i(e,t){Object.defineProperty(this,"_impl",{value:new o(e,t)})}var o=e("./service-internal");i.prototype={constructor:i,get getsUserLocation(){return this._impl.getsUserLocation},set getsUserLocation(e){this._impl.getsUserLocation=e},get language(){return this._impl.language},set language(e){this._impl.language=e},cancel:function(e){return this._impl.cancel(e)}},t.exports=i},{"./service-internal":217}],219:[function(e,t,n){window.console||(window.console=e("./console")),window.mapkit=e("./index")},{"./console":160,"./index":175}],220:[function(e,t,n){function i(){this._element=r.htmlElement("div",{class:a})}var o=e("@maps/geometry/rect"),r=e("./utils"),a="mk-style-helper";i.prototype={constructor:i,get element(){return this._element},sizeForElement:function(e){var t=e.cloneNode(!0);this._element.appendChild(t);var n=function(e){for(var t,n=[e];n.length>0;)if((e=n.shift()).nodeType===window.Node.ELEMENT_NODE){var i=window.getComputedStyle(e),r=parseFloat(i.marginLeft),a=parseFloat(i.marginTop),s=parseFloat(i.marginRight),l=parseFloat(i.marginBottom),c=o.rectFromClientRect(e.getBoundingClientRect()).inset(-r,-a,-s,-l);c.size.width>0&&c.size.height>0&&(t=t?t.unionWithRect(c):c),Array.prototype.push.apply(n,e.childNodes)}return t||new o}(t);return this._element.removeChild(t),n.size},backgroundColorForElement:function(e){this._element.appendChild(e);var t=window.getComputedStyle(e).backgroundColor;return this._element.removeChild(e),/^transparent|initial|rgba\(.*, 0\)$/.test(t)?null:t}},t.exports=i},{"./utils":225,"@maps/geometry/rect":70}],221:[function(e,t,n){var i=e("../../lib/geo"),o=e("@maps/js-utils"),r=i.Coordinate,a=i.CoordinateRegion,s=i.CoordinateSpan,l=i.MapRect;t.exports={enclosingRegionForCoordinates:function(e){var t=0,n=180,l=-180,c=0,u=90,h=-90;e.forEach((function(e){var r=o.clamp(e.latitude,-90,90);u=Math.min(u,r),h=Math.max(h,r);var a=i.wrapLongitude(e.longitude);a<0?(t=Math.min(t,a),l=Math.max(l,a)):(n=Math.min(n,a),c=Math.max(c,a))}));var d,p,m=h-u;if(t>l)p=n+(d=c-n)/2;else if(n>c)p=t+(d=l-t)/2;else{var f=c-t,g=360-(n-l);p=f<g?t+(d=f)/2:n+(d=g)/2}return new a(new r(u+m/2,p),new s(m,d))},padMapRect:function(e,t){o.checkType(t,"object","[MapKit] MapRect.pad expects a padding object with top, left, bottom, right but got `"+t+"` instead");var n=t.left||0,i=t.top||0;return new l(e.origin.x-n,e.origin.y-i,e.size.width+n+(t.right||0),e.size.height+i+(t.bottom||0))},mapRectContains:function(e,t){var n=t.origin.x,i=t.origin.y,o=e.maxX(),r=e.maxY();return n>=e.origin.x&&n<=o&&i>=e.origin.y&&i<=r&&t.maxX()<=o&&t.maxY()<=r},boundingRectForSortedRects:function(e){if(0===e.length)return new l;if(1===e.length){var t=e[0].minX();return t>=0&&t<1?e[0]:new l(o.mod(t,1),e[0].minY(),e[0].size.width,e[0].size.height)}for(var n=[[e[0].minX(),e[0].maxX()]],i=e[0].minY(),r=e[0].maxY(),a=1,s=e.length,c=0;a<s;++a){var u=n[c],h=e[a];i=Math.min(i,h.minY()),r=Math.max(r,h.maxY()),h.minX()<=u[1]?n[c]=[u[0],Math.max(u[1],h.maxX())]:(n.push([h.minX(),h.maxX()]),++c)}var d=n.length;if(1===d)return new l(n[0][0],i,Math.min(n[0][1]-n[0][0],1),r-i);for(var p=1+n[0][0]-n[d-1][1],m=n[0][0],f=1;f<d;++f){var g=n[f][0]-n[f-1][1];g>p&&(p=g,m=n[f][0])}return new l(o.mod(m,1),i,1-p,r-i)}}},{"../../lib/geo":2,"@maps/js-utils":84}],222:[function(e,t,n){"use strict";var i=e("../build.json"),o=e("@maps/js-utils"),r="";t.exports={createUrl:function(e){return r||(r=i.useLocalResources?this.getMapKitScriptParts().prefix:i.cdnUrl),e=e&&e.replace(/^\//,"")||"",[r,e].join("/")},createImageUrl:function(e){return this.createUrl("images/"+e)},getMapKitScriptParts:function(){for(var e=/(.*)(?=\/mapkit\.js)/,t=document.scripts,n=0,i=t.length;n<i;++n){var r=e.exec(t[n].src);if(r){var a=o.parseURL(t[n].src);return a.prefix=r[0],a}}return{}}}},{"../build.json":111,"@maps/js-utils":84}],223:[function(e,t,n){function i(e){this._delegate=e,this._showsUserLocation=!1,this._tracksUserLocation=!1}var o=e("./user-location");i.prototype={constructor:i,get showsUserLocation(){return this._showsUserLocation},set showsUserLocation(e){this._showsUserLocation=e,e?(o.addEventListener(o.Events.Change,this),o.addEventListener(o.Events.Error,this),o.watch()):(o.removeEventListener(o.Events.Change,this),o.removeEventListener(o.Events.Error,this))},get tracksUserLocation(){return this._tracksUserLocation},set tracksUserLocation(e){this._tracksUserLocation=e,e?(o.addEventListener(o.Events.Change,this),o.addEventListener(o.Events.Error,this),o.watch()):(o.removeEventListener(o.Events.Change,this),o.removeEventListener(o.Events.Error,this))},get userLocation(){return o},handleEvent:function(e){switch(e.type){case o.Events.Change:this._handleUserLocationChange(e);break;case o.Events.Error:this._handleUserLocationError(e)}},mapWasDestroyed:function(){delete this._delegate,o.removeEventListener(o.Events.Change,this),o.removeEventListener(o.Events.Error,this)},_handleUserLocationChange:function(e){o.errorCode=0,this._delegate.userLocationDidChange(e)},_handleUserLocationError:function(e){o.errorCode=e.code,this._delegate.userLocationDidError(e)}},t.exports=i},{"./user-location":224}],224:[function(e,t,n){function i(){clearTimeout(g),g=null}function o(e,t,n){if("AutoNavi"===p.tileProvider){var i=new h(e.coords.latitude,e.coords.longitude);m.shift(i,p.locationShiftUrl,(function(i,o){if(i)n&&n(i);else{var r={coords:{latitude:o.latitude,longitude:o.longitude}};"accuracy"in e.coords&&(r.coords.accuracy=e.coords.accuracy),t&&t(r)}}))}else t&&t(e)}function r(e){i(),u=e,p.ready?!_._stale&&_._coordinate&&e.coords.latitude===_._coordinate.latitude&&e.coords.longitude===_._coordinate.longitude||o(e,a,s):s({code:4,message:"MapKit not initialized."})}function a(e){_._stale=!1,_._location=e.coords,_._coordinate=new h(e.coords.latitude,e.coords.longitude),_.dispatchEvent(new l(_._coordinate))}function s(e){u=null,_._stale=!0,_.dispatchEvent(new c(e))}function l(e){d.Event.call(this,f.Change),this.coordinate=e,this.timestamp=new Date}function c(e){d.Event.call(this,f.Error),this.code=e.code,this.message=e.message}var u,h=e("../../../lib/geo").Coordinate,d=e("@maps/dom-events"),p=e("../configuration"),m=e("../coordinate-shifter"),f={Change:"user-location-change",Error:"user-location-error"},g=null,_=new function(){d.EventTarget(this),this.Events=f,this._location=null,this._coordinate=null,this._stale=!1,this._watchers=0,Object.defineProperty(this,"location",{get:function(){return this._location}}),Object.defineProperty(this,"coordinate",{get:function(){return this._coordinate}}),Object.defineProperty(this,"stale",{get:function(){return this._stale}}),this.watch=function(){this._watchId||(i(),this._watchId=window.navigator.geolocation.watchPosition(r,s),g=setTimeout((function(){i(),s({code:3,message:"Timeout expired"})}),15e3))},this.locate=function(e,t,n){u&&this._watchId?o(u,e,t):window.navigator.geolocation.getCurrentPosition((function(n){o(n,e,t)}),t,n)},this.addEventListener=function(){d.EventTarget.prototype.addEventListener.apply(this,arguments)&&++this._watchers},this.removeEventListener=function(){d.EventTarget.prototype.removeEventListener.apply(this,arguments)&&0==--this._watchers&&this._watchId&&(window.navigator.geolocation.clearWatch(this._watchId),this._watchId=null)},this.handleEvent=function(e){switch(e.type){case p.Events.Changed:if(!u)return;r(u)}},this.reset=function(){i(),this._watchers=0,this._watchId=null,u=null},p.addEventListener(p.Events.Changed,this)};t.exports=_},{"../../../lib/geo":2,"../configuration":159,"../coordinate-shifter":171,"@maps/dom-events":62}],225:[function(e,t,n){function i(e,t){var n=window.document.createElementNS(this,e),i=1;if("object"==typeof t&&null!=t&&!(t instanceof window.Node))for(var o in++i,t)n.setAttribute(o,t[o]);for(var r=i,a=arguments.length;r<a;++r){var s=arguments[r];s instanceof window.Node?n.appendChild(s):"string"==typeof s&&n.appendChild(document.createTextNode(s))}return n}var o=e("@maps/device-pixel-ratio"),r=e("@maps/gesture-recognizers").SupportsTouches;t.exports={focusColor:"rgb(0, 122, 255)",classList:e("@maps/class-list"),get devicePixelRatio(){return o()},supportsTouches:r,supportsGestureEvents:!!window.GestureEvent,touchstartOrMousedown:r?"touchstart":"mousedown",touchendOrMouseup:r?"touchend":"mouseup",supportsForceTouch:!r&&"webkitForce"in MouseEvent.prototype,transitionend:document.createElement("div").style.WebkitTransition?"webkitTransitionEnd":"transitionend",htmlElement:i.bind("http://www.w3.org/1999/xhtml"),svgElement:i.bind("http://www.w3.org/2000/svg"),insideIframe:window.top!==window,parentNodeForSvgTarget:function(e){return e.tagName&&"div"!==e.tagName.toLowerCase()?this.parentNodeForSvgTarget(e.parentNode):e},imagePathForDevice:function(e,t,n){var i=(e||[]).indexOf(this.devicePixelRatio)>=0?this.devicePixelRatio:1;return n=n||".png",t+(i>1?"_"+i+"x":"")+".png"},parseQueryString:function(e){var t,n={},i=/\+/g,o=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(i," "))};if("string"==typeof e)for(;null!==(t=o.exec(e));)n[r(t[1])]=r(t[2]);return n},createSVGIcon:function(e,t){var n=this.svgElement("svg",t);return n.setAttribute("class","mk-icon"),n.setAttribute("focusable",!1),n.appendChild(this.svgElement("g")).appendChild(e),n},debounce:function(e,t,n){var i;return function(){var o=arguments;i&&window.clearTimeout(i),i=window.setTimeout((function(){i=null,e.apply(n,o)}),t||0)}},convertColorToRGB:function(e){var t=document.createElement("div");try{return t.style.setProperty("color",e),t.style.color}catch(e){return""}},isValidCSSColor:function(e){return""!==this.convertColorToRGB(e)},updateLabel:function(e,t){e.setAttribute("title",t),e.setAttribute("aria-label",t)},easeInOut:function(e){var t=Math.pow(e,2);return t/(t+Math.pow(1-e,2))}}},{"@maps/class-list":57,"@maps/device-pixel-ratio":61,"@maps/gesture-recognizers":72}],226:[function(e,t,n){t.exports={"Annotation.Clustering.AccessibilityLabel":"{{n}} locations, {{title}}, {{subtitle}}","Annotation.Clustering.More":"+{{n}} more","Annotation.Clustering.More.Plural":"+{{n}} more","Annotation.Clustering.NoTitle.AccessibilityLabel":"{{n}} locations, {{subtitle}}","Annotation.Generic.AccessibilityLabel":"{{title}}, {{subtitle}}","Annotation.Pin.AccessibilityLabel":"Pin","Annotation.Pin.Green.AccessibilityLabel":"Green Pin","Annotation.Pin.Purple.AccessibilityLabel":"Purple Pin","Annotation.Pin.Red.AccessibilityLabel":"Red Pin","Compass.NorthIndicator":"N","Compass.Tooltip":"Rotate the map","Legal.Attribution.HTML.Label":"Data from {{logo}}, others {{chevron}}","Legal.Attribution.Plain.Label":"Data from {{attribution}}","Legal.Label":"Legal","Legal.Menu.Close.Label":"Close","Legal.Privacy.Label":"Privacy","Legal.Privacy.URL":"https://www.apple.com/privacy/","Legal.TermsOfUse.Label":"Terms of Use","Legal.TermsOfUse.URL":"http://www.apple.com/legal/internet-services/maps/terms-en.html","Location.Error.Instructions":"To allow this page to show your current location, connect to Wi-Fi and enable location services in your browser.","Location.Error.Message":"Your location can only be shown when location services are enabled and you are connected to the Internet.","Location.Error.Support.HTML":"For more information, visit {{link}}.","Location.Error.Support.Label":"Learn more","Location.Error.Support.URL":"https://support.apple.com/en-us/HT204690","Location.Error.Title":"Your current location cannot be shown.","Location.Subtitle":"Unknown Address","Location.Title":"Current Location","Logo.Apple.Tooltip":"Apple","Logo.AutoNavi.Tooltip":"AutoNavi","MapType.Tooltip":"Change the map type","Mode.Hybrid":"Hybrid","Mode.Satellite":"Satellite","Mode.Standard":"Standard","Scale.Feet.Short":"ft","Scale.Kilometer.Short":"km","Scale.Meter.Short":"m","Scale.Mile.Short":"mi","Track.User.Location.Tooltip":"Show your current location","Zoom.In.Tooltip":"Zoom In","Zoom.Out.Tooltip":"Zoom Out"}},{}],227:[function(e,t,n){t.exports={"en-AU":"en-GB","en-IE":"en-GB","en-IN":"en-GB","en-NZ":"en-GB","en-SG":"en-GB","en-ZA":"en-GB","es-LA":"es-MX","es-XL":"es-MX","nn-NO":"nb-NO","no-NO":"nb-NO","zh-HK":"zh-TW"}},{}],228:[function(e,t,n){t.exports=["en-US","fr-FR","pt-BR","zh-CN"]},{}],229:[function(e,t,n){t.exports={zh:{CN:"Hans",HK:"Hant",TW:"Hant"}}},{}],230:[function(e,t,n){t.exports=["ar-SA","iw-IL"]},{}],231:[function(e,t,n){t.exports=["ar-SA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-GB","en-US","es-ES","es-MX","fi-FI","fr-CA","fr-FR","hi-IN","hr-HR","hu-HU","id-ID","it-IT","iw-IL","ja-JP","ko-KR","ms-MY","nl-NL","nb-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","th-TH","tr-TR","uk-UA","vi-VN","zh-CN","zh-HK","zh-TW"]},{}],232:[function(e,t,n){t.exports=["ar","ca","cs","da","de","el","en","en-AU","en-GB","es","es-MX","fi","fr","fr-CA","he","hi","hr","hu","id","it","ja","ko","ms","nb","nl","pl","pt","pt-PT","ro","ru","sk","sv","th","tr","uk","vi","zh-Hans","zh-Hant"]},{}]},{},[219])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function i(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=null;return t.forEach((function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}})),o}return(0,r.default)(i)};var i,o=n(51),r=(i=o)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";var i=function(){};e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,i,o,r,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,r,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";(function(e){var i=n(0),o=n.n(i),r=n(8),a=n(5),s=n.n(a),l=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function u(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,i){e=n,t.forEach((function(t){return t(e,i)}))}}}var h=o.a.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=u(t.props.value),t}Object(r.a)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,i=this.props.value,o=e.value;((r=i)===(a=o)?0!==r||1/r===1/a:r!==r&&a!==a)?n=0:(n="function"===typeof t?t(i,o):l,0!==(n|=0)&&this.emitter.set(e.value,n))}var r,a},i.render=function(){return this.props.children},n}(i.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return d.contextTypes=((o={})[a]=s.a.object,o),{Provider:h,Consumer:d}};t.a=h}).call(this,n(54))},function(e,t,n){var i=n(55);e.exports=p,e.exports.parse=r,e.exports.compile=function(e,t){return s(r(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e,t){for(var n,i=[],r=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var h=n[0],d=n[1],p=n.index;if(s+=e.slice(a,p),a=p+h.length,d)s+=d[1];else{var m=e[a],f=n[2],g=n[3],_=n[4],v=n[5],y=n[6],b=n[7];s&&(i.push(s),s="");var w=null!=f&&null!=m&&m!==f,C="+"===y||"*"===y,E="?"===y||"*"===y,S=n[2]||u,x=_||v;i.push({name:g||r++,prefix:f||"",delimiter:S,optional:E,repeat:C,partial:w,asterisk:!!b,pattern:x?c(x):b?".*":"[^"+l(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&i.push(s),i}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",h(t)));return function(t,o){for(var r="",s=t||{},l=(o||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var h,d=s[u.name];if(null==d){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(i(d)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(h=l(d[p]),!n[c].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===p?u.prefix:u.delimiter)+h}}else{if(h=u.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[c].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+h+'"');r+=u.prefix+h}}else r+=u}return r}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t,n){i(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,r=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var d=l(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+d+p+")*"),a+=p=c.optional?c.partial?d+"("+p+")?":"(?:"+d+"("+p+"))?":d+"("+p+")"}}var m=l(n.delimiter||"/"),f=a.slice(-m.length)===m;return o||(a=(f?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),a+=r?"$":o&&f?"":"(?="+m+"|$)",u(new RegExp("^"+a,h(n)),t)}function p(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):i(e)?function(e,t,n){for(var i=[],o=0;o<e.length;o++)i.push(p(e[o],t,n).source);return u(new RegExp("(?:"+i.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return d(r(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),r=(i=o)&&"object"===typeof i&&"default"in i?i.default:i,a=new(n(57)),s=a.getBrowser(),l=(a.getCPU(),a.getDevice()),c=a.getEngine(),u=a.getOS(),h=a.getUA(),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},p=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},m=function(e){var t=p();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E="mobile",S="tablet",x="smarttv",k="console",L="wearable",T=void 0,O="Chrome",M="Firefox",A="Opera",P="Yandex",R="Safari",I="Internet Explorer",N="Edge",z="Chromium",D="IE",F="Mobile Safari",j="MIUI Browser",U="iOS",B="Android",W="Windows Phone",K="Windows",G="Mac OS",V={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Z=function(e,t,n,i){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:d(t.vendor),model:d(t.model),os:d(n.name),osVersion:d(n.version),ua:d(i)})},H=function(e){switch(e){case E:return{isMobile:!0};case S:return{isTablet:!0};case x:return{isSmartTV:!0};case k:return{isConsole:!0};case L:return{isWearable:!0};case T:return{isBrowser:!0};default:return V}}(l.type);var q=function(){return"string"===typeof h&&-1!==h.indexOf("Edg/")},Y=function(){return s.name===N},X=function(){return m("iPad")},$=l.type===x,Q=l.type===k,J=l.type===L,ee=s.name===F||X(),te=s.name===z,ne=function(){switch(l.type){case E:case S:return!0;default:return!1}}()||X(),ie=l.type===E,oe=l.type===S||X(),re=l.type===T,ae=u.name===B,se=u.name===W,le=u.name===U||X(),ce=s.name===O,ue=s.name===M,he=s.name===R||s.name===F,de=s.name===A,pe=s.name===I||s.name===D,me=d(u.version),fe=d(u.name),ge=d(s.version),_e=d(s.major),ve=d(s.name),ye=d(l.vendor),be=d(l.model),we=d(c.name),Ce=d(c.version),Ee=d(h),Se=Y()||q(),xe=s.name===P,ke=d(l.type,"browser"),Le=function(){var e=p();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream}(),Te=X(),Oe=m("iPhone"),Me=m("iPod"),Ae=function(){var e=p(),t=e&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)}(),Pe=q(),Re=Y()&&!q(),Ie=u.name===K,Ne=u.name===G,ze=s.name===j;t.AndroidView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return ae?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.BrowserView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return re?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return Q?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.CustomView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return e.condition?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.IEView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return pe?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.IOSView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return le?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.MobileOnlyView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return ie?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.MobileView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return ne?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return $?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.TabletView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return oe?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.WearableView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return J?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.WinPhoneView=function(e){var t=e.renderWithFragment,n=e.children,i=e.viewClassName,a=e.style;return se?t?r.createElement(o.Fragment,null,n):r.createElement("div",{className:i,style:a},n):null},t.browserName=ve,t.browserVersion=_e,t.deviceDetect=function(){var e=H.isBrowser,t=H.isMobile,n=H.isTablet,i=H.isSmartTV,o=H.isConsole,r=H.isWearable;return e?function(e,t,n,i,o){return{isBrowser:e,browserMajorVersion:d(t.major),browserFullVersion:d(t.version),browserName:d(t.name),engineName:d(n.name),engineVersion:d(n.version),osName:d(i.name),osVersion:d(i.version),userAgent:d(o)}}(e,s,c,u,h):i?function(e,t,n,i){return{isSmartTV:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(n.name),osVersion:d(n.version),userAgent:d(i)}}(i,c,u,h):o?function(e,t,n,i){return{isConsole:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(n.name),osVersion:d(n.version),userAgent:d(i)}}(o,c,u,h):t||n?Z(H,l,u,h):r?function(e,t,n,i){return{isWearable:e,engineName:d(t.name),engineVersion:d(t.version),osName:d(n.name),osVersion:d(n.version),userAgent:d(i)}}(r,c,u,h):void 0},t.deviceType=ke,t.engineName=we,t.engineVersion=Ce,t.fullBrowserVersion=ge,t.getUA=Ee,t.isAndroid=ae,t.isBrowser=re,t.isChrome=ce,t.isChromium=te,t.isConsole=Q,t.isEdge=Se,t.isEdgeChromium=Pe,t.isElectron=Ae,t.isFirefox=ue,t.isIE=pe,t.isIOS=le,t.isIOS13=Le,t.isIPad13=Te,t.isIPhone13=Oe,t.isIPod13=Me,t.isLegacyEdge=Re,t.isMIUI=ze,t.isMacOs=Ne,t.isMobile=ne,t.isMobileOnly=ie,t.isMobileSafari=ee,t.isOpera=de,t.isSafari=he,t.isSmartTV=$,t.isTablet=oe,t.isWearable=J,t.isWinPhone=se,t.isWindows=Ie,t.isYandex=xe,t.mobileModel=be,t.mobileVendor=ye,t.osName=fe,t.osVersion=me,t.withOrientationChange=function(e){return function(t){function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i=this,(t=!(o=b(n).call(this,e))||"object"!==typeof o&&"function"!==typeof o?C(i):o).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(C(t)),t.onOrientationChange=t.onOrientationChange.bind(C(t)),t.onPageLoad=t.onPageLoad.bind(C(t)),t.state={isLandscape:!1,isPortrait:!1},t}var i,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(n,t),i=n,(o=[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:0===e,isLandscape:90===e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){void 0!==("undefined"===typeof window?"undefined":f(window))&&ne&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return r.createElement(e,v({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}])&&g(i.prototype,o),a&&g(i,a),n}(r.Component)}},function(e,t,n){"use strict";e.exports=n(56)},function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(4),a=n.n(r),s=n(0),l=n.n(s),c=n(6),u=["xl","lg","md","sm","xs"],h=l.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,s=e.as,h=void 0===s?"div":s,d=Object(o.a)(e,["bsPrefix","className","as"]),p=Object(c.a)(n,"col"),m=[],f=[];return u.forEach((function(e){var t,n,i,o=d[e];if(delete d[e],"object"===typeof o&&null!=o){var r=o.span;t=void 0===r||r,n=o.offset,i=o.order}else t=o;var a="xs"!==e?"-"+e:"";t&&m.push(!0===t?""+p+a:""+p+a+"-"+t),null!=i&&f.push("order"+a+"-"+i),null!=n&&f.push("offset"+a+"-"+n)})),m.length||m.push(p),l.a.createElement(h,Object(i.a)({},d,{ref:t,className:a.a.apply(void 0,[r].concat(m,f))}))}));h.displayName="Col",t.a=h},function(e,t,n){"use strict";var i=n(42),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||o}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,i)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(t),f=l(n),g=0;g<a.length;++g){var _=a[g];if(!r[_]&&(!i||!i[_])&&(!f||!f[_])&&(!s||!s[_])){var v=d(n,_);try{c(t,_,v)}catch(y){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(23);var o=n(25);function r(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n(34);var i=n(0),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var r=Symbol.for;o=r("react.element"),t.Fragment=r("react.fragment")}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:o,type:e,key:c,ref:u,props:r,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";var i=n(34),o=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;o=h("react.element"),r=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}function _(){}function v(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=g.prototype;var y=v.prototype=new _;y.constructor=v,i(y,g.prototype),y.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var x=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,n,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+k(l,0):i,Array.isArray(a)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),L(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=i+k(s=e[c],c);l+=L(s,t,n,u,a)}else if("function"===typeof(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),c=0;!(s=e.next()).done;)l+=L(s=s.value,t,n,u=i+k(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var i=[],o=0;return L(e,i,"","",(function(e){return t.call(n,e,o++)})),i}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var M={current:null};function A(){var e=M.current;if(null===e)throw Error(p(321));return e}var P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var i=n(0),o=n(34),r=n(49);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,m={},f={};function g(e,t,n,i,o,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var o=_.hasOwnProperty(t)?_[t]:null;(null!==o?0===o.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!p.call(f,e)||!p.call(m,e)&&(d.test(e)?f[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);_[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);_[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);_[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=60103,E=60106,S=60107,x=60108,k=60114,L=60109,T=60110,O=60112,M=60113,A=60120,P=60115,R=60116,I=60121,N=60128,z=60129,D=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;C=j("react.element"),E=j("react.portal"),S=j("react.fragment"),x=j("react.strict_mode"),k=j("react.profiler"),L=j("react.provider"),T=j("react.context"),O=j("react.forward_ref"),M=j("react.suspense"),A=j("react.suspense_list"),P=j("react.memo"),R=j("react.lazy"),I=j("react.block"),j("react.scope"),N=j("react.opaque.id"),z=j("react.debug_trace_mode"),D=j("react.offscreen"),F=j("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function K(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var G=!1;function V(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),r=i.stack.split("\n"),a=o.length-1,s=r.length-1;1<=a&&0<=s&&o[a]!==r[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==r[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==r[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function Z(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case L:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return H(e.type);case I:return H(e._render);case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Y(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function re(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ce(e,t){var n=q(t.value),i=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,ge,_e=(ge=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ce(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=we(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Le=null,Te=null,Oe=null;function Me(e){if(e=eo(e)){if("function"!==typeof Le)throw Error(a(280));var t=e.stateNode;t&&(t=no(t),Le(e.stateNode,e.type,t))}}function Ae(e){Te?Oe?Oe.push(e):Oe=[e]:Te=e}function Pe(){if(Te){var e=Te,t=Oe;if(Oe=Te=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Re(e,t){return e(t)}function Ie(e,t,n,i,o){return e(t,n,i,o)}function Ne(){}var ze=Re,De=!1,Fe=!1;function je(){null===Te&&null===Oe||(Ne(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var i=no(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(h)try{var We={};Object.defineProperty(We,"passive",{get:function(){Be=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(ge){Be=!1}function Ke(e,t,n,i,o,r,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ge=!1,Ve=null,Ze=!1,He=null,qe={onError:function(e){Ge=!0,Ve=e}};function Ye(e,t,n,i,o,r,a,s,l){Ge=!1,Ve=null,Ke.apply(qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Xe(e)!==e)throw Error(a(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return Qe(o),e;if(r===i)return Qe(o),t;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=o,i=r;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,it,ot,rt=!1,at=[],st=null,lt=null,ct=null,ut=new Map,ht=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mt(e,t,n,i,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[i]}}function ft(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e=mt(t,n,i,o,r),null!==t&&(null!==(t=eo(t))&&nt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function _t(e){var t=Ji(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){r.unstable_runWithPriority(e.priority,(function(){it(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=eo(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(rt=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=eo(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&vt(st)&&(st=null),null!==lt&&vt(lt)&&(lt=null),null!==ct&&vt(ct)&&(ct=null),ut.forEach(yt),ht.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bt)))}function Ct(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var i=at[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==st&&wt(st,e),null!==lt&&wt(lt,e),null!==ct&&wt(ct,e),ut.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(i=dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)_t(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},xt={},kt={};function Lt(e){if(xt[e])return xt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return xt[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Tt=Lt("animationend"),Ot=Lt("animationiteration"),Mt=Lt("animationstart"),At=Lt("transitionend"),Pt=new Map,Rt=new Map,It=["abort","abort",Tt,"animationEnd",Ot,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Rt.set(i,t),Pt.set(i,o),c(o,[i])}}(0,r.unstable_now)();var zt=8;function Dt(e){if(0!==(1&e))return zt=15,1;if(0!==(2&e))return zt=14,2;if(0!==(4&e))return zt=13,4;var t=24&e;return 0!==t?(zt=12,t):0!==(32&e)?(zt=11,32):0!==(t=192&e)?(zt=10,t):0!==(256&e)?(zt=9,256):0!==(t=3584&e)?(zt=8,t):0!==(4096&e)?(zt=7,4096):0!==(t=4186112&e)?(zt=6,t):0!==(t=62914560&e)?(zt=5,t):67108864&e?(zt=4,67108864):0!==(134217728&e)?(zt=3,134217728):0!==(t=805306368&e)?(zt=2,t):0!==(1073741824&e)?(zt=1,1073741824):(zt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return zt=0;var i=0,o=0,r=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==r)i=r,o=zt=15;else if(0!==(r=134217727&n)){var l=r&~a;0!==l?(i=Dt(l),o=zt):0!==(s&=r)&&(i=Dt(s),o=zt)}else 0!==(r=n&~a)?(i=Dt(r),o=zt):0!==s&&(i=Dt(s),o=zt);if(0===i)return 0;if(i=n&((0>(i=31-Gt(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0===(t&a)){if(Dt(t),o<=zt)return t;zt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-Gt(t)),i|=e[n],t&=~o;return i}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Zt|0)|0},Vt=Math.log,Zt=Math.LN2;var Ht=r.unstable_UserBlockingPriority,qt=r.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,i){De||Ne();var o=Qt,r=De;De=!0;try{Ie(o,e,t,n,i)}finally{(De=r)||je()}}function $t(e,t,n,i){qt(Ht,Qt.bind(null,e,t,n,i))}function Qt(e,t,n,i){var o;if(Yt)if((o=0===(4&t))&&0<at.length&&-1<pt.indexOf(e))e=mt(null,e,t,n,i),at.push(e);else{var r=Jt(e,t,n,i);if(null===r)o&&ft(e,i);else{if(o){if(-1<pt.indexOf(e))return e=mt(r,e,t,n,i),void at.push(e);if(function(e,t,n,i,o){switch(t){case"focusin":return st=gt(st,e,t,n,i,o),!0;case"dragenter":return lt=gt(lt,e,t,n,i,o),!0;case"mouseover":return ct=gt(ct,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return ut.set(r,gt(ut.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,ht.set(r,gt(ht.get(r)||null,e,t,n,i,o)),!0}return!1}(r,e,t,n,i))return;ft(e,i)}Pi(e,t,i,null,n)}}}function Jt(e,t,n,i){var o=ke(i);if(null!==(o=Ji(o))){var r=Xe(o);if(null===r)o=null;else{var a=r.tag;if(13===a){if(null!==(o=$e(r)))return o;o=null}else if(3===a){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return Pi(e,t,i,o,n),null}var en=null,tn=null,nn=null;function on(){if(nn)return nn;var e,t,n=tn,i=n.length,o="value"in en?en.value:en.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===o[r-t];t++);return nn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,i,o,r){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?an:sn,this.isPropagationStopped=sn,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,un,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(dn),mn=o({},dn,{view:0,detail:0}),fn=ln(mn),gn=o({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,un=e.screenY-hn.screenY):un=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),_n=ln(gn),vn=ln(o({},gn,{dataTransfer:0})),yn=ln(o({},mn,{relatedTarget:0})),bn=ln(o({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=ln(o({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Cn=ln(o({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Ln(){return kn}var Tn=ln(o({},mn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=ln(o({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=ln(o({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),An=ln(o({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=ln(o({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],In=h&&"CompositionEvent"in window,Nn=null;h&&"documentMode"in document&&(Nn=document.documentMode);var zn=h&&"TextEvent"in window&&!Nn,Dn=h&&(!In||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Vn(e,t,n,i){Ae(i),0<(t=Ii(t,"onChange")).length&&(n=new pn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Zn=null,Hn=null;function qn(e){ki(e,0)}function Yn(e){if($(to(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(h){var Qn;if(h){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Qn=Jn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function ti(){Zn&&(Zn.detachEvent("onpropertychange",ni),Hn=Zn=null)}function ni(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];if(Vn(t,Hn,e,ke(e)),e=qn,De)e(t);else{De=!0;try{Re(e,t)}finally{De=!1,je()}}}}function ii(e,t,n){"focusin"===e?(ti(),Hn=n,(Zn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function oi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ri(e,t){if("click"===e)return Yn(t)}function ai(e,t){if("input"===e||"change"===e)return Yn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},li=Object.prototype.hasOwnProperty;function ci(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!li.call(t,n[i])||!si(e[n[i]],t[n[i]]))return!1;return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pi(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fi=h&&"documentMode"in document&&11>=document.documentMode,gi=null,_i=null,vi=null,yi=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==gi||gi!==Q(i)||("selectionStart"in(i=gi)&&mi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&ci(vi,i)||(vi=i,0<(i=Ii(_i,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(It,2);for(var wi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ci=0;Ci<wi.length;Ci++)Rt.set(wi[Ci],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Si=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function xi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,r,s,l,c){if(Ye.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var u=Ve;Ge=!1,Ve=null,Ze||(Ze=!0,He=u)}}(i,t,void 0,e),e.currentTarget=null}function ki(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==r&&o.isPropagationStopped())break e;xi(o,s,c),r=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,c=s.currentTarget,s=s.listener,l!==r&&o.isPropagationStopped())break e;xi(o,s,c),r=l}}}if(Ze)throw e=He,Ze=!1,He=null,e}function Li(e,t){var n=io(t),i=e+"__bubble";n.has(i)||(Ai(t,e,2,!1),n.add(i))}var Ti="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){e[Ti]||(e[Ti]=!0,s.forEach((function(t){Si.has(t)||Mi(t,!1,e,null),Mi(t,!0,e,null)})))}function Mi(e,t,n,i){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=n;if("selectionchange"===e&&9!==n.nodeType&&(r=n.ownerDocument),null!==i&&!t&&Si.has(e)){if("scroll"!==e)return;o|=2,r=i}var a=io(r),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),Ai(r,e,o,t),a.add(s))}function Ai(e,t,n,i){var o=Rt.get(t);switch(void 0===o?2:o){case 0:o=Xt;break;case 1:o=$t;break;default:o=Qt}n=o.bind(null,t,n,e),o=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Pi(e,t,n,i,o){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Ji(s)))return;if(5===(l=a.tag)||6===l){i=r=a;continue e}s=s.parentNode}}i=i.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{ze(e,t,n)}finally{Fe=!1,je()}}((function(){var i=r,o=ke(n),a=[];e:{var s=Pt.get(e);if(void 0!==s){var l=pn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Tt:case Ot:case Mt:l=bn;break;case At:l=An;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,m=i;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==d&&(null!=(f=Ue(m,d))&&u.push(Ri(m,f,p)))),h)break;m=m.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Ji(c)&&!c[$i])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?Ji(c):null)&&(c!==(h=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=_n,f="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,f="onPointerLeave",d="onPointerEnter",m="pointer"),h=null==l?s:to(l),p=null==c?s:to(c),(s=new u(f,m+"leave",l,n,o)).target=h,s.relatedTarget=p,f=null,Ji(o)===i&&((u=new u(d,m+"enter",c,n,o)).target=p,u.relatedTarget=h,f=u),h=f,l&&c)e:{for(d=c,m=0,p=u=l;p;p=Ni(p))m++;for(p=0,f=d;f;f=Ni(f))p++;for(;0<m-p;)u=Ni(u),m--;for(;0<p-m;)d=Ni(d),p--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ni(u),d=Ni(d)}u=null}else u=null;null!==l&&zi(a,s,l,u,!1),null!==c&&null!==h&&zi(a,h,c,u,!0)}if("select"===(l=(s=i?to(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Gn(s))if($n)g=ai;else{g=oi;var _=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ri);switch(g&&(g=g(e,i))?Vn(a,g,n,o):(_&&_(e,s,i),"focusout"===e&&(_=s._wrapperState)&&_.controlled&&"number"===s.type&&oe(s,"number",s.value)),_=i?to(i):window,e){case"focusin":(Gn(_)||"true"===_.contentEditable)&&(gi=_,_i=i,vi=null);break;case"focusout":vi=_i=gi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,bi(a,n,o);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":bi(a,n,o)}var v;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(v=on()):(tn="value"in(en=o)?en.value:en.textContent,Wn=!0)),0<(_=Ii(i,y)).length&&(y=new Cn(y,e,null,n,o),a.push({event:y,listeners:_}),v?y.data=v:null!==(v=Bn(n))&&(y.data=v))),(v=zn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!In&&Un(e,t)?(e=on(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(i=Ii(i,"onBeforeInput")).length&&(o=new Cn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:i}),o.data=v))}ki(a,t)}))}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Ue(e,n))&&i.unshift(Ri(e,r,o)),null!=(r=Ue(e,t))&&i.push(Ri(e,r,o))),e=e.return}return i}function Ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zi(e,t,n,i,o){for(var r=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Ue(n,r))&&a.unshift(Ri(n,l,s)):o||null!=(l=Ue(n,r))&&a.push(Ri(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Di(){}var Fi=null,ji=null;function Ui(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Bi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wi="function"===typeof setTimeout?setTimeout:void 0,Ki="function"===typeof clearTimeout?clearTimeout:void 0;function Gi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Zi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hi=0;var qi=Math.random().toString(36).slice(2),Yi="__reactFiber$"+qi,Xi="__reactProps$"+qi,$i="__reactContainer$"+qi,Qi="__reactEvents$"+qi;function Ji(e){var t=e[Yi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$i]||n[Yi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Zi(e);null!==e;){if(n=e[Yi])return n;e=Zi(e)}return t}n=(e=n).parentNode}return null}function eo(e){return!(e=e[Yi]||e[$i])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function to(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function no(e){return e[Xi]||null}function io(e){var t=e[Qi];return void 0===t&&(t=e[Qi]=new Set),t}var oo=[],ro=-1;function ao(e){return{current:e}}function so(e){0>ro||(e.current=oo[ro],oo[ro]=null,ro--)}function lo(e,t){ro++,oo[ro]=e.current,e.current=t}var co={},uo=ao(co),ho=ao(!1),po=co;function mo(e,t){var n=e.type.contextTypes;if(!n)return co;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function fo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function go(){so(ho),so(uo)}function _o(e,t,n){if(uo.current!==co)throw Error(a(168));lo(uo,t),lo(ho,n)}function vo(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(a(108,H(t)||"Unknown",r));return o({},n,i)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,po=uo.current,lo(uo,e),lo(ho,ho.current),!0}function bo(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=vo(e,t,po),i.__reactInternalMemoizedMergedChildContext=e,so(ho),so(uo),lo(uo,e)):so(ho),lo(ho,n)}var wo=null,Co=null,Eo=r.unstable_runWithPriority,So=r.unstable_scheduleCallback,xo=r.unstable_cancelCallback,ko=r.unstable_shouldYield,Lo=r.unstable_requestPaint,To=r.unstable_now,Oo=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,Po=r.unstable_NormalPriority,Ro=r.unstable_LowPriority,Io=r.unstable_IdlePriority,No={},zo=void 0!==Lo?Lo:function(){},Do=null,Fo=null,jo=!1,Uo=To(),Bo=1e4>Uo?To:function(){return To()-Uo};function Wo(){switch(Oo()){case Mo:return 99;case Ao:return 98;case Po:return 97;case Ro:return 96;case Io:return 95;default:throw Error(a(332))}}function Ko(e){switch(e){case 99:return Mo;case 98:return Ao;case 97:return Po;case 96:return Ro;case 95:return Io;default:throw Error(a(332))}}function Go(e,t){return e=Ko(e),Eo(e,t)}function Vo(e,t,n){return e=Ko(e),So(e,t,n)}function Zo(){if(null!==Fo){var e=Fo;Fo=null,xo(e)}Ho()}function Ho(){if(!jo&&null!==Do){jo=!0;var e=0;try{var t=Do;Go(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Do=null}catch(n){throw null!==Do&&(Do=Do.slice(e+1)),So(Mo,Zo),n}finally{jo=!1}}}var qo=w.ReactCurrentBatchConfig;function Yo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xo=ao(null),$o=null,Qo=null,Jo=null;function er(){Jo=Qo=$o=null}function tr(e){var t=Xo.current;so(Xo),e.type._context._currentValue=t}function nr(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ir(e,t){$o=e,Jo=Qo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ia=!0),e.firstContext=null)}function or(e,t){if(Jo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Jo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qo){if(null===$o)throw Error(a(308));Qo=t,$o.dependencies={lanes:0,firstContext:t,responders:null}}else Qo=Qo.next=t;return e._currentValue}var rr=!1;function ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ur(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hr(e,t,n,i){var r=e.updateQueue;rr=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==s&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==a){for(d=r.baseState,s=0,h=u=c=null;;){l=a.lane;var p=a.eventTime;if((i&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,f=a;switch(l=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){d=m.call(p,d,l);break e}d=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null===(l="function"===typeof(m=f.payload)?m.call(p,d,l):m)||void 0===l)break e;d=o({},d,l);break e;case 2:rr=!0}}null!==a.callback&&(e.flags|=32,null===(l=r.effects)?r.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,s|=l;if(null===(a=a.next)){if(null===(l=r.shared.pending))break;a=l.next,l.next=null,r.lastBaseUpdate=l,r.shared.pending=null}}null===h&&(c=d),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,Fs|=s,e.lanes=s,e.memoizedState=d}}function dr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!==typeof o)throw Error(a(191,o));o.call(i)}}}var pr=(new i.Component).refs;function mr(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fr={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=cl(),o=ul(e),r=lr(i,o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),cr(e,r),hl(e,o,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=cl(),o=ul(e),r=lr(i,o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),cr(e,r),hl(e,o,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),i=ul(e),o=lr(n,i);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),cr(e,o),hl(e,i,n)}};function gr(e,t,n,i,o,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!ci(n,i)||!ci(o,r))}function _r(e,t,n){var i=!1,o=co,r=t.contextType;return"object"===typeof r&&null!==r?r=or(r):(o=fo(t)?po:uo.current,r=(i=null!==(i=t.contextTypes)&&void 0!==i)?mo(e,o):co),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fr,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function vr(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fr.enqueueReplaceState(t,t.state,null)}function yr(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pr,ar(e);var r=t.contextType;"object"===typeof r&&null!==r?o.context=or(r):(r=fo(t)?po:uo.current,o.context=mo(e,r)),hr(e,n,o,i),o.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(mr(e,t,r,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&fr.enqueueReplaceState(o,o.state,null),hr(e,n,o,i),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var br=Array.isArray;function wr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===pr&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Cr(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Er(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Kl(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Hl(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=o(t,n.props)).ref=wr(e,t,n),i.return=e,i):((i=Gl(n.type,n.key,n.props,null,e.mode,i)).ref=wr(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,i,r){return null===t||7!==t.tag?((t=Vl(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Gl(t.type,t.key,t.props,null,e.mode,n)).ref=wr(e,null,t),n.return=e,n;case E:return(t=ql(t,e.mode,n)).return=e,t}if(br(t)||W(t))return(t=Vl(t,e.mode,n,null)).return=e,t;Cr(e,t)}return null}function p(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?n.type===S?h(e,t,n.props.children,i,o):c(e,t,n,i):null;case E:return n.key===o?u(e,t,n,i):null}if(br(n)||W(n))return null!==o?null:h(e,t,n,i,null);Cr(e,n)}return null}function m(e,t,n,i,o){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case C:return e=e.get(null===i.key?n:i.key)||null,i.type===S?h(t,e,i.props.children,o,i.key):c(t,e,i,o);case E:return u(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(br(i)||W(i))return h(t,e=e.get(n)||null,i,o,null);Cr(t,i)}return null}function f(o,a,s,l){for(var c=null,u=null,h=a,f=a=0,g=null;null!==h&&f<s.length;f++){h.index>f?(g=h,h=null):g=h.sibling;var _=p(o,h,s[f],l);if(null===_){null===h&&(h=g);break}e&&h&&null===_.alternate&&t(o,h),a=r(_,a,f),null===u?c=_:u.sibling=_,u=_,h=g}if(f===s.length)return n(o,h),c;if(null===h){for(;f<s.length;f++)null!==(h=d(o,s[f],l))&&(a=r(h,a,f),null===u?c=h:u.sibling=h,u=h);return c}for(h=i(o,h);f<s.length;f++)null!==(g=m(h,o,f,s[f],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),a=r(g,a,f),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(o,e)})),c}function g(o,s,l,c){var u=W(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,f=s,g=s=0,_=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(_=f,f=null):_=f.sibling;var y=p(o,f,v.value,c);if(null===y){null===f&&(f=_);break}e&&f&&null===y.alternate&&t(o,f),s=r(y,s,g),null===h?u=y:h.sibling=y,h=y,f=_}if(v.done)return n(o,f),u;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=d(o,v.value,c))&&(s=r(v,s,g),null===h?u=v:h.sibling=v,h=v);return u}for(f=i(o,f);!v.done;g++,v=l.next())null!==(v=m(f,o,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),s=r(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&f.forEach((function(e){return t(o,e)})),u}return function(e,i,r,l){var c="object"===typeof r&&null!==r&&r.type===S&&null===r.key;c&&(r=r.props.children);var u="object"===typeof r&&null!==r;if(u)switch(r.$$typeof){case C:e:{for(u=r.key,c=i;null!==c;){if(c.key===u){switch(c.tag){case 7:if(r.type===S){n(e,c.sibling),(i=o(c,r.props.children)).return=e,e=i;break e}break;default:if(c.elementType===r.type){n(e,c.sibling),(i=o(c,r.props)).ref=wr(e,c,r),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}r.type===S?((i=Vl(r.props.children,e.mode,l,r.key)).return=e,e=i):((l=Gl(r.type,r.key,r.props,null,e.mode,l)).ref=wr(e,i,r),l.return=e,e=l)}return s(e);case E:e:{for(c=r.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){n(e,i.sibling),(i=o(i,r.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=ql(r,e.mode,l)).return=e,e=i}return s(e)}if("string"===typeof r||"number"===typeof r)return r=""+r,null!==i&&6===i.tag?(n(e,i.sibling),(i=o(i,r)).return=e,e=i):(n(e,i),(i=Hl(r,e.mode,l)).return=e,e=i),s(e);if(br(r))return f(e,i,r,l);if(W(r))return g(e,i,r,l);if(u&&Cr(e,r),"undefined"===typeof r&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,i)}}var Sr=Er(!0),xr=Er(!1),kr={},Lr=ao(kr),Tr=ao(kr),Or=ao(kr);function Mr(e){if(e===kr)throw Error(a(174));return e}function Ar(e,t){switch(lo(Or,t),lo(Tr,e),lo(Lr,kr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}so(Lr),lo(Lr,t)}function Pr(){so(Lr),so(Tr),so(Or)}function Rr(e){Mr(Or.current);var t=Mr(Lr.current),n=me(t,e.type);t!==n&&(lo(Tr,e),lo(Lr,n))}function Ir(e){Tr.current===e&&(so(Lr),so(Tr))}var Nr=ao(0);function zr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dr=null,Fr=null,jr=!1;function Ur(e,t){var n=Bl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Br(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Wr(e){if(jr){var t=Fr;if(t){var n=t;if(!Br(e,t)){if(!(t=Vi(n.nextSibling))||!Br(e,t))return e.flags=-1025&e.flags|2,jr=!1,void(Dr=e);Ur(Dr,n)}Dr=e,Fr=Vi(t.firstChild)}else e.flags=-1025&e.flags|2,jr=!1,Dr=e}}function Kr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Dr=e}function Gr(e){if(e!==Dr)return!1;if(!jr)return Kr(e),jr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Bi(t,e.memoizedProps))for(t=Fr;t;)Ur(e,t),t=Vi(t.nextSibling);if(Kr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fr=Vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fr=null}}else Fr=Dr?Vi(e.stateNode.nextSibling):null;return!0}function Vr(){Fr=Dr=null,jr=!1}var Zr=[];function Hr(){for(var e=0;e<Zr.length;e++)Zr[e]._workInProgressVersionPrimary=null;Zr.length=0}var qr=w.ReactCurrentDispatcher,Yr=w.ReactCurrentBatchConfig,Xr=0,$r=null,Qr=null,Jr=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function oa(e,t,n,i,o,r){if(Xr=r,$r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qr.current=null===e||null===e.memoizedState?Ma:Aa,e=n(i,o),ta){r=0;do{if(ta=!1,!(25>r))throw Error(a(301));r+=1,Jr=Qr=null,t.updateQueue=null,qr.current=Pa,e=n(i,o)}while(ta)}if(qr.current=Oa,t=null!==Qr&&null!==Qr.next,Xr=0,Jr=Qr=$r=null,ea=!1,t)throw Error(a(300));return e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jr?$r.memoizedState=Jr=e:Jr=Jr.next=e,Jr}function aa(){if(null===Qr){var e=$r.alternate;e=null!==e?e.memoizedState:null}else e=Qr.next;var t=null===Jr?$r.memoizedState:Jr.next;if(null!==t)Jr=t,Qr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Qr=e).memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},null===Jr?$r.memoizedState=Jr=e:Jr=Jr.next=e}return Jr}function sa(e,t){return"function"===typeof t?t(e):t}function la(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Qr,o=i.baseQueue,r=n.pending;if(null!==r){if(null!==o){var s=o.next;o.next=r.next,r.next=s}i.baseQueue=o=r,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var l=s=r=null,c=o;do{var u=c.lane;if((Xr&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===e?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,r=i):l=l.next=h,$r.lanes|=u,Fs|=u}c=c.next}while(null!==c&&c!==o);null===l?r=i:l.next=s,si(i,t.memoizedState)||(Ia=!0),t.memoizedState=i,t.baseState=r,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ca(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{r=e(r,s.action),s=s.next}while(s!==o);si(r,t.memoizedState)||(Ia=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function ua(e,t,n){var i=t._getVersion;i=i(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===i:(e=e.mutableReadLanes,(e=(Xr&e)===e)&&(t._workInProgressVersionPrimary=i,Zr.push(t))),e)return n(t._source);throw Zr.push(t),Error(a(350))}function ha(e,t,n,i){var o=Ms;if(null===o)throw Error(a(349));var r=t._getVersion,s=r(t._source),l=qr.current,c=l.useState((function(){return ua(o,t,n)})),u=c[1],h=c[0];c=Jr;var d=e.memoizedState,p=d.refs,m=p.getSnapshot,f=d.source;d=d.subscribe;var g=$r;return e.memoizedState={refs:p,source:t,subscribe:i},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=r(t._source);if(!si(s,e)){e=n(t._source),si(h,e)||(u(e),e=ul(g),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var i=o.entanglements,a=e;0<a;){var l=31-Gt(a),c=1<<l;i[l]|=e,a&=~c}}}),[n,t,i]),l.useEffect((function(){return i(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var i=ul(g);o.mutableReadLanes|=i&o.pendingLanes}catch(r){n((function(){throw r}))}}))}),[t,i]),si(m,n)&&si(f,t)&&si(d,i)||((e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=u=Ta.bind(null,$r,e),c.queue=e,c.baseQueue=null,h=ua(o,t,n),c.memoizedState=c.baseState=h),h}function da(e,t,n){return ha(aa(),e,t,n)}function pa(e){var t=ra();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e}).dispatch=Ta.bind(null,$r,e),[t.memoizedState,e]}function ma(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=$r.updateQueue)?(t={lastEffect:null},$r.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function fa(e){return e={current:e},ra().memoizedState=e}function ga(){return aa().memoizedState}function _a(e,t,n,i){var o=ra();$r.flags|=e,o.memoizedState=ma(1|t,n,void 0,void 0===i?null:i)}function va(e,t,n,i){var o=aa();i=void 0===i?null:i;var r=void 0;if(null!==Qr){var a=Qr.memoizedState;if(r=a.destroy,null!==i&&ia(i,a.deps))return void ma(t,n,r,i)}$r.flags|=e,o.memoizedState=ma(1|t,n,r,i)}function ya(e,t){return _a(516,4,e,t)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return va(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,va(4,2,Ca.bind(null,t,e),n)}function Sa(){}function xa(e,t){var n=aa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ia(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=aa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ia(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function La(e,t){var n=Wo();Go(98>n?98:n,(function(){e(!0)})),Go(97<n?97:n,(function(){var n=Yr.transition;Yr.transition=1;try{e(!1),t()}finally{Yr.transition=n}}))}function Ta(e,t,n){var i=cl(),o=ul(e),r={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?r.next=r:(r.next=a.next,a.next=r),t.pending=r,a=e.alternate,e===$r||null!==a&&a===$r)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(r.eagerReducer=a,r.eagerState=l,si(l,s))return}catch(c){}hl(e,o,i)}}var Oa={readContext:or,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Ma={readContext:or,useCallback:function(e,t){return ra().memoizedState=[e,void 0===t?null:t],e},useContext:or,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ra();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ta.bind(null,$r,e),[i.memoizedState,e]},useRef:fa,useState:pa,useDebugValue:Sa,useDeferredValue:function(e){var t=pa(e),n=t[0],i=t[1];return ya((function(){var t=Yr.transition;Yr.transition=1;try{i(e)}finally{Yr.transition=t}}),[e]),n},useTransition:function(){var e=pa(!1),t=e[0];return fa(e=La.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=ra();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(i,e,t,n)},useOpaqueIdentifier:function(){if(jr){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hi++).toString(36))),Error(a(355))})),n=pa(t)[1];return 0===(2&$r.mode)&&($r.flags|=516,ma(5,(function(){n("r:"+(Hi++).toString(36))}),void 0,null)),t}return pa(t="r:"+(Hi++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:or,useCallback:xa,useContext:or,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:ka,useReducer:la,useRef:ga,useState:function(){return la(sa)},useDebugValue:Sa,useDeferredValue:function(e){var t=la(sa),n=t[0],i=t[1];return ba((function(){var t=Yr.transition;Yr.transition=1;try{i(e)}finally{Yr.transition=t}}),[e]),n},useTransition:function(){var e=la(sa)[0];return[ga().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},Pa={readContext:or,useCallback:xa,useContext:or,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:ka,useReducer:ca,useRef:ga,useState:function(){return ca(sa)},useDebugValue:Sa,useDeferredValue:function(e){var t=ca(sa),n=t[0],i=t[1];return ba((function(){var t=Yr.transition;Yr.transition=1;try{i(e)}finally{Yr.transition=t}}),[e]),n},useTransition:function(){var e=ca(sa)[0];return[ga().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Ra=w.ReactCurrentOwner,Ia=!1;function Na(e,t,n,i){t.child=null===e?xr(t,null,n,i):Sr(t,e.child,n,i)}function za(e,t,n,i,o){n=n.render;var r=t.ref;return ir(t,o),i=oa(e,t,n,i,r,o),null===e||Ia?(t.flags|=1,Na(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ns(e,t,o))}function Da(e,t,n,i,o,r){if(null===e){var a=n.type;return"function"!==typeof a||Wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gl(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,i,o,r))}return a=e.child,0===(o&r)&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:ci)(o,i)&&e.ref===t.ref)?ns(e,t,r):(t.flags|=1,(e=Kl(a,i)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,i,o,r){if(null!==e&&ci(e.memoizedProps,i)&&e.ref===t.ref){if(Ia=!1,0===(r&o))return t.lanes=e.lanes,ns(e,t,r);0!==(16384&e.flags)&&(Ia=!0)}return Ba(e,t,n,i,r)}function ja(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},yl(t,n);else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yl(t,e),null;t.memoizedState={baseLanes:0},yl(t,null!==r?r.baseLanes:n)}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,yl(t,i);return Na(e,t,o,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ba(e,t,n,i,o){var r=fo(n)?po:uo.current;return r=mo(t,r),ir(t,o),n=oa(e,t,n,i,r,o),null===e||Ia?(t.flags|=1,Na(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ns(e,t,o))}function Wa(e,t,n,i,o){if(fo(n)){var r=!0;yo(t)}else r=!1;if(ir(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_r(t,n,i),yr(t,n,i,o),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=or(c):c=mo(t,c=fo(n)?po:uo.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&vr(t,a,i,c),rr=!1;var d=t.memoizedState;a.state=d,hr(t,i,a,o),l=t.memoizedState,s!==i||d!==l||ho.current||rr?("function"===typeof u&&(mr(t,n,u,i),l=t.memoizedState),(s=rr||gr(t,n,s,i,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4),i=!1)}else{a=t.stateNode,sr(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yo(t.type,s),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=or(l):l=mo(t,l=fo(n)?po:uo.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&vr(t,a,i,l),rr=!1,d=t.memoizedState,a.state=d,hr(t,i,a,o);var m=t.memoizedState;s!==h||d!==m||ho.current||rr?("function"===typeof p&&(mr(t,n,p,i),m=t.memoizedState),(c=rr||gr(t,n,c,i,d,m,l))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=m),a.props=i,a.state=m,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),i=!1)}return Ka(e,t,n,i,r,o)}function Ka(e,t,n,i,o,r){Ua(e,t);var a=0!==(64&t.flags);if(!i&&!a)return o&&bo(t,n,!1),ns(e,t,r);i=t.stateNode,Ra.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Sr(t,e.child,null,r),t.child=Sr(t,null,s,r)):Na(e,t,s,r),t.memoizedState=i.state,o&&bo(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?_o(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(0,t.context,!1),Ar(e,t.containerInfo)}var Va,Za,Ha,qa={dehydrated:null,retryLane:0};function Ya(e,t,n){var i,o=t.pendingProps,r=Nr.current,a=!1;return(i=0!==(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!==(2&r)),i?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(r|=1),lo(Nr,1&r),null===e?(void 0!==o.fallback&&Wr(t),e=o.children,r=o.fallback,a?(e=Xa(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qa,e):"number"===typeof o.unstable_expectedLoadTime?(e=Xa(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qa,t.lanes=33554432,e):((n=Zl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=Qa(e,t,o.children,o.fallback,n),a=t.child,r=e.child.memoizedState,a.memoizedState=null===r?{baseLanes:n}:{baseLanes:r.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=qa,o):(n=$a(e,t,o.children,n),t.memoizedState=null,n))}function Xa(e,t,n,i){var o=e.mode,r=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==r?(r.childLanes=0,r.pendingProps=t):r=Zl(t,o,0,null),n=Vl(n,o,i,null),r.return=e,n.return=e,r.sibling=n,e.child=r,n}function $a(e,t,n,i){var o=e.child;return e=o.sibling,n=Kl(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Qa(e,t,n,i,o){var r=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&r)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Kl(a,s),null!==e?i=Kl(e,i):(i=Vl(i,r,o,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function Ja(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),nr(e.return,t)}function es(e,t,n,i,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,lastEffect:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o,a.lastEffect=r)}function ts(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(Na(e,t,i.children,n),0!==(2&(i=Nr.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n);else if(19===e.tag)Ja(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(lo(Nr,i),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===zr(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),es(t,!1,o,n,r,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===zr(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}es(t,!0,n,null,r,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function is(e,t){if(!jr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function os(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fo(t.type)&&go(),null;case 3:return Pr(),so(ho),so(uo),Hr(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Gr(t)?t.flags|=4:i.hydrate||(t.flags|=256)),null;case 5:Ir(t);var r=Mr(Or.current);if(n=t.type,null!==e&&null!=t.stateNode)Za(e,t,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Mr(Lr.current),Gr(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Yi]=t,i[Xi]=s,n){case"dialog":Li("cancel",i),Li("close",i);break;case"iframe":case"object":case"embed":Li("load",i);break;case"video":case"audio":for(e=0;e<Ei.length;e++)Li(Ei[e],i);break;case"source":Li("error",i);break;case"img":case"image":case"link":Li("error",i),Li("load",i);break;case"details":Li("toggle",i);break;case"input":ee(i,s),Li("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Li("invalid",i);break;case"textarea":le(i,s),Li("invalid",i)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(r=s[c],"children"===c?"string"===typeof r?i.textContent!==r&&(e=["children",r]):"number"===typeof r&&i.textContent!==""+r&&(e=["children",""+r]):l.hasOwnProperty(c)&&null!=r&&"onScroll"===c&&Li("scroll",i));switch(n){case"input":X(i),ie(i,s,!0);break;case"textarea":X(i),ue(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Di)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(c=9===r.nodeType?r:r.ownerDocument,e===he&&(e=pe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[Yi]=t,e[Xi]=i,Va(e,t),t.stateNode=e,c=xe(n,i),n){case"dialog":Li("cancel",e),Li("close",e),r=i;break;case"iframe":case"object":case"embed":Li("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ei.length;r++)Li(Ei[r],e);r=i;break;case"source":Li("error",e),r=i;break;case"img":case"image":case"link":Li("error",e),Li("load",e),r=i;break;case"details":Li("toggle",e),r=i;break;case"input":ee(e,i),r=J(e,i),Li("invalid",e);break;case"option":r=re(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=o({},i,{value:void 0}),Li("invalid",e);break;case"textarea":le(e,i),r=se(e,i),Li("invalid",e);break;default:r=i}Se(n,r);var u=r;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?Ce(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&_e(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"===typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Li("scroll",e):null!=h&&b(e,s,h,c))}switch(n){case"input":X(e),ie(e,i,!1);break;case"textarea":X(e),ue(e);break;case"option":null!=i.value&&e.setAttribute("value",""+q(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ae(e,!!i.multiple,s,!1):null!=i.defaultValue&&ae(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Di)}Ui(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));n=Mr(Or.current),Mr(Lr.current),Gr(t)?(i=t.stateNode,n=t.memoizedProps,i[Yi]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Yi]=t,t.stateNode=i)}return null;case 13:return so(Nr),i=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Gr(t):n=null!==e.memoizedState,i&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Nr.current)?0===Ns&&(Ns=3):(0!==Ns&&3!==Ns||(Ns=4),null===Ms||0===(134217727&Fs)&&0===(134217727&js)||fl(Ms,Ps))),(i||n)&&(t.flags|=4),null);case 4:return Pr(),null===e&&Oi(t.stateNode.containerInfo),null;case 10:return tr(t),null;case 17:return fo(t.type)&&go(),null;case 19:if(so(Nr),null===(i=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=i.rendering))if(s)is(i,!1);else{if(0!==Ns||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zr(e))){for(t.flags|=64,is(i,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lo(Nr,1&Nr.current|2),t.child}e=e.sibling}null!==i.tail&&Bo()>Ks&&(t.flags|=64,s=!0,is(i,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=zr(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),is(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!jr)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Bo()-i.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,is(i,!1),t.lanes=33554432);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Bo(),n.sibling=null,t=Nr.current,lo(Nr,s?1&t|2:1&t),n):null;case 23:case 24:return bl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function rs(e){switch(e.tag){case 1:fo(e.type)&&go();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pr(),so(ho),so(uo),Hr(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ir(e),null;case 13:return so(Nr),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return so(Nr),null;case 4:return Pr(),null;case 10:return tr(e),null;case 23:case 24:return bl(),null;default:return null}}function as(e,t){try{var n="",i=t;do{n+=Z(i),i=i.return}while(i);var o=n}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Va=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Za=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Mr(Lr.current);var a,s=null;switch(n){case"input":r=J(e,r),i=J(e,i),s=[];break;case"option":r=re(e,r),i=re(e,i),s=[];break;case"select":r=o({},r,{value:void 0}),i=o({},i,{value:void 0}),s=[];break;case"textarea":r=se(e,r),i=se(e,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Di)}for(h in Se(n,i),n=null,r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var c=r[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var u=i[h];if(c=null!=r?r[h]:void 0,i.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Li("scroll",e),s||c===u||(s=[])):"object"===typeof u&&null!==u&&u.$$typeof===N?u.toString():(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ha=function(e,t,n,i){n!==i&&(t.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=lr(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hs||(Hs=!0,qs=i),ss(0,t)},n}function us(e,t,n){(n=lr(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var o=t.value;n.payload=function(){return ss(0,t),i(o)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Dl(e,n)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yo(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gi(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;i=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(Il(n,e),Rl(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Yo(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&dr(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}dr(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ui(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ct(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,i.style.display=we("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(Co&&"function"===typeof Co.onCommitFiberUnmount)try{Co.onCommitFiberUnmount(wo,t)}catch(r){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,o=i.destroy;if(i=i.tag,void 0!==o)if(0!==(4&i))Il(t,n);else{i=t;try{o()}catch(r){Dl(i,r)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(r){Dl(t,r)}break;case 5:ds(t);break;case 4:Cs(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?bs(e,n,t):ws(e,n,t)}function bs(e,t,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Di));else if(4!==i&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function ws(e,t,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Cs(e,t){for(var n,i,o=t,r=!1;;){if(!r){r=o.return;e:for(;;){if(null===r)throw Error(a(160));switch(n=r.stateNode,r.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}r=r.return}r=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=l;;)if(gs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(s=n,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(gs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(r=!1)}o.sibling.return=o.return,o=o.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var o=null!==e?e.memoizedProps:i;e=t.type;var r=t.updateQueue;if(t.updateQueue=null,null!==r){for(n[Xi]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(n,i),xe(e,o),t=xe(e,i),o=0;o<r.length;o+=2){var s=r[o],l=r[o+1];"style"===s?Ce(n,l):"dangerouslySetInnerHTML"===s?_e(n,l):"children"===s?ve(n,l):b(n,s,l,t)}switch(e){case"input":ne(n,i);break;case"textarea":ce(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?ae(n,!!i.multiple,r,!1):e!==!!i.multiple&&(null!=i.defaultValue?ae(n,!!i.multiple,i.defaultValue,!0):ae(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ct(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ws=Bo(),fs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var i=jl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Ls=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,Os=0,Ms=null,As=null,Ps=0,Rs=0,Is=ao(0),Ns=0,zs=null,Ds=0,Fs=0,js=0,Us=0,Bs=null,Ws=0,Ks=1/0;function Gs(){Ks=Bo()+500}var Vs,Zs=null,Hs=!1,qs=null,Ys=null,Xs=!1,$s=null,Qs=90,Js=[],el=[],tl=null,nl=0,il=null,ol=-1,rl=0,al=0,sl=null,ll=!1;function cl(){return 0!==(48&Os)?Bo():-1!==ol?ol:ol=Bo()}function ul(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wo()?1:2;if(0===rl&&(rl=Ds),0!==qo.transition){0!==al&&(al=null!==Bs?Bs.pendingLanes:0),e=rl;var t=4186112&~al;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wo(),0!==(4&Os)&&98===e?e=Ut(12,rl):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),rl),e}function hl(e,t,n){if(50<nl)throw nl=0,il=null,Error(a(185));if(null===(e=dl(e,t)))return null;Kt(e,t,n),e===Ms&&(js|=t,4===Ns&&fl(e,Ps));var i=Wo();1===t?0!==(8&Os)&&0===(48&Os)?gl(e):(pl(e,n),0===Os&&(Gs(),Zo())):(0===(4&Os)||98!==i&&99!==i||(null===tl?tl=new Set([e]):tl.add(e)),pl(e,n)),Bs=e}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Gt(s),c=1<<l,u=r[l];if(-1===u){if(0===(c&i)||0!==(c&o)){u=t,Dt(c);var h=zt;r[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(i=Ft(e,e===Ms?Ps:0),t=zt,0===i)null!==n&&(n!==No&&xo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==No&&xo(n)}15===t?(n=gl.bind(null,e),null===Do?(Do=[n],Fo=So(Mo,Ho)):Do.push(n),n=No):14===t?n=Vo(99,gl.bind(null,e)):n=Vo(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),ml.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(ol=-1,al=rl=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Pl()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ms?Ps:0);if(0===n)return null;var i=n,o=Os;Os|=16;var r=El();for(Ms===e&&Ps===i||(Gs(),wl(e,i));;)try{kl();break}catch(l){Cl(e,l)}if(er(),Ls.current=r,Os=o,null!==As?i=0:(Ms=null,Ps=0,i=Ns),0!==(Ds&js))wl(e,0);else if(0!==i){if(2===i&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gi(e.containerInfo)),0!==(n=jt(e))&&(i=Sl(e,n))),1===i)throw t=zs,wl(e,0),fl(e,n),pl(e,Bo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(a(345));case 2:Ol(e);break;case 3:if(fl(e,n),(62914560&n)===n&&10<(i=Ws+500-Bo())){if(0!==Ft(e,0))break;if(((o=e.suspendedLanes)&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Wi(Ol.bind(null,e),i);break}Ol(e);break;case 4:if(fl(e,n),(4186112&n)===n)break;for(i=e.eventTimes,o=-1;0<n;){var s=31-Gt(n);r=1<<s,(s=i[s])>o&&(o=s),n&=~r}if(n=o,10<(n=(120>(n=Bo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Wi(Ol.bind(null,e),n);break}Ol(e);break;case 5:Ol(e);break;default:throw Error(a(329))}}return pl(e,Bo()),e.callbackNode===t?ml.bind(null,e):null}function fl(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),i=1<<n;e[n]=-1,t&=~i}}function gl(e){if(0!==(48&Os))throw Error(a(327));if(Pl(),e===Ms&&0!==(e.expiredLanes&Ps)){var t=Ps,n=Sl(e,t);0!==(Ds&js)&&(n=Sl(e,t=Ft(e,t)))}else n=Sl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gi(e.containerInfo)),0!==(t=jt(e))&&(n=Sl(e,t))),1===n)throw n=zs,wl(e,0),fl(e,t),pl(e,Bo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),pl(e,Bo()),null}function _l(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Zo())}}function vl(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Zo())}}function yl(e,t){lo(Is,Rs),Rs|=t,Ds|=t}function bl(){Rs=Is.current,so(Is)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ki(n)),null!==As)for(n=As.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&go();break;case 3:Pr(),so(ho),so(uo),Hr();break;case 5:Ir(i);break;case 4:Pr();break;case 13:case 19:so(Nr);break;case 10:tr(i);break;case 23:case 24:bl()}n=n.return}Ms=e,As=Kl(e.current,null),Ps=Rs=Ds=t,Ns=0,zs=null,Us=js=Fs=0}function Cl(e,t){for(;;){var n=As;try{if(er(),qr.current=Oa,ea){for(var i=$r.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}ea=!1}if(Xr=0,Jr=Qr=$r=null,ta=!1,Ts.current=null,null===n||null===n.return){Ns=1,zs=t,As=null;break}e:{var r=e,a=n.return,s=n,l=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Nr.current),d=a;do{var p;if(p=13===d.tag){var m=d.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var f=d.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var _=new Set;_.add(c),d.updateQueue=_}else g.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=lr(-1,1);v.tag=2,cr(s,v)}s.lanes|=1;break e}l=void 0,s=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new ls,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(s)){l.add(s);var b=Fl.bind(null,r,c,s);c.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ns&&(Ns=2),l=as(l,s),d=a;do{switch(d.tag){case 3:r=l,d.flags|=4096,t&=-t,d.lanes|=t,ur(d,cs(0,r,t));break e;case 1:r=l;var w=d.type,C=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===Ys||!Ys.has(C)))){d.flags|=4096,t&=-t,d.lanes|=t,ur(d,us(d,r,t));break e}}d=d.return}while(null!==d)}Tl(n)}catch(E){t=E,As===n&&null!==n&&(As=n=n.return);continue}break}}function El(){var e=Ls.current;return Ls.current=Oa,null===e?Oa:e}function Sl(e,t){var n=Os;Os|=16;var i=El();for(Ms===e&&Ps===t||wl(e,t);;)try{xl();break}catch(o){Cl(e,o)}if(er(),Os=n,Ls.current=i,null!==As)throw Error(a(261));return Ms=null,Ps=0,Ns}function xl(){for(;null!==As;)Ll(As)}function kl(){for(;null!==As&&!ko();)Ll(As)}function Ll(e){var t=Vs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Tl(e):As=t,Ts.current=null}function Tl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=os(n,t,Rs)))return void(As=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var i=0,o=n.child;null!==o;)i|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=i}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=rs(t)))return n.flags&=2047,void(As=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ns&&(Ns=5)}function Ol(e){var t=Wo();return Go(99,Ml.bind(null,e,t)),null}function Ml(e,t){do{Pl()}while(null!==$s);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var i=n.lanes|n.childLanes,o=i,r=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<r;){var c=31-Gt(r),u=1<<c;o[c]=0,s[c]=-1,l[c]=-1,r&=~u}if(null!==tl&&0===(24&i)&&tl.has(e)&&tl.delete(e),e===Ms&&(As=Ms=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(o=Os,Os|=32,Ts.current=null,Fi=Yt,mi(s=pi())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,r=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(k){l=null;break e}var h=0,d=-1,p=-1,m=0,f=0,g=s,_=null;t:for(;;){for(var v;g!==l||0!==r&&3!==g.nodeType||(d=h+r),g!==c||0!==u&&3!==g.nodeType||(p=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)_=g,g=v;for(;;){if(g===s)break t;if(_===l&&++m===r&&(d=h),_===c&&++f===u&&(p=h),null!==(v=g.nextSibling))break;_=(g=_).parentNode}g=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;ji={focusedElem:s,selectionRange:l},Yt=!1,sl=null,ll=!1,Zs=i;do{try{Al()}catch(k){if(null===Zs)throw Error(a(330));Dl(Zs,k),Zs=Zs.nextEffect}}while(null!==Zs);sl=null,Zs=i;do{try{for(s=e;null!==Zs;){var y=Zs.flags;if(16&y&&ve(Zs.stateNode,""),128&y){var b=Zs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&y){case 2:ys(Zs),Zs.flags&=-3;break;case 6:ys(Zs),Zs.flags&=-3,Es(Zs.alternate,Zs);break;case 1024:Zs.flags&=-1025;break;case 1028:Zs.flags&=-1025,Es(Zs.alternate,Zs);break;case 4:Es(Zs.alternate,Zs);break;case 8:Cs(s,l=Zs);var C=l.alternate;_s(l),null!==C&&_s(C)}Zs=Zs.nextEffect}}catch(k){if(null===Zs)throw Error(a(330));Dl(Zs,k),Zs=Zs.nextEffect}}while(null!==Zs);if(w=ji,b=pi(),y=w.focusedElem,s=w.selectionRange,b!==y&&y&&y.ownerDocument&&di(y.ownerDocument.documentElement,y)){null!==s&&mi(y)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=y.textContent.length,C=Math.min(s.start,l),s=void 0===s.end?C:Math.min(s.end,l),!w.extend&&C>s&&(l=s,s=C,C=l),l=hi(y,C),r=hi(y,s),l&&r&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==r.node||w.focusOffset!==r.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),C>s?(w.addRange(b),w.extend(r.node,r.offset)):(b.setEnd(r.node,r.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Fi,ji=Fi=null,e.current=n,Zs=i;do{try{for(y=e;null!==Zs;){var E=Zs.flags;if(36&E&&ms(y,Zs.alternate,Zs),128&E){b=void 0;var S=Zs.ref;if(null!==S){var x=Zs.stateNode;switch(Zs.tag){case 5:b=x;break;default:b=x}"function"===typeof S?S(b):S.current=b}}Zs=Zs.nextEffect}}catch(k){if(null===Zs)throw Error(a(330));Dl(Zs,k),Zs=Zs.nextEffect}}while(null!==Zs);Zs=null,zo(),Os=o}else e.current=n;if(Xs)Xs=!1,$s=e,Qs=t;else for(Zs=i;null!==Zs;)t=Zs.nextEffect,Zs.nextEffect=null,8&Zs.flags&&((E=Zs).sibling=null,E.stateNode=null),Zs=t;if(0===(i=e.pendingLanes)&&(Ys=null),1===i?e===il?nl++:(nl=0,il=e):nl=0,n=n.stateNode,Co&&"function"===typeof Co.onCommitFiberRoot)try{Co.onCommitFiberRoot(wo,n,void 0,64===(64&n.current.flags))}catch(k){}if(pl(e,Bo()),Hs)throw Hs=!1,e=qs,qs=null,e;return 0!==(8&Os)||Zo(),null}function Al(){for(;null!==Zs;){var e=Zs.alternate;ll||null===sl||(0!==(8&Zs.flags)?et(Zs,sl)&&(ll=!0):13===Zs.tag&&xs(e,Zs)&&et(Zs,sl)&&(ll=!0));var t=Zs.flags;0!==(256&t)&&ps(e,Zs),0===(512&t)||Xs||(Xs=!0,Vo(97,(function(){return Pl(),null}))),Zs=Zs.nextEffect}}function Pl(){if(90!==Qs){var e=97<Qs?97:Qs;return Qs=90,Go(e,Nl)}return!1}function Rl(e,t){Js.push(t,e),Xs||(Xs=!0,Vo(97,(function(){return Pl(),null})))}function Il(e,t){el.push(t,e),Xs||(Xs=!0,Vo(97,(function(){return Pl(),null})))}function Nl(){if(null===$s)return!1;var e=$s;if($s=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=el;el=[];for(var i=0;i<n.length;i+=2){var o=n[i],r=n[i+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===r)throw Error(a(330));Dl(r,c)}}for(n=Js,Js=[],i=0;i<n.length;i+=2){o=n[i],r=n[i+1];try{var l=o.create;o.destroy=l()}catch(c){if(null===r)throw Error(a(330));Dl(r,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,Zo(),!0}function zl(e,t,n){cr(e,t=cs(0,t=as(n,t),1)),t=cl(),null!==(e=dl(e,1))&&(Kt(e,1,t),pl(e,t))}function Dl(e,t){if(3===e.tag)zl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ys||!Ys.has(i))){var o=us(n,e=as(t,e),1);if(cr(n,o),o=cl(),null!==(n=dl(n,1)))Kt(n,1,o),pl(n,o);else if("function"===typeof i.componentDidCatch&&(null===Ys||!Ys.has(i)))try{i.componentDidCatch(t,e)}catch(r){}break}}n=n.return}}function Fl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,Ms===e&&(Ps&n)===n&&(4===Ns||3===Ns&&(62914560&Ps)===Ps&&500>Bo()-Ws?wl(e,0):Us|=n),pl(e,t)}function jl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wo()?1:2:(0===rl&&(rl=Ds),0===(t=Bt(62914560&~rl))&&(t=4194304))),n=cl(),null!==(e=dl(e,t))&&(Kt(e,t,n),pl(e,n))}function Ul(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(e,t,n,i){return new Ul(e,t,n,i)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kl(e,t){var n=e.alternate;return null===n?((n=Bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gl(e,t,n,i,o,r){var s=2;if(i=e,"function"===typeof e)Wl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Vl(n.children,o,r,t);case z:s=8,o|=16;break;case x:s=8,o|=1;break;case k:return(e=Bl(12,n,t,8|o)).elementType=k,e.type=k,e.lanes=r,e;case M:return(e=Bl(13,n,t,o)).type=M,e.elementType=M,e.lanes=r,e;case A:return(e=Bl(19,n,t,o)).elementType=A,e.lanes=r,e;case D:return Zl(n,o,r,t);case F:return(e=Bl(24,n,t,o)).elementType=F,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case L:s=10;break e;case T:s=9;break e;case O:s=11;break e;case P:s=14;break e;case R:s=16,i=null;break e;case I:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Bl(s,n,t,o)).elementType=e,t.type=i,t.lanes=r,t}function Vl(e,t,n,i){return(e=Bl(7,e,i,t)).lanes=n,e}function Zl(e,t,n,i){return(e=Bl(23,e,i,t)).elementType=D,e.lanes=n,e}function Hl(e,t,n){return(e=Bl(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Bl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Xl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function $l(e,t,n,i){var o=t.current,r=cl(),s=ul(o);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(fo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(fo(c)){n=vo(n,c,l);break e}}n=l}else n=co;return null===t.context?t.context=n:t.pendingContext=n,(t=lr(r,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),cr(o,t),hl(o,s,r),s}function Ql(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Jl(e,t),(e=e.alternate)&&Jl(e,t)}function tc(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yl(e,t,null!=n&&!0===n.hydrate),t=Bl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ar(t),e[$i]=n.current,Oi(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var o=(t=i[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(e,t,n,i,o){var r=n._reactRootContainer;if(r){var a=r._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=Ql(a);s.call(e)}}$l(t,a,e,o)}else{if(r=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,i),a=r._internalRoot,"function"===typeof o){var l=o;o=function(){var e=Ql(a);l.call(e)}}vl((function(){$l(t,a,e,o)}))}return Ql(a)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(a(200));return Xl(e,t,null,n)}Vs=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ho.current)Ia=!0;else{if(0===(n&i)){switch(Ia=!1,t.tag){case 3:Ga(t),Vr();break;case 5:Rr(t);break;case 1:fo(t.type)&&yo(t);break;case 4:Ar(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var o=t.type._context;lo(Xo,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ya(e,t,n):(lo(Nr,1&Nr.current),null!==(t=ns(e,t,n))?t.sibling:null);lo(Nr,1&Nr.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(64&e.flags)){if(i)return ts(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),lo(Nr,Nr.current),i)break;return null;case 23:case 24:return t.lanes=0,ja(e,t,n)}return ns(e,t,n)}Ia=0!==(16384&e.flags)}else Ia=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=mo(t,uo.current),ir(t,n),o=oa(null,t,i,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fo(i)){var r=!0;yo(t)}else r=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ar(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&mr(t,i,s,e),o.updater=fr,t.stateNode=o,o._reactInternals=t,yr(t,i,e,n),t=Ka(null,t,i,!0,r,n)}else t.tag=0,Na(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return Wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(o),e=Yo(o,e),r){case 0:t=Ba(null,t,o,e,n);break e;case 1:t=Wa(null,t,o,e,n);break e;case 11:t=za(null,t,o,e,n);break e;case 14:t=Da(null,t,o,Yo(o.type,e),i,n);break e}throw Error(a(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,Ba(e,t,i,o=t.elementType===i?o:Yo(i,o),n);case 1:return i=t.type,o=t.pendingProps,Wa(e,t,i,o=t.elementType===i?o:Yo(i,o),n);case 3:if(Ga(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,sr(e,t),hr(t,i,null,n),(i=t.memoizedState.element)===o)Vr(),t=ns(e,t,n);else{if((r=(o=t.stateNode).hydrate)&&(Fr=Vi(t.stateNode.containerInfo.firstChild),Dr=t,r=jr=!0),r){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(r=e[o])._workInProgressVersionPrimary=e[o+1],Zr.push(r);for(n=xr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Na(e,t,i,n),Vr();t=t.child}return t;case 5:return Rr(t),null===e&&Wr(t),i=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,s=o.children,Bi(i,o)?s=null:null!==r&&Bi(i,r)&&(t.flags|=16),Ua(e,t),Na(e,t,s,n),t.child;case 6:return null===e&&Wr(t),null;case 13:return Ya(e,t,n);case 4:return Ar(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Sr(t,null,i,n):Na(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,za(e,t,i,o=t.elementType===i?o:Yo(i,o),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,r=o.value;var l=t.type._context;if(lo(Xo,l._currentValue),l._currentValue=r,null!==s)if(l=s.value,0===(r=si(l,r)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,r):1073741823))){if(s.children===o.children&&!ho.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!==(u.observedBits&r)){1===l.tag&&((u=lr(-1,n&-n)).tag=2,cr(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),nr(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Na(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=(r=t.pendingProps).children,ir(t,n),i=i(o=or(o,r.unstable_observedBits)),t.flags|=1,Na(e,t,i,n),t.child;case 14:return r=Yo(o=t.type,t.pendingProps),Da(e,t,o,r=Yo(o.type,r),i,n);case 15:return Fa(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Yo(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fo(i)?(e=!0,yo(t)):e=!1,ir(t,n),_r(t,i,o),yr(t,i,o,n),Ka(null,t,i,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return ja(e,t,n)}throw Error(a(156,t.tag))},tc.prototype.render=function(e){$l(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[$i]=null}))},tt=function(e){13===e.tag&&(hl(e,4,cl()),ec(e,4))},nt=function(e){13===e.tag&&(hl(e,67108864,cl()),ec(e,67108864))},it=function(e){if(13===e.tag){var t=cl(),n=ul(e);hl(e,n,t),ec(e,n)}},ot=function(e,t){return t()},Le=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=no(i);if(!o)throw Error(a(90));$(i),ne(i,o)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=_l,Ie=function(e,t,n,i,o){var r=Os;Os|=4;try{return Go(98,e.bind(null,t,n,i,o))}finally{0===(Os=r)&&(Gs(),Zo())}},Ne=function(){0===(49&Os)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pl(e,Bo())}))}Zo()}(),Pl())},ze=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Zo())}};var rc={Events:[eo,to,no,Ae,Pe,Pl,{current:!1}]},ac={findFiberByHostInstance:Ji,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{wo=lc.inject(sc),Co=lc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Go(99,e.bind(null,t))}finally{Os=n,Zo()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(a(200));return ic(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(a(200));return ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(a(40));return!!e._reactRootContainer&&(vl((function(){ic(null,null,e,!1,(function(){e._reactRootContainer=null,e[$i]=null}))})),!0)},t.unstable_batchedUpdates=_l,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!nc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ic(e,t,n,!1,i)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(50)},function(e,t,n){"use strict";var i,o,r,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,h=null,d=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(i){throw setTimeout(e,0),i}};i=function(e){null!==u?setTimeout(i,0,e):(u=e,setTimeout(d,0))},o=function(e,t){h=setTimeout(e,t)},r=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,_=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,C=w.port2;w.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();b=e+y;try{_(!0,e)?C.postMessage(null):(g=!1,_=null)}catch(n){throw C.postMessage(null),n}}else g=!1},i=function(e){_=e,g||(g=!0,C.postMessage(null))},o=function(e,n){v=p((function(){e(t.unstable_now())}),n)},r=function(){m(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,o=e[i];if(!(void 0!==o&&0<k(o,t)))break e;e[i]=t,e[n]=o,n=i}}function S(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length;i<o;){var r=2*(i+1)-1,a=e[r],s=r+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[r]=n,i=r);else{if(!(void 0!==l&&0>k(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var L=[],T=[],O=1,M=null,A=3,P=!1,R=!1,I=!1;function N(e){for(var t=S(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,E(L,t)}t=S(T)}}function z(e){if(I=!1,N(e),!R)if(null!==S(L))R=!0,i(D);else{var t=S(T);null!==t&&o(z,t.startTime-e)}}function D(e,n){R=!1,I&&(I=!1,r()),P=!0;var i=A;try{for(N(n),M=S(L);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=M.callback;if("function"===typeof a){M.callback=null,A=M.priorityLevel;var s=a(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?M.callback=s:M===S(L)&&x(L),N(n)}else x(L);M=S(L)}if(null!==M)var l=!0;else{var c=S(T);null!==c&&o(z,c.startTime-n),l=!1}return l}finally{M=null,A=i,P=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,i(D))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return S(L)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,E(T,e),null===S(L)&&e===S(T)&&(I?r():I=!0,o(z,a-s))):(e.sortIndex=l,E(L,e),R||P||(R=!0,i(D))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,i,o,r,a){var s=o||"<<anonymous>>",l=a||i;if(null==n[i])return t?new Error("Required "+r+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];return e.apply(void 0,[n,i,s,r,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){"use strict";var i=n(53);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,_=i?Symbol.for("react.lazy"):60116,v=i?Symbol.for("react.block"):60121,y=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case h:case d:case a:case l:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case p:case _:case g:case c:return e;default:return t}}case r:return t}}}function E(e){return C(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=_,t.Memo=g,t.Portal=r,t.Profiler=l,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return E(e)||C(e)===h},t.isConcurrentMode=E,t.isContextConsumer=function(e){return C(e)===u},t.isContextProvider=function(e){return C(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===_},t.isMemo=function(e){return C(e)===g},t.isPortal=function(e){return C(e)===r},t.isProfiler=function(e){return C(e)===l},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===l||e===s||e===m||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=C},function(e,t,n){var i;!function(o,r){"use strict";var a="function",s="undefined",l="object",c="model",u="name",h="type",d="vendor",p="version",m="architecture",f="console",g="mobile",_="tablet",v="smarttv",y="wearable",b={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2===0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"===typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},w={rgx:function(e,t){for(var n,i,o,s,c,u,h=0;h<t.length&&!c;){var d=t[h],p=t[h+1];for(n=i=0;n<d.length&&!c;)if(c=d[n++].exec(e))for(o=0;o<p.length;o++)u=c[++i],typeof(s=p[o])===l&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):r:this[s[0]]=u?s[1].call(this,u,s[2]):r:4==s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):r):this[s]=u||r;h+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(b.has(t[n][i],e))return"?"===n?r:n}else if(b.has(t[n],e))return"?"===n?r:n;return e}},C={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},E={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,p],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[u,p],[/(konqueror)\/([\w\.]+)/i],[[u,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[u,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[u,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[u,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[u,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[u,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[u,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[u,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[u,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[u,"Brave"],p],[/(whale)\/([\w\.]+)/i],[[u,"Whale"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[u,p],[/(QQ)\/([\d\.]+)/i],[u,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[u,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[u,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[u,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[u],[/(LBBROWSER)/i],[u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[u,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[u,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[u,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[u,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[u,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,p],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[u,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[u,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,u],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[u,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[p,w.str,C.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,b.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",b.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,b.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,d,[h,_]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[d,"Apple"],[h,_]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[d,"Apple"],[h,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,c,[h,_]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[c,[d,"Amazon"],[h,_]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,w.str,C.device.amazon.model],[d,"Amazon"],[h,g]],[/android.+aft([bms])\sbuild/i],[c,[d,"Amazon"],[h,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,d,[h,g]],[/\((ip[honed|\s\w*]+);/i],[c,[d,"Apple"],[h,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,c,[h,g]],[/\(bb10;\s(\w+)/i],[c,[d,"BlackBerry"],[h,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[d,"Asus"],[h,_]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[c,"Xperia Tablet"],[h,_]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,"Sony"],[h,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,c,[h,f]],[/android.+;\s(shield)\sbuild/i],[c,[d,"Nvidia"],[h,f]],[/(playstation\s[34portablevi]+)/i],[c,[d,"Sony"],[h,f]],[/(sprint\s(\w+))/i],[[d,w.str,C.device.sprint.vendor],[c,w.str,C.device.sprint.model],[h,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[c,/_/g," "],[h,g]],[/(nexus\s9)/i],[c,[d,"HTC"],[h,_]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[c,[d,"Huawei"],[h,g]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[d,"Huawei"],[h,_]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,c,[h,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[d,"Microsoft"],[h,f]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,"Microsoft"],[h,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[d,"Motorola"],[h,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[d,"Motorola"],[h,_]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,b.trim],[c,b.trim],[h,v]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,"Samsung"],[h,v]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[h,v]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],c,[h,_]],[/smart-tv.+(samsung)/i],[d,[h,v],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],c,[h,g]],[/sie-(\w*)/i],[c,[d,"Siemens"],[h,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],c,[h,g]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[d,"Acer"],[h,_]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[d,"LG"],[h,_]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],c,[h,_]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[d,"LG"],c,[h,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[d,"LG"],[h,g]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[d,c,[h,_]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[d,"Lenovo"],[h,_]],[/(lenovo)[_\s-]?([\w-]+)/i],[d,c,[h,g]],[/linux;.+((jolla));/i],[d,c,[h,g]],[/((pebble))app\/[\d\.]+\s/i],[d,c,[h,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,c,[h,g]],[/crkey/i],[[c,"Chromecast"],[d,"Google"],[h,v]],[/android.+;\s(glass)\s\d/i],[c,[d,"Google"],[h,y]],[/android.+;\s(pixel c)[\s)]/i],[c,[d,"Google"],[h,_]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[c,[d,"Google"],[h,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[d,"Xiaomi"],[h,g]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[c,/_/g," "],[d,"Xiaomi"],[h,_]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[d,"Meizu"],[h,g]],[/(mz)-([\w-]{2,})/i],[[d,"Meizu"],c,[h,g]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[d,"OnePlus"],[h,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[d,"RCA"],[h,_]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[c,[d,"Dell"],[h,_]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[d,"Verizon"],[h,_]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],c,[h,_]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[d,"NuVision"],[h,_]],[/android.+;\s(k88)\sbuild/i],[c,[d,"ZTE"],[h,_]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[d,"Swiss"],[h,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[d,"Swiss"],[h,_]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[d,"Zeki"],[h,_]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],c,[h,_]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[d,"Insignia"],[h,_]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[d,"NextBook"],[h,_]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],c,[h,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],c,[h,g]],[/android.+;\s(PH-1)\s/i],[c,[d,"Essential"],[h,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[d,"Envizen"],[h,_]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,c,[h,_]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[c,[d,"MachSpeed"],[h,_]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,c,[h,_]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[d,"Rotor"],[h,_]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,c,[h,_]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[h,g]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[h,_]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[h,b.lowerize],d,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[h,v]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[p,w.str,C.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[p,w.str,C.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[u,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[u,"Symbian"],p],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],p],[/crkey\/([\d\.]+)/i],[p,[u,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[u,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[u,p],[/(haiku)\s(\w+)/i],[u,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,p]]},S=function e(t,n){if("object"===typeof t&&(n=t,t=r),!(this instanceof e))return new e(t,n).getResult();var i=t||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),a=n?b.extend(E,n):E;return this.getBrowser=function(){var e={name:r,version:r};return w.rgx.call(e,i,a.browser),e.major=b.major(e.version),e},this.getCPU=function(){var e={architecture:r};return w.rgx.call(e,i,a.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return w.rgx.call(e,i,a.device),e},this.getEngine=function(){var e={name:r,version:r};return w.rgx.call(e,i,a.engine),e},this.getOS=function(){var e={name:r,version:r};return w.rgx.call(e,i,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};S.VERSION="0.7.23",S.BROWSER={NAME:u,MAJOR:"major",VERSION:p},S.CPU={ARCHITECTURE:m},S.DEVICE={MODEL:c,VENDOR:d,TYPE:h,CONSOLE:f,MOBILE:g,SMARTTV:v,TABLET:_,WEARABLE:y,EMBEDDED:"embedded"},S.ENGINE={NAME:u,VERSION:p},S.OS={NAME:u,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=S),t.UAParser=S):(i=function(){return S}.call(t,n,t,e))===r||(e.exports=i);var x=o&&(o.jQuery||o.Zepto);if(x&&!x.ua){var k=new S;x.ua=k.getResult(),x.ua.get=function(){return k.getUA()},x.ua.set=function(e){k.setUA(e);var t=k.getResult();for(var n in t)x.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){},,,,function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(4),a=n.n(r),s=n(0),l=n.n(s),c=n(6),u=n(31),h=l.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,s=e.size,h=e.active,d=e.className,p=e.block,m=e.type,f=e.as,g=Object(o.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),_=Object(c.a)(n,"btn"),v=a()(d,_,h&&"active",r&&_+"-"+r,p&&_+"-block",s&&_+"-"+s);if(g.href)return l.a.createElement(u.a,Object(i.a)({},g,{as:f,ref:t,className:a()(v,g.disabled&&"disabled")}));t&&(g.ref=t),m?g.type=m:f||(g.type="button");var y=f||"button";return l.a.createElement(y,Object(i.a)({},g,{className:v}))}));h.displayName="Button",h.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=h},function(e,t,n){"use strict";var i,o=n(2),r=n(3),a=n(4),s=n.n(a),l=n(27),c=n(16),u=n(14),h=n(24);function d(e){if((!i&&0!==i||e)&&c.a){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i}var p=n(0),m=n.n(p);var f=n(10),g=n(21),_=n(28);function v(e){void 0===e&&(e=Object(u.a)());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(n){return e.body}}function y(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var b=n(22),w=n(5),C=n.n(w),E=n(17),S=n.n(E),x=n(29);function k(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function L(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function T(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=L(e.className,t):e.setAttribute("class",L(e.className&&e.className.baseVal||"",t))}var O=n(15);function M(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function A(e){var t;return M(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=M(e)?Object(u.a)():Object(u.a)(e),n=M(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var P=["template","script","style"],R=function(e,t,n){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===P.indexOf(n.toLowerCase())}(e)&&n(e)}))};function I(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var N,z=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,i=void 0===n||n,o=t.handleContainerOverflow,r=void 0===o||o;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=i,this.handleContainerOverflow=r,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=d()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,i){return!!t(e,i)&&(n=i,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(Object(O.a)(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Object(O.a)(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var i=this.modals.indexOf(e),o=this.containers.indexOf(t);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.dialog,i=t.backdrop;R(e,[n,i],(function(e){return I(!0,e)}))}(t,e),-1!==o)return this.data[o].modals.push(e),i;var r={modals:[e],classes:n?n.split(/\s+/):[],overflowing:A(t)};return this.handleContainerOverflow&&this.setContainerStyle(r,t),r.classes.forEach(k.bind(null,t)),this.containers.push(t),this.data.push(r),i},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),i=this.data[n],o=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length)i.classes.forEach(T.bind(null,o)),this.handleContainerOverflow&&this.removeContainerStyle(i,o),this.hideSiblingNodes&&function(e,t){var n=t.dialog,i=t.backdrop;R(e,[n,i],(function(e){return I(!1,e)}))}(o,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var r=i.modals[i.modals.length-1],a=r.backdrop;I(!1,r.dialog),I(!1,a)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}(),D=function(e){var t;return"undefined"===typeof document?null:null==e?Object(u.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function F(e){var t=e||(N||(N=new z),N),n=Object(p.useRef)({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(e,i){return t.add(n.current,e,i)},remove:function(){return t.remove(n.current)},isTopModal:function(){return t.isTopModal(n.current)},setDialogRef:Object(p.useCallback)((function(e){n.current.dialog=e}),[]),setBackdropRef:Object(p.useCallback)((function(e){n.current.backdrop=e}),[])})}var j=Object(p.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,a=e.role,s=void 0===a?"dialog":a,l=e.className,u=e.style,h=e.children,d=e.backdrop,_=void 0===d||d,w=e.keyboard,C=void 0===w||w,E=e.onBackdropClick,k=e.onEscapeKeyDown,L=e.transition,T=e.backdropTransition,O=e.autoFocus,M=void 0===O||O,A=e.enforceFocus,P=void 0===A||A,R=e.restoreFocus,I=void 0===R||R,N=e.restoreFocusOptions,z=e.renderDialog,j=e.renderBackdrop,U=void 0===j?function(e){return m.a.createElement("div",e)}:j,B=e.manager,W=e.container,K=e.containerClassName,G=e.onShow,V=e.onHide,Z=void 0===V?function(){}:V,H=e.onExit,q=e.onExited,Y=e.onExiting,X=e.onEnter,$=e.onEntering,Q=e.onEntered,J=Object(r.a)(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),ee=function(e,t){var n=Object(p.useState)((function(){return D(e)})),i=n[0],o=n[1];if(!i){var r=D(e);r&&o(r)}return Object(p.useEffect)((function(){t&&i&&t(i)}),[t,i]),Object(p.useEffect)((function(){var t=D(e);t!==i&&o(t)}),[e,i]),i}(W),te=F(B),ne=Object(x.a)(),ie=function(e){var t=Object(p.useRef)(null);return Object(p.useEffect)((function(){t.current=e})),t.current}(i),oe=Object(p.useState)(!i),re=oe[0],ae=oe[1],se=Object(p.useRef)(null);Object(p.useImperativeHandle)(t,(function(){return te}),[te]),c.a&&!ie&&i&&(se.current=v()),L||i||re?i&&re&&ae(!1):ae(!0);var le=Object(f.a)((function(){if(te.add(ee,K),me.current=Object(b.a)(document,"keydown",de),pe.current=Object(b.a)(document,"focus",(function(){return setTimeout(ue)}),!0),G&&G(),M){var e=v(document);te.dialog&&e&&!y(te.dialog,e)&&(se.current=e,te.dialog.focus())}})),ce=Object(f.a)((function(){var e;(te.remove(),null==me.current||me.current(),null==pe.current||pe.current(),I)&&(null==(e=se.current)||null==e.focus||e.focus(N),se.current=null)}));Object(p.useEffect)((function(){i&&ee&&le()}),[i,ee,le]),Object(p.useEffect)((function(){re&&ce()}),[re,ce]),Object(g.a)((function(){ce()}));var ue=Object(f.a)((function(){if(P&&ne()&&te.isTopModal()){var e=v();te.dialog&&e&&!y(te.dialog,e)&&te.dialog.focus()}})),he=Object(f.a)((function(e){e.target===e.currentTarget&&(null==E||E(e),!0===_&&Z())})),de=Object(f.a)((function(e){C&&27===e.keyCode&&te.isTopModal()&&(null==k||k(e),e.defaultPrevented||Z())})),pe=Object(p.useRef)(),me=Object(p.useRef)(),fe=L;if(!ee||!(i||fe&&!re))return null;var ge=Object(o.a)({role:s,ref:te.setDialogRef,"aria-modal":"dialog"===s||void 0},J,{style:u,className:l,tabIndex:-1}),_e=z?z(ge):m.a.createElement("div",ge,m.a.cloneElement(h,{role:"document"}));fe&&(_e=m.a.createElement(fe,{appear:!0,unmountOnExit:!0,in:!!i,onExit:H,onExiting:Y,onExited:function(){ae(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==q||q.apply(void 0,t)},onEnter:X,onEntering:$,onEntered:Q},_e));var ve=null;if(_){var ye=T;ve=U({ref:te.setBackdropRef,onClick:he}),ye&&(ve=m.a.createElement(ye,{appear:!0,in:!!i},ve))}return m.a.createElement(m.a.Fragment,null,S.a.createPortal(m.a.createElement(m.a.Fragment,null,ve,_e),ee))})),U={show:C.a.bool,container:C.a.any,onShow:C.a.func,onHide:C.a.func,backdrop:C.a.oneOfType([C.a.bool,C.a.oneOf(["static"])]),renderDialog:C.a.func,renderBackdrop:C.a.func,onEscapeKeyDown:C.a.func,onBackdropClick:C.a.func,containerClassName:C.a.string,keyboard:C.a.bool,transition:C.a.elementType,backdropTransition:C.a.elementType,autoFocus:C.a.bool,enforceFocus:C.a.bool,restoreFocus:C.a.bool,restoreFocusOptions:C.a.shape({preventScroll:C.a.bool}),onEnter:C.a.func,onEntering:C.a.func,onEntered:C.a.func,onExit:C.a.func,onExiting:C.a.func,onExited:C.a.func,manager:C.a.instanceOf(z)};j.displayName="Modal",j.propTypes=U;var B=Object.assign(j,{Manager:z}),W=(n(37),n(8)),K=Function.prototype.bind.call(Function.prototype.call,[].slice);function G(e,t){return K(e.querySelectorAll(t))}var V=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Z=".sticky-top",H=".navbar-toggler",q=function(e){function t(){return e.apply(this,arguments)||this}Object(W.a)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var i,o=t.style[e];t.dataset[e]=o,Object(O.a)(t,((i={})[e]=parseFloat(Object(O.a)(t,e))+n+"px",i))},n.restore=function(e,t){var n,i=t.dataset[e];void 0!==i&&(delete t.dataset[e],Object(O.a)(t,((n={})[e]=i,n)))},n.setContainerStyle=function(t,n){var i=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var o=d();G(n,V).forEach((function(e){return i.adjustAndStore("paddingRight",e,o)})),G(n,Z).forEach((function(e){return i.adjustAndStore("marginRight",e,-o)})),G(n,H).forEach((function(e){return i.adjustAndStore("marginRight",e,o)}))}},n.removeContainerStyle=function(t,n){var i=this;e.prototype.removeContainerStyle.call(this,t,n),G(n,V).forEach((function(e){return i.restore("paddingRight",e)})),G(n,Z).forEach((function(e){return i.restore("marginRight",e)})),G(n,H).forEach((function(e){return i.restore("marginRight",e)}))},t}(z),Y=n(18),X=n(11),$=Object(X.a)("modal-body"),Q=m.a.createContext({onHide:function(){}}),J=n(6),ee=m.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.contentClassName,l=e.centered,c=e.size,u=e.children,h=e.scrollable,d=Object(r.a)(e,["bsPrefix","className","contentClassName","centered","size","children","scrollable"]),p=(n=Object(J.a)(n,"modal"))+"-dialog";return m.a.createElement("div",Object(o.a)({},d,{ref:t,className:s()(p,i,c&&n+"-"+c,l&&p+"-centered",h&&p+"-scrollable")}),m.a.createElement("div",{className:s()(n+"-content",a)},u))}));ee.displayName="ModalDialog";var te=ee,ne=Object(X.a)("modal-footer"),ie=n(20),oe=m.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.closeLabel,a=e.closeButton,l=e.onHide,c=e.className,u=e.children,h=Object(r.a)(e,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);n=Object(J.a)(n,"modal-header");var d=Object(p.useContext)(Q),g=Object(f.a)((function(){d&&d.onHide(),l&&l()}));return m.a.createElement("div",Object(o.a)({ref:t},h,{className:s()(c,n)}),u,a&&m.a.createElement(ie.a,{label:i,onClick:g}))}));oe.displayName="ModalHeader",oe.defaultProps={closeLabel:"Close",closeButton:!1};var re,ae=oe,se=n(30),le=Object(se.a)("h4"),ce=Object(X.a)("modal-title",{Component:le}),ue={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:te};function he(e){return m.a.createElement(Y.a,e)}function de(e){return m.a.createElement(Y.a,e)}var pe=m.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.style,v=e.dialogClassName,y=e.contentClassName,b=e.children,w=e.dialogAs,C=e["aria-labelledby"],E=e.show,S=e.animation,x=e.backdrop,k=e.keyboard,L=e.onEscapeKeyDown,T=e.onShow,O=e.onHide,M=e.container,A=e.autoFocus,P=e.enforceFocus,R=e.restoreFocus,I=e.restoreFocusOptions,N=e.onEntered,z=e.onExit,D=e.onExiting,F=e.onEnter,j=e.onEntering,U=e.onExited,W=e.backdropClassName,K=e.manager,G=Object(r.a)(e,["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]),V=Object(p.useState)({}),Z=V[0],H=V[1],Y=Object(p.useState)(!1),X=Y[0],$=Y[1],ee=Object(p.useRef)(!1),te=Object(p.useRef)(!1),ne=Object(p.useRef)(null),ie=Object(p.useState)(null),oe=ie[0],ae=ie[1],se=Object(f.a)(O);n=Object(J.a)(n,"modal"),Object(p.useImperativeHandle)(t,(function(){return{get _modal(){return oe}}}),[oe]);var le=Object(p.useMemo)((function(){return{onHide:se}}),[se]);function ce(){return K||(re||(re=new q),re)}function ue(e){if(c.a){var t=ce().isContainerOverflowing(oe),n=e.scrollHeight>Object(u.a)(e).documentElement.clientHeight;H({paddingRight:t&&!n?d():void 0,paddingLeft:!t&&n?d():void 0})}}var pe=Object(f.a)((function(){oe&&ue(oe.dialog)}));Object(g.a)((function(){Object(h.a)(window,"resize",pe),ne.current&&ne.current()}));var me=function(){ee.current=!0},fe=function(e){ee.current&&oe&&e.target===oe.dialog&&(te.current=!0),ee.current=!1},ge=function(){$(!0),ne.current=Object(_.a)(oe.dialog,(function(){$(!1)}))},_e=function(e){"static"!==x?te.current||e.target!==e.currentTarget?te.current=!1:O():function(e){e.target===e.currentTarget&&ge()}(e)},ve=Object(p.useCallback)((function(e){return m.a.createElement("div",Object(o.a)({},e,{className:s()(n+"-backdrop",W,!S&&"show")}))}),[S,W,n]),ye=Object(o.a)({},a,{},Z);S||(ye.display="block");return m.a.createElement(Q.Provider,{value:le},m.a.createElement(B,{show:E,ref:ae,backdrop:x,container:M,keyboard:!0,autoFocus:A,enforceFocus:P,restoreFocus:R,restoreFocusOptions:I,onEscapeKeyDown:function(e){k||"static"!==x?k&&L&&L(e):(e.preventDefault(),ge())},onShow:T,onHide:O,onEnter:function(e){e&&(e.style.display="block",ue(e));for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];F&&F.apply(void 0,[e].concat(n))},onEntering:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];j&&j.apply(void 0,[e].concat(n)),Object(l.a)(window,"resize",pe)},onEntered:N,onExit:function(e){ne.current&&ne.current();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];z&&z.apply(void 0,[e].concat(n))},onExiting:D,onExited:function(e){e&&(e.style.display="");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];U&&U.apply(void 0,n),Object(h.a)(window,"resize",pe)},manager:ce(),containerClassName:n+"-open",transition:S?he:void 0,backdropTransition:S?de:void 0,renderBackdrop:ve,renderDialog:function(e){return m.a.createElement("div",Object(o.a)({role:"dialog"},e,{style:ye,className:s()(i,n,X&&n+"-static"),onClick:x?_e:void 0,onMouseUp:fe,"aria-labelledby":C}),m.a.createElement(w,Object(o.a)({},G,{role:"document",onMouseDown:me,className:v,contentClassName:y}),b))}}))}));pe.displayName="Modal",pe.defaultProps=ue,pe.Body=$,pe.Header=ae,pe.Title=ce,pe.Footer=ne,pe.Dialog=te,pe.TRANSITION_DURATION=300,pe.BACKDROP_TRANSITION_DURATION=150;t.a=pe},function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(4),a=n.n(r),s=n(0),l=n.n(s),c=(n(36),n(5)),u=n.n(c),h={type:u.a.string,tooltip:u.a.bool,as:u.a.elementType},d=l.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,s=e.className,c=e.type,u=void 0===c?"valid":c,h=e.tooltip,d=void 0!==h&&h,p=Object(o.a)(e,["as","className","type","tooltip"]);return l.a.createElement(r,Object(i.a)({},p,{ref:t,className:a()(s,u+"-"+(d?"tooltip":"feedback"))}))}));d.displayName="Feedback",d.propTypes=h;var p=d,m=l.a.createContext({controlId:void 0}),f=n(6),g=l.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,c=e.bsCustomPrefix,u=e.className,h=e.type,d=void 0===h?"checkbox":h,p=e.isValid,g=void 0!==p&&p,_=e.isInvalid,v=void 0!==_&&_,y=e.isStatic,b=e.as,w=void 0===b?"input":b,C=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),E=Object(s.useContext)(m),S=E.controlId,x=E.custom?[c,"custom-control-input"]:[r,"form-check-input"],k=x[0],L=x[1];return r=Object(f.a)(k,L),l.a.createElement(w,Object(i.a)({},C,{ref:t,type:d,id:n||S,className:a()(u,r,g&&"is-valid",v&&"is-invalid",y&&"position-static")}))}));g.displayName="FormCheckInput";var _=g,v=l.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bsCustomPrefix,c=e.className,u=e.htmlFor,h=Object(o.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),d=Object(s.useContext)(m),p=d.controlId,g=d.custom?[r,"custom-control-label"]:[n,"form-check-label"],_=g[0],v=g[1];return n=Object(f.a)(_,v),l.a.createElement("label",Object(i.a)({},h,{ref:t,htmlFor:u||p,className:a()(c,n)}))}));v.displayName="FormCheckLabel";var y=v,b=l.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,c=e.bsCustomPrefix,u=e.inline,h=void 0!==u&&u,d=e.disabled,g=void 0!==d&&d,v=e.isValid,b=void 0!==v&&v,w=e.isInvalid,C=void 0!==w&&w,E=e.feedbackTooltip,S=void 0!==E&&E,x=e.feedback,k=e.className,L=e.style,T=e.title,O=void 0===T?"":T,M=e.type,A=void 0===M?"checkbox":M,P=e.label,R=e.children,I=e.custom,N=e.as,z=void 0===N?"input":N,D=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),F="switch"===A||I,j=F?[c,"custom-control"]:[r,"form-check"],U=j[0],B=j[1];r=Object(f.a)(U,B);var W=Object(s.useContext)(m).controlId,K=Object(s.useMemo)((function(){return{controlId:n||W,custom:F}}),[W,F,n]),G=F||null!=P&&!1!==P&&!R,V=l.a.createElement(_,Object(i.a)({},D,{type:"switch"===A?"checkbox":A,ref:t,isValid:b,isInvalid:C,isStatic:!G,disabled:g,as:z}));return l.a.createElement(m.Provider,{value:K},l.a.createElement("div",{style:L,className:a()(k,r,F&&"custom-"+A,h&&r+"-inline")},R||l.a.createElement(l.a.Fragment,null,V,G&&l.a.createElement(y,{title:O},P),(b||C)&&l.a.createElement(p,{type:b?"valid":"invalid",tooltip:S},x))))}));b.displayName="FormCheck",b.Input=_,b.Label=y;var w=b,C=l.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,c=e.bsCustomPrefix,u=e.className,h=e.isValid,d=e.isInvalid,p=e.lang,g=e.as,_=void 0===g?"input":g,v=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),y=Object(s.useContext)(m),b=y.controlId,w=y.custom?[c,"custom-file-input"]:[r,"form-control-file"],C=w[0],E=w[1];return r=Object(f.a)(C,E),l.a.createElement(_,Object(i.a)({},v,{ref:t,id:n||b,type:"file",lang:p,className:a()(u,r,h&&"is-valid",d&&"is-invalid")}))}));C.displayName="FormFileInput";var E=C,S=l.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bsCustomPrefix,c=e.className,u=e.htmlFor,h=Object(o.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),d=Object(s.useContext)(m),p=d.controlId,g=d.custom?[r,"custom-file-label"]:[n,"form-file-label"],_=g[0],v=g[1];return n=Object(f.a)(_,v),l.a.createElement("label",Object(i.a)({},h,{ref:t,htmlFor:u||p,className:a()(c,n),"data-browse":h["data-browse"]}))}));S.displayName="FormFileLabel";var x=S,k=l.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,c=e.bsCustomPrefix,u=e.disabled,h=void 0!==u&&u,d=e.isValid,g=void 0!==d&&d,_=e.isInvalid,v=void 0!==_&&_,y=e.feedbackTooltip,b=void 0!==y&&y,w=e.feedback,C=e.className,S=e.style,k=e.label,L=e.children,T=e.custom,O=e.lang,M=e["data-browse"],A=e.as,P=void 0===A?"div":A,R=e.inputAs,I=void 0===R?"input":R,N=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),z=T?[c,"custom"]:[r,"form-file"],D=z[0],F=z[1];r=Object(f.a)(D,F);var j=Object(s.useContext)(m).controlId,U=Object(s.useMemo)((function(){return{controlId:n||j,custom:T}}),[j,T,n]),B=null!=k&&!1!==k&&!L,W=l.a.createElement(E,Object(i.a)({},N,{ref:t,isValid:g,isInvalid:v,disabled:h,as:I,lang:O}));return l.a.createElement(m.Provider,{value:U},l.a.createElement(P,{style:S,className:a()(C,r,T&&"custom-file")},L||l.a.createElement(l.a.Fragment,null,T?l.a.createElement(l.a.Fragment,null,W,B&&l.a.createElement(x,{"data-browse":M},k)):l.a.createElement(l.a.Fragment,null,B&&l.a.createElement(x,null,k),W),(g||v)&&l.a.createElement(p,{type:g?"valid":"invalid",tooltip:b},w))))}));k.displayName="FormFile",k.Input=E,k.Label=x;var L=k,T=(n(37),l.a.forwardRef((function(e,t){var n,r,c=e.bsPrefix,u=e.bsCustomPrefix,h=e.type,d=e.size,p=e.htmlSize,g=e.id,_=e.className,v=e.isValid,y=void 0!==v&&v,b=e.isInvalid,w=void 0!==b&&b,C=e.plaintext,E=e.readOnly,S=e.custom,x=e.as,k=void 0===x?"input":x,L=Object(o.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),T=Object(s.useContext)(m).controlId,O=S?[u,"custom"]:[c,"form-control"],M=O[0],A=O[1];if(c=Object(f.a)(M,A),C)(r={})[c+"-plaintext"]=!0,n=r;else if("file"===h){var P;(P={})[c+"-file"]=!0,n=P}else if("range"===h){var R;(R={})[c+"-range"]=!0,n=R}else if("select"===k&&S){var I;(I={})[c+"-select"]=!0,I[c+"-select-"+d]=d,n=I}else{var N;(N={})[c]=!0,N[c+"-"+d]=d,n=N}return l.a.createElement(k,Object(i.a)({},L,{type:h,size:p,ref:t,readOnly:E,id:g||T,className:a()(_,n,y&&"is-valid",w&&"is-invalid")}))})));T.displayName="FormControl";var O=Object.assign(T,{Feedback:p}),M=l.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,c=e.children,u=e.controlId,h=e.as,d=void 0===h?"div":h,p=Object(o.a)(e,["bsPrefix","className","children","controlId","as"]);n=Object(f.a)(n,"form-group");var g=Object(s.useMemo)((function(){return{controlId:u}}),[u]);return l.a.createElement(m.Provider,{value:g},l.a.createElement(d,Object(i.a)({},p,{ref:t,className:a()(r,n)}),c))}));M.displayName="FormGroup";var A=M,P=n(43),R=l.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"label":n,c=e.bsPrefix,u=e.column,h=e.srOnly,d=e.className,p=e.htmlFor,g=Object(o.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),_=Object(s.useContext)(m).controlId;c=Object(f.a)(c,"form-label");var v="col-form-label";"string"===typeof u&&(v=v+" "+v+"-"+u);var y=a()(d,c,h&&"sr-only",u&&v);return p=p||_,u?l.a.createElement(P.a,Object(i.a)({as:"label",className:y,htmlFor:p},g)):l.a.createElement(r,Object(i.a)({ref:t,className:y,htmlFor:p},g))}));R.displayName="FormLabel",R.defaultProps={column:!1,srOnly:!1};var I=R,N=l.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,s=e.as,c=void 0===s?"small":s,u=e.muted,h=Object(o.a)(e,["bsPrefix","className","as","muted"]);return n=Object(f.a)(n,"form-text"),l.a.createElement(c,Object(i.a)({},h,{ref:t,className:a()(r,n,u&&"text-muted")}))}));N.displayName="FormText";var z=N,D=l.a.forwardRef((function(e,t){return l.a.createElement(w,Object(i.a)({},e,{ref:t,type:"switch"}))}));D.displayName="Switch",D.Input=w.Input,D.Label=w.Label;var F=D,j=n(11),U=Object(j.a)("form-row"),B=l.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.inline,s=e.className,c=e.validated,u=e.as,h=void 0===u?"form":u,d=Object(o.a)(e,["bsPrefix","inline","className","validated","as"]);return n=Object(f.a)(n,"form"),l.a.createElement(h,Object(i.a)({},d,{ref:t,className:a()(s,c&&"was-validated",r&&n+"-inline")}))}));B.displayName="Form",B.defaultProps={inline:!1},B.Row=U,B.Group=A,B.Control=O,B.Check=w,B.File=L,B.Switch=F,B.Label=I,B.Text=z;t.a=B},function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(4),a=n.n(r),s=n(0),l=n.n(s);n(38);function c(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function u(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function h(e,t){return Object.keys(t).reduce((function(n,r){var a,l=n,h=l[c(r)],d=l[r],p=Object(o.a)(l,[c(r),r].map(u)),m=t[r],f=function(e,t,n){var i=Object(s.useRef)(void 0!==e),o=Object(s.useState)(t),r=o[0],a=o[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&r!==t&&a(t),[l?e:r,Object(s.useCallback)((function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];n&&n.apply(void 0,[e].concat(i)),a(e)}),[n])]}(d,h,e[m]),g=f[0],_=f[1];return Object(i.a)({},p,((a={})[r]=g,a[m]=_,a))}),e)}n(8);function d(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function p(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function m(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}d.__suppressDeprecationWarning=!0,p.__suppressDeprecationWarning=!0,m.__suppressDeprecationWarning=!0;var f=n(10),g=n(6),_=n(18),v=n(20),y=n(30),b=n(11),w=n(31),C=Object(y.a)("h4");C.displayName="DivStyledAsH4";var E=Object(b.a)("alert-heading",{Component:C}),S=Object(b.a)("alert-link",{Component:w.a}),x={show:!0,transition:_.a,closeLabel:"Close alert"},k=l.a.forwardRef((function(e,t){var n=h(e,{show:"onClose"}),r=n.bsPrefix,s=n.show,c=n.closeLabel,u=n.className,d=n.children,p=n.variant,m=n.onClose,y=n.dismissible,b=n.transition,w=Object(o.a)(n,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),C=Object(g.a)(r,"alert"),E=Object(f.a)((function(e){m&&m(!1,e)})),S=!0===b?_.a:b,x=l.a.createElement("div",Object(i.a)({role:"alert"},S?w:void 0,{ref:t,className:a()(u,C,p&&C+"-"+p,y&&C+"-dismissible")}),y&&l.a.createElement(v.a,{onClick:E,label:c}),d);return S?l.a.createElement(S,Object(i.a)({unmountOnExit:!0},w,{ref:void 0,in:s}),x):s?x:null}));k.displayName="Alert",k.defaultProps=x,k.Link=S,k.Heading=E;t.a=k},function(e,t,n){"use strict";var i=n(2),o=n(3),r=n(0),a=n.n(r),s=n(4),l=n.n(s),c=n(29),u=n(21),h=Math.pow(2,31)-1;function d(e,t,n){var i=n-Date.now();e.current=i<=h?setTimeout(t,i):setTimeout((function(){return d(e,t,n)}),h)}function p(){var e=Object(c.a)(),t=Object(r.useRef)();return Object(u.a)((function(){return clearTimeout(t.current)})),Object(r.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(i,o){void 0===o&&(o=0),e()&&(n(),o<=h?t.current=setTimeout(i,o):d(t,i,Date.now()+o))},clear:n}}),[])}var m=n(18),f=n(10),g=n(6),_=n(20),v=a.a.createContext({onClose:function(){}}),y=a.a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.closeLabel,c=e.closeButton,u=e.className,h=e.children,d=Object(o.a)(e,["bsPrefix","closeLabel","closeButton","className","children"]);n=Object(g.a)(n,"toast-header");var p=Object(r.useContext)(v),m=Object(f.a)((function(e){p&&p.onClose&&p.onClose(e)}));return a.a.createElement("div",Object(i.a)({ref:t},d,{className:l()(n,u)}),h,c&&a.a.createElement(_.a,{label:s,onClick:m,className:"ml-2 mb-1","data-dismiss":"toast"}))}));y.displayName="ToastHeader",y.defaultProps={closeLabel:"Close",closeButton:!0};var b=y,w=n(11),C=Object(w.a)("toast-body"),E=a.a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,c=e.children,u=e.transition,h=void 0===u?m.a:u,d=e.show,f=void 0===d||d,_=e.animation,y=void 0===_||_,b=e.delay,w=void 0===b?3e3:b,C=e.autohide,E=void 0!==C&&C,S=e.onClose,x=Object(o.a)(e,["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"]);n=Object(g.a)(n,"toast");var k=Object(r.useRef)(w),L=Object(r.useRef)(S);Object(r.useEffect)((function(){k.current=w,L.current=S}),[w,S]);var T=p(),O=!(!E||!f),M=Object(r.useCallback)((function(){O&&(null==L.current||L.current())}),[O]);Object(r.useEffect)((function(){T.set(M,k.current)}),[T,M]);var A=Object(r.useMemo)((function(){return{onClose:S}}),[S]),P=!(!h||!y),R=a.a.createElement("div",Object(i.a)({},x,{ref:t,className:l()(n,s,!P&&(f?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),c);return a.a.createElement(v.Provider,{value:A},P&&h?a.a.createElement(h,{in:f,unmountOnExit:!0},R):R)}));E.displayName="Toast";t.a=Object.assign(E,{Body:C,Header:b})}]]);
//# sourceMappingURL=2.671f91d1.chunk.js.map